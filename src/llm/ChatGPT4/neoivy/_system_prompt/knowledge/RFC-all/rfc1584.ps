%!PS-Adobe-3.0
%%BoundingBox: (atend)
%%Pages: (atend)
%%PageOrder: (atend)
%%DocumentFonts: (atend)
%%Creator: Frame 4.0
%%DocumentData: Clean7Bit
%%EndComments
%%BeginProlog
%
% Frame ps_prolog 4.0, for use with Frame 4.0 products
% This ps_prolog file is Copyright (c) 1986-1993 Frame Technology
% Corporation.  All rights reserved.  This ps_prolog file may be
% freely copied and distributed in conjunction with documents created
% using FrameMaker, FrameBuilder and FrameViewer as long as this 
% copyright notice is preserved.
%
% Frame products normally print colors as their true color on a color printer
% or as shades of gray, based on luminance, on a black-and white printer. The
% following flag, if set to True, forces all non-white colors to print as pure
% black. This has no effect on bitmap images.
/FMPrintAllColorsAsBlack             false def
%
% Frame products can either set their own line screens or use a printer's 
% default settings. Three flags below control this separately for no 
% separations, spot separations and process separations. If a flag
% is true, then the default printer settings will not be changed. If it is
% false, Frame products will use their own settings from a table based on
% the printer's resolution.
/FMUseDefaultNoSeparationScreen      true  def
/FMUseDefaultSpotSeparationScreen    true  def
/FMUseDefaultProcessSeparationScreen false def
%
% For any given PostScript printer resolution, Frame products have two sets of 
% screen angles and frequencies for printing process separations, which are 
% recomended by Adobe. The following variable chooses the higher frequencies
% when set to true or the lower frequencies when set to false. This is only
% effective if the appropriate FMUseDefault...SeparationScreen flag is false.
/FMUseHighFrequencyScreens true def
%
% PostScript Level 2 printers contain an "Accurate Screens" feature which can
% improve process separation rendering at the expense of compute time. This 
% flag is ignored by PostScript Level 1 printers.
/FMUseAcccurateScreens true def
%
% The following PostScript procedure defines the spot function that Frame
% products will use for process separations. You may un-comment-out one of
% the alternative functions below, or use your own.
%
% Dot function
/FMSpotFunction {abs exch abs 2 copy add 1 gt 
		{1 sub dup mul exch 1 sub dup mul add 1 sub }
		{dup mul exch dup mul add 1 exch sub }ifelse } def
%
% Line function
% /FMSpotFunction { pop } def
%
% Elipse function
% /FMSpotFunction { dup 5 mul 8 div mul exch dup mul exch add 
%		sqrt 1 exch sub } def
%
%
/FMversion (4.0) def 
/FMLevel1 /languagelevel where {pop languagelevel} {1} ifelse 2 lt def
/FMPColor
	FMLevel1 {
		false
		/colorimage where {pop pop true} if
	} {
		true
	} ifelse
def
/FrameDict 400 dict def 
systemdict /errordict known not {/errordict 10 dict def
		errordict /rangecheck {stop} put} if
% The readline in PS 23.0 doesn't recognize cr's as nl's on AppleTalk
FrameDict /tmprangecheck errordict /rangecheck get put 
errordict /rangecheck {FrameDict /bug true put} put 
FrameDict /bug false put 
mark 
% Some PS machines read past the CR, so keep the following 3 lines together!
currentfile 5 string readline
00
0000000000
cleartomark 
errordict /rangecheck FrameDict /tmprangecheck get put 
FrameDict /bug get { 
	/readline {
		/gstring exch def
		/gfile exch def
		/gindex 0 def
		{
			gfile read pop 
			dup 10 eq {exit} if 
			dup 13 eq {exit} if 
			gstring exch gindex exch put 
			/gindex gindex 1 add def 
		} loop
		pop 
		gstring 0 gindex getinterval true 
		} bind def
	} if
/FMshowpage /showpage load def
/FMquit /quit load def
/FMFAILURE { 
	dup = flush 
	FMshowpage 
	/Helvetica findfont 12 scalefont setfont
	72 200 moveto
	show FMshowpage 
	FMquit 
	} def 
/FMVERSION {
	FMversion ne {
		(Frame product version does not match ps_prolog!) FMFAILURE
		} if
	} def 
/FMBADEPSF { 
	(PostScript Lang. Ref. Man., 2nd Ed., H.2.4 says EPS must not call X              )
	dup dup (X) search pop exch pop exch pop length 
	4 -1 roll 
	putinterval 
	FMFAILURE
	} def
/FMLOCAL {
	FrameDict begin
	0 def 
	end 
	} def 
/concatprocs
	{
	/proc2 exch cvlit def/proc1 exch cvlit def/newproc proc1 length proc2 length add array def
	newproc 0 proc1 putinterval newproc proc1 length proc2 putinterval newproc cvx
}def
FrameDict begin 
/FMnone 0 def
/FMcyan 1 def
/FMmagenta 2 def
/FMyellow 3 def
/FMblack 4 def
/FMcustom 5 def
/FrameNegative false def 
/FrameSepIs FMnone def 
/FrameSepBlack 0 def
/FrameSepYellow 0 def
/FrameSepMagenta 0 def
/FrameSepCyan 0 def
/FrameSepRed 1 def
/FrameSepGreen 1 def
/FrameSepBlue 1 def
/FrameCurGray 1 def
/FrameCurPat null def
/FrameCurColors [ 0 0 0 1 0 0 0 ] def 
/FrameColorEpsilon .001 def	
/eqepsilon {		
	sub dup 0 lt {neg} if
	FrameColorEpsilon le
} bind def
/FrameCmpColorsCMYK { 
	2 copy 0 get exch 0 get eqepsilon {
		2 copy 1 get exch 1 get eqepsilon {
			2 copy 2 get exch 2 get eqepsilon {
				3 get exch 3 get eqepsilon
			} {pop pop false} ifelse
		}{pop pop false} ifelse
	} {pop pop false} ifelse
} bind def
/FrameCmpColorsRGB { 
	2 copy 4 get exch 0 get eqepsilon {
		2 copy 5 get exch 1 get eqepsilon {
			6 get exch 2 get eqepsilon
		}{pop pop false} ifelse
	} {pop pop false} ifelse
} bind def
/RGBtoCMYK { 
	1 exch sub 
	3 1 roll 
	1 exch sub 
	3 1 roll 
	1 exch sub 
	3 1 roll 
	3 copy 
	2 copy 
	le { pop } { exch pop } ifelse 
	2 copy 
	le { pop } { exch pop } ifelse 
	dup dup dup 
	6 1 roll 
	4 1 roll 
	7 1 roll 
	sub 
	6 1 roll 
	sub 
	5 1 roll 
	sub 
	4 1 roll 
} bind def
/CMYKtoRGB { 
	dup dup 4 -1 roll add 						  
	5 1 roll 3 -1 roll add 						  
	4 1 roll add 								  
	1 exch sub dup 0 lt {pop 0} if 3 1 roll 	  
	1 exch sub dup 0 lt {pop 0} if exch 	      
	1 exch sub dup 0 lt {pop 0} if exch	  		  
} bind def
/FrameSepInit {
	1.0 RealSetgray
} bind def
/FrameSetSepColor { 
	/FrameSepBlue exch def
	/FrameSepGreen exch def
	/FrameSepRed exch def
	/FrameSepBlack exch def
	/FrameSepYellow exch def
	/FrameSepMagenta exch def
	/FrameSepCyan exch def
	/FrameSepIs FMcustom def
	setCurrentScreen	
} bind def
/FrameSetCyan {
	/FrameSepBlue 1.0 def
	/FrameSepGreen 1.0 def
	/FrameSepRed 0.0 def
	/FrameSepBlack 0.0 def
	/FrameSepYellow 0.0 def
	/FrameSepMagenta 0.0 def
	/FrameSepCyan 1.0 def
	/FrameSepIs FMcyan def
	setCurrentScreen	
} bind def
 
/FrameSetMagenta {
	/FrameSepBlue 1.0 def
	/FrameSepGreen 0.0 def
	/FrameSepRed 1.0 def
	/FrameSepBlack 0.0 def
	/FrameSepYellow 0.0 def
	/FrameSepMagenta 1.0 def
	/FrameSepCyan 0.0 def
	/FrameSepIs FMmagenta def
	setCurrentScreen
} bind def
 
/FrameSetYellow {
	/FrameSepBlue 0.0 def
	/FrameSepGreen 1.0 def
	/FrameSepRed 1.0 def
	/FrameSepBlack 0.0 def
	/FrameSepYellow 1.0 def
	/FrameSepMagenta 0.0 def
	/FrameSepCyan 0.0 def
	/FrameSepIs FMyellow def
	setCurrentScreen
} bind def
 
/FrameSetBlack {
	/FrameSepBlue 0.0 def
	/FrameSepGreen 0.0 def
	/FrameSepRed 0.0 def
	/FrameSepBlack 1.0 def
	/FrameSepYellow 0.0 def
	/FrameSepMagenta 0.0 def
	/FrameSepCyan 0.0 def
	/FrameSepIs FMblack def
	setCurrentScreen
} bind def
 
/FrameNoSep { 
	/FrameSepIs FMnone def
	setCurrentScreen
} bind def
/FrameSetSepColors { 
	FrameDict begin
	[ exch 1 add 1 roll ]
	/FrameSepColors  
	exch def end
	} bind def
/FrameColorInSepListCMYK { 
	FrameSepColors {  
       		exch dup 3 -1 roll 
       		FrameCmpColorsCMYK 
       		{ pop true exit } if
    	} forall 
	dup true ne {pop false} if
	} bind def
/FrameColorInSepListRGB { 
	FrameSepColors {  
       		exch dup 3 -1 roll 
       		FrameCmpColorsRGB 
       		{ pop true exit } if
    	} forall 
	dup true ne {pop false} if
	} bind def
/RealSetgray /setgray load def
/RealSetrgbcolor /setrgbcolor load def
/RealSethsbcolor /sethsbcolor load def
end 
/setgray { 
	FrameDict begin
	FrameSepIs FMnone eq
		{ RealSetgray } 
		{ 
		FrameSepIs FMblack eq 
			{ RealSetgray } 
			{ FrameSepIs FMcustom eq 
			  FrameSepRed 0 eq and
			  FrameSepGreen 0 eq and
			  FrameSepBlue 0 eq and {
			  	RealSetgray
			  } {
				1 RealSetgray pop 
			  } ifelse
			} ifelse
		} ifelse
	end
} bind def
/setrgbcolor { 
	FrameDict begin
	FrameSepIs FMnone eq
	{  RealSetrgbcolor }
	{
		3 copy [ 4 1 roll ] 
		FrameColorInSepListRGB
		{
				FrameSepBlue eq exch 
			 	FrameSepGreen eq and exch 
			 	FrameSepRed eq and
			 	{ 0 } { 1 } ifelse
		}
		{
			FMPColor {
				RealSetrgbcolor
				currentcmykcolor
			} {
				RGBtoCMYK
			} ifelse
			FrameSepIs FMblack eq
			{1.0 exch sub 4 1 roll pop pop pop} {
			FrameSepIs FMyellow eq
			{pop 1.0 exch sub 3 1 roll pop pop} {
			FrameSepIs FMmagenta eq
			{pop pop 1.0 exch sub exch pop } {
			FrameSepIs FMcyan eq
			{pop pop pop 1.0 exch sub } 
			{pop pop pop pop 1} ifelse } ifelse } ifelse } ifelse 
		} ifelse
		RealSetgray
	} 
	ifelse
	end
} bind def
/sethsbcolor {
	FrameDict begin
	FrameSepIs FMnone eq 
	{ RealSethsbcolor } 
	{
		RealSethsbcolor 
		currentrgbcolor  
		setrgbcolor 
	} 
	ifelse
	end
} bind def
FrameDict begin
/setcmykcolor where {
	pop /RealSetcmykcolor /setcmykcolor load def
} {
	/RealSetcmykcolor {
		4 1 roll
		3 { 3 index add 0 max 1 min 1 exch sub 3 1 roll} repeat 
		setrgbcolor pop
	} bind def
} ifelse
userdict /setcmykcolor { 
		FrameDict begin
		FrameSepIs FMnone eq
		{ RealSetcmykcolor } 
		{
			4 copy [ 5 1 roll ]
			FrameColorInSepListCMYK
			{
				FrameSepBlack eq exch 
				FrameSepYellow eq and exch 
				FrameSepMagenta eq and exch 
				FrameSepCyan eq and 
				{ 0 } { 1 } ifelse
			}
			{
				FrameSepIs FMblack eq
				{1.0 exch sub 4 1 roll pop pop pop} {
				FrameSepIs FMyellow eq
				{pop 1.0 exch sub 3 1 roll pop pop} {
				FrameSepIs FMmagenta eq
				{pop pop 1.0 exch sub exch pop } {
				FrameSepIs FMcyan eq
				{pop pop pop 1.0 exch sub } 
				{pop pop pop pop 1} ifelse } ifelse } ifelse } ifelse 
			} ifelse
			RealSetgray
		}
		ifelse
		end
	} bind put
FMLevel1 not { 
	
	/patProcDict 5 dict dup begin
		<0f1e3c78f0e1c387> { 3 setlinewidth -1 -1 moveto 9 9 lineto stroke 
											4 -4 moveto 12 4 lineto stroke
											-4 4 moveto 4 12 lineto stroke} bind def
		<0f87c3e1f0783c1e> { 3 setlinewidth -1 9 moveto 9 -1 lineto stroke 
											-4 4 moveto 4 -4 lineto stroke
											4 12 moveto 12 4 lineto stroke} bind def
		<8142241818244281> { 1 setlinewidth -1 9 moveto 9 -1 lineto stroke
											-1 -1 moveto 9 9 lineto stroke } bind def
		<03060c183060c081> { 1 setlinewidth -1 -1 moveto 9 9 lineto stroke 
											4 -4 moveto 12 4 lineto stroke
											-4 4 moveto 4 12 lineto stroke} bind def
		<8040201008040201> { 1 setlinewidth -1 9 moveto 9 -1 lineto stroke 
											-4 4 moveto 4 -4 lineto stroke
											4 12 moveto 12 4 lineto stroke} bind def
	end def
	/patDict 15 dict dup begin
		/PatternType 1 def		
		/PaintType 2 def		
		/TilingType 3 def		
		/BBox [ 0 0 8 8 ] def 	
		/XStep 8 def			
		/YStep 8 def			
		/PaintProc {
			begin
			patProcDict bstring known {
				patProcDict bstring get exec
			} {
				8 8 true [1 0 0 -1 0 8] bstring imagemask
			} ifelse
			end
		} bind def
	end def
} if
/combineColor {
    FrameSepIs FMnone eq
	{
		graymode FMLevel1 or not {
			
			[/Pattern [/DeviceCMYK]] setcolorspace
			FrameCurColors 0 4 getinterval aload pop FrameCurPat setcolor
		} {
			FrameCurColors 3 get 1.0 ge {
				FrameCurGray RealSetgray
			} {
				FMPColor graymode and {
					0 1 3 { 
						FrameCurColors exch get
						1 FrameCurGray sub mul
					} for
					RealSetcmykcolor
				} {
					4 1 6 {
						FrameCurColors exch get
						graymode {
							1 exch sub 1 FrameCurGray sub mul 1 exch sub
						} {
							1.0 lt {FrameCurGray} {1} ifelse
						} ifelse
					} for
					RealSetrgbcolor
				} ifelse
			} ifelse
		} ifelse
	} { 
		FrameCurColors 0 4 getinterval aload
		FrameColorInSepListCMYK {
			FrameSepBlack eq exch 
			FrameSepYellow eq and exch 
			FrameSepMagenta eq and exch 
			FrameSepCyan eq and
			FrameSepIs FMcustom eq and
			{ FrameCurGray } { 1 } ifelse
		} {
			FrameSepIs FMblack eq
			{FrameCurGray 1.0 exch sub mul 1.0 exch sub 4 1 roll pop pop pop} {
			FrameSepIs FMyellow eq
			{pop FrameCurGray 1.0 exch sub mul 1.0 exch sub 3 1 roll pop pop} {
			FrameSepIs FMmagenta eq
			{pop pop FrameCurGray 1.0 exch sub mul 1.0 exch sub exch pop } {
			FrameSepIs FMcyan eq
			{pop pop pop FrameCurGray 1.0 exch sub mul 1.0 exch sub } 
			{pop pop pop pop 1} ifelse } ifelse } ifelse } ifelse 
		} ifelse
		graymode FMLevel1 or not {
			
			[/Pattern [/DeviceGray]] setcolorspace
			FrameCurPat setcolor
		} { 
			graymode not FMLevel1 and {
				
				dup 1 lt {pop FrameCurGray} if
			} if
			RealSetgray
		} ifelse
	} ifelse
} bind def
/savematrix {
	orgmatrix currentmatrix pop
	} bind def
/restorematrix {
	orgmatrix setmatrix
	} bind def
/dmatrix matrix def
/dpi    72 0 dmatrix defaultmatrix dtransform
    dup mul exch   dup mul add   sqrt def
	
/freq dpi dup 72 div round dup 0 eq {pop 1} if 8 mul div def
/sangle 1 0 dmatrix defaultmatrix dtransform exch atan def
/dpiranges   [  2540    2400    1693     1270    1200     635      600      0      ] def
/CMLowFreqs  [ 100.402  94.8683 89.2289 100.402  94.8683  66.9349  63.2456 47.4342 ] def
/YLowFreqs   [  95.25   90.0    84.65    95.25   90.0     70.5556  66.6667 50.0    ] def
/KLowFreqs   [  89.8026 84.8528 79.8088  89.8026 84.8528  74.8355  70.7107 53.033  ] def
/CLowAngles  [  71.5651 71.5651 71.5651 71.5651  71.5651  71.5651  71.5651 71.5651 ] def
/MLowAngles  [  18.4349 18.4349 18.4349 18.4349  18.4349  18.4349  18.4349 18.4349 ] def
/YLowTDot    [  true    true    false    true    true     false    false   false   ] def
/CMHighFreqs [ 133.87  126.491 133.843  108.503 102.523  100.402   94.8683 63.2456 ] def
/YHighFreqs  [ 127.0   120.0   126.975  115.455 109.091   95.25    90.0    60.0    ] def
/KHighFreqs  [ 119.737 113.137 119.713  128.289 121.218   89.8026  84.8528 63.6395 ] def
/CHighAngles [  71.5651 71.5651 71.5651  70.0169 70.0169  71.5651  71.5651 71.5651 ] def
/MHighAngles [  18.4349 18.4349 18.4349  19.9831 19.9831  18.4349  18.4349 18.4349 ] def
/YHighTDot   [  false   false   true     false   false    true     true    false   ] def
/PatFreq     [	10.5833 10.0     9.4055  10.5833 10.0	  10.5833  10.0	   9.375   ] def
/screenIndex {
	0 1 dpiranges length 1 sub { dup dpiranges exch get 1 sub dpi le {exit} {pop} ifelse } for
} bind def
/getCyanScreen {
	FMUseHighFrequencyScreens { CHighAngles CMHighFreqs} {CLowAngles CMLowFreqs} ifelse
		screenIndex dup 3 1 roll get 3 1 roll get /FMSpotFunction load
} bind def
/getMagentaScreen {
	FMUseHighFrequencyScreens { MHighAngles CMHighFreqs } {MLowAngles CMLowFreqs} ifelse
		screenIndex dup 3 1 roll get 3 1 roll get /FMSpotFunction load
} bind def
/getYellowScreen {
	FMUseHighFrequencyScreens { YHighTDot YHighFreqs} { YLowTDot YLowFreqs } ifelse
		screenIndex dup 3 1 roll get 3 1 roll get { 3 div
			{2 { 1 add 2 div 3 mul dup floor sub 2 mul 1 sub exch} repeat
			FMSpotFunction } } {/FMSpotFunction load } ifelse
			0.0 exch
} bind def
/getBlackScreen  {
	FMUseHighFrequencyScreens { KHighFreqs } { KLowFreqs } ifelse
		screenIndex get 45.0 /FMSpotFunction load 
} bind def
/getSpotScreen {
	getBlackScreen
} bind def
/getCompositeScreen {
	getBlackScreen
} bind def
/FMSetScreen 
	FMLevel1 { /setscreen load 
	}{ {
		8 dict begin
		/HalftoneType 1 def
		/SpotFunction exch def
		/Angle exch def
		/Frequency exch def
		/AccurateScreens FMUseAcccurateScreens def
		currentdict end sethalftone
	} bind } ifelse
def
/setDefaultScreen {
	FMPColor {
		orgrxfer cvx orggxfer cvx orgbxfer cvx orgxfer cvx setcolortransfer
	}
	{
		orgxfer cvx settransfer
	} ifelse
	orgfreq organgle orgproc cvx setscreen
} bind def
/setCurrentScreen {
	FrameSepIs FMnone eq {
		FMUseDefaultNoSeparationScreen {
			setDefaultScreen
		} {
			getCompositeScreen FMSetScreen
		} ifelse
	} {
		FrameSepIs FMcustom eq {
			FMUseDefaultSpotSeparationScreen {
				setDefaultScreen
			} {
				getSpotScreen FMSetScreen
			} ifelse
		} {
			FMUseDefaultProcessSeparationScreen {
				setDefaultScreen
			} {
				FrameSepIs FMcyan eq {
					getCyanScreen FMSetScreen
				} {
					FrameSepIs FMmagenta eq {
						getMagentaScreen FMSetScreen
					} {
						FrameSepIs FMyellow eq {
							getYellowScreen FMSetScreen
						} {
							getBlackScreen FMSetScreen
						} ifelse
					} ifelse
				} ifelse
			} ifelse
		} ifelse
	} ifelse 
} bind def
end
	/gstring FMLOCAL
	/gfile FMLOCAL
	/gindex FMLOCAL
	/orgrxfer FMLOCAL
	/orggxfer FMLOCAL
	/orgbxfer FMLOCAL
	/orgxfer FMLOCAL
	/orgproc FMLOCAL
	/orgrproc FMLOCAL
	/orggproc FMLOCAL
	/orgbproc FMLOCAL
	/organgle FMLOCAL
	/orgrangle FMLOCAL
	/orggangle FMLOCAL
	/orgbangle FMLOCAL
	/orgfreq FMLOCAL
	/orgrfreq FMLOCAL
	/orggfreq FMLOCAL
	/orgbfreq FMLOCAL
	/yscale FMLOCAL
	/xscale FMLOCAL
	/edown FMLOCAL
	/manualfeed FMLOCAL
	/paperheight FMLOCAL
	/paperwidth FMLOCAL
/FMDOCUMENT { 
	array /FMfonts exch def 
	/#copies exch def
	FrameDict begin
	0 ne /manualfeed exch def
	/paperheight exch def
	/paperwidth exch def
	0 ne /FrameNegative exch def 
	0 ne /edown exch def 
	/yscale exch def
	/xscale exch def
	FMLevel1 {
		manualfeed {setmanualfeed} if
		/FMdicttop countdictstack 1 add def 
		/FMoptop count def 
		setpapername 
		manualfeed {true} {papersize} ifelse 
		{manualpapersize} {false} ifelse 
		{desperatepapersize} {false} ifelse 
		{ (Can't select requested paper size for Frame print job!) FMFAILURE } if
		count -1 FMoptop {pop pop} for
		countdictstack -1 FMdicttop {pop end} for 
		}
		{{1 dict dup /PageSize [paperwidth paperheight]put setpagedevice}stopped
		{ (Can't select requested paper size for Frame print job!) FMFAILURE } if
		 {1 dict dup /ManualFeed manualfeed put setpagedevice } stopped pop }
	ifelse 
	
	FMPColor {
		currentcolorscreen
			cvlit /orgproc exch def
				  /organgle exch def 
				  /orgfreq exch def
			cvlit /orgbproc exch def
				  /orgbangle exch def 
				  /orgbfreq exch def
			cvlit /orggproc exch def
				  /orggangle exch def 
				  /orggfreq exch def
			cvlit /orgrproc exch def
				  /orgrangle exch def 
				  /orgrfreq exch def
			currentcolortransfer 
			FrameNegative {
				1 1 4 { 
					pop { 1 exch sub } concatprocs 4 1 roll
				} for
				4 copy
				setcolortransfer
			} if
			cvlit /orgxfer exch def
			cvlit /orgbxfer exch def
			cvlit /orggxfer exch def
			cvlit /orgrxfer exch def
	} {
		currentscreen 
			cvlit /orgproc exch def
				  /organgle exch def 
				  /orgfreq exch def
				  
		currenttransfer 
		FrameNegative {
			{ 1 exch sub } concatprocs
			dup settransfer
		} if 
		cvlit /orgxfer exch def
	} ifelse
	end 
} def 
/pagesave FMLOCAL
/orgmatrix FMLOCAL
/landscape FMLOCAL
/pwid FMLOCAL
/FMBEGINPAGE { 
	FrameDict begin 
	/pagesave save def
	3.86 setmiterlimit
	/landscape exch 0 ne def
	landscape { 
		90 rotate 0 exch dup /pwid exch def neg translate pop 
	}{
		pop /pwid exch def
	} ifelse
	edown { [-1 0 0 1 pwid 0] concat } if
	0 0 moveto paperwidth 0 lineto paperwidth paperheight lineto 
	0 paperheight lineto 0 0 lineto 1 setgray fill
	xscale yscale scale
	/orgmatrix matrix def
	gsave 
} def 
/FMENDPAGE {
	grestore 
	pagesave restore
	end 
	showpage
	} def 
/FMFONTDEFINE { 
	FrameDict begin
	findfont 
	ReEncode 
	1 index exch 
	definefont 
	FMfonts 3 1 roll 
	put
	end 
	} def 
/FMFILLS {
	FrameDict begin dup
	array /fillvals exch def
	dict /patCache exch def
	end 
	} def 
/FMFILL {
	FrameDict begin
	 fillvals 3 1 roll put
	end 
	} def 
/FMNORMALIZEGRAPHICS { 
	newpath
	0.0 0.0 moveto
	1 setlinewidth
	0 setlinecap
	0 0 0 sethsbcolor
	0 setgray 
	} bind def
	/fx FMLOCAL
	/fy FMLOCAL
	/fh FMLOCAL
	/fw FMLOCAL
	/llx FMLOCAL
	/lly FMLOCAL
	/urx FMLOCAL
	/ury FMLOCAL
/FMBEGINEPSF { 
	end 
	/FMEPSF save def 
	/showpage {} def 
% See Adobe's "PostScript Language Reference Manual, 2nd Edition", page 714.
% "...the following operators MUST NOT be used in an EPS file:" (emphasis ours)
	/banddevice {(banddevice) FMBADEPSF} def
	/clear {(clear) FMBADEPSF} def
	/cleardictstack {(cleardictstack) FMBADEPSF} def 
	/copypage {(copypage) FMBADEPSF} def
	/erasepage {(erasepage) FMBADEPSF} def
	/exitserver {(exitserver) FMBADEPSF} def
	/framedevice {(framedevice) FMBADEPSF} def
	/grestoreall {(grestoreall) FMBADEPSF} def
	/initclip {(initclip) FMBADEPSF} def
	/initgraphics {(initgraphics) FMBADEPSF} def
	/initmatrix {(initmatrix) FMBADEPSF} def
	/quit {(quit) FMBADEPSF} def
	/renderbands {(renderbands) FMBADEPSF} def
	/setglobal {(setglobal) FMBADEPSF} def
	/setpagedevice {(setpagedevice) FMBADEPSF} def
	/setshared {(setshared) FMBADEPSF} def
	/startjob {(startjob) FMBADEPSF} def
	/lettertray {(lettertray) FMBADEPSF} def
	/letter {(letter) FMBADEPSF} def
	/lettersmall {(lettersmall) FMBADEPSF} def
	/11x17tray {(11x17tray) FMBADEPSF} def
	/11x17 {(11x17) FMBADEPSF} def
	/ledgertray {(ledgertray) FMBADEPSF} def
	/ledger {(ledger) FMBADEPSF} def
	/legaltray {(legaltray) FMBADEPSF} def
	/legal {(legal) FMBADEPSF} def
	/statementtray {(statementtray) FMBADEPSF} def
	/statement {(statement) FMBADEPSF} def
	/executivetray {(executivetray) FMBADEPSF} def
	/executive {(executive) FMBADEPSF} def
	/a3tray {(a3tray) FMBADEPSF} def
	/a3 {(a3) FMBADEPSF} def
	/a4tray {(a4tray) FMBADEPSF} def
	/a4 {(a4) FMBADEPSF} def
	/a4small {(a4small) FMBADEPSF} def
	/b4tray {(b4tray) FMBADEPSF} def
	/b4 {(b4) FMBADEPSF} def
	/b5tray {(b5tray) FMBADEPSF} def
	/b5 {(b5) FMBADEPSF} def
	FMNORMALIZEGRAPHICS 
	[/fy /fx /fh /fw /ury /urx /lly /llx] {exch def} forall 
	fx fw 2 div add fy fh 2 div add  translate
	rotate
	fw 2 div neg fh 2 div neg translate
	fw urx llx sub div fh ury lly sub div scale 
	llx neg lly neg translate 
	/FMdicttop countdictstack 1 add def 
	/FMoptop count def 
	} bind def
/FMENDEPSF {
	count -1 FMoptop {pop pop} for 
	countdictstack -1 FMdicttop {pop end} for 
	FMEPSF restore
	FrameDict begin 
	} bind def
FrameDict begin 
/setmanualfeed {
%%BeginFeature *ManualFeed True
	 statusdict /manualfeed true put
%%EndFeature
	} bind def
/max {2 copy lt {exch} if pop} bind def
/min {2 copy gt {exch} if pop} bind def
/inch {72 mul} def
/pagedimen { 
	paperheight sub abs 16 lt exch 
	paperwidth sub abs 16 lt and
	{/papername exch def} {pop} ifelse
	} bind def
	/papersizedict FMLOCAL
/setpapername { 
	/papersizedict 14 dict def 
	papersizedict begin
	/papername /unknown def 
		/Letter 8.5 inch 11.0 inch pagedimen
		/LetterSmall 7.68 inch 10.16 inch pagedimen
		/Tabloid 11.0 inch 17.0 inch pagedimen
		/Ledger 17.0 inch 11.0 inch pagedimen
		/Legal 8.5 inch 14.0 inch pagedimen
		/Statement 5.5 inch 8.5 inch pagedimen
		/Executive 7.5 inch 10.0 inch pagedimen
		/A3 11.69 inch 16.5 inch pagedimen
		/A4 8.26 inch 11.69 inch pagedimen
		/A4Small 7.47 inch 10.85 inch pagedimen
		/B4 10.125 inch 14.33 inch pagedimen
		/B5 7.16 inch 10.125 inch pagedimen
	end
	} bind def
/papersize {
	papersizedict begin
		/Letter {lettertray letter} def
		/LetterSmall {lettertray lettersmall} def
		/Tabloid {11x17tray 11x17} def
		/Ledger {ledgertray ledger} def
		/Legal {legaltray legal} def
		/Statement {statementtray statement} def
		/Executive {executivetray executive} def
		/A3 {a3tray a3} def
		/A4 {a4tray a4} def
		/A4Small {a4tray a4small} def
		/B4 {b4tray b4} def
		/B5 {b5tray b5} def
		/unknown {unknown} def
	papersizedict dup papername known {papername} {/unknown} ifelse get
	end
	statusdict begin stopped end 
	} bind def
/manualpapersize {
	papersizedict begin
		/Letter {letter} def
		/LetterSmall {lettersmall} def
		/Tabloid {11x17} def
		/Ledger {ledger} def
		/Legal {legal} def
		/Statement {statement} def
		/Executive {executive} def
		/A3 {a3} def
		/A4 {a4} def
		/A4Small {a4small} def
		/B4 {b4} def
		/B5 {b5} def
		/unknown {unknown} def
	papersizedict dup papername known {papername} {/unknown} ifelse get
	end
	stopped 
	} bind def
/desperatepapersize {
	statusdict /setpageparams known
		{
		paperwidth paperheight 0 1 
		statusdict begin
		{setpageparams} stopped 
		end
		} {true} ifelse 
	} bind def
/DiacriticEncoding [
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /space /exclam /quotedbl
/numbersign /dollar /percent /ampersand /quotesingle /parenleft
/parenright /asterisk /plus /comma /hyphen /period /slash /zero /one
/two /three /four /five /six /seven /eight /nine /colon /semicolon
/less /equal /greater /question /at /A /B /C /D /E /F /G /H /I /J /K
/L /M /N /O /P /Q /R /S /T /U /V /W /X /Y /Z /bracketleft /backslash
/bracketright /asciicircum /underscore /grave /a /b /c /d /e /f /g /h
/i /j /k /l /m /n /o /p /q /r /s /t /u /v /w /x /y /z /braceleft /bar
/braceright /asciitilde /.notdef /Adieresis /Aring /Ccedilla /Eacute
/Ntilde /Odieresis /Udieresis /aacute /agrave /acircumflex /adieresis
/atilde /aring /ccedilla /eacute /egrave /ecircumflex /edieresis
/iacute /igrave /icircumflex /idieresis /ntilde /oacute /ograve
/ocircumflex /odieresis /otilde /uacute /ugrave /ucircumflex
/udieresis /dagger /.notdef /cent /sterling /section /bullet
/paragraph /germandbls /registered /copyright /trademark /acute
/dieresis /.notdef /AE /Oslash /.notdef /.notdef /.notdef /.notdef
/yen /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/ordfeminine /ordmasculine /.notdef /ae /oslash /questiondown
/exclamdown /logicalnot /.notdef /florin /.notdef /.notdef
/guillemotleft /guillemotright /ellipsis /.notdef /Agrave /Atilde
/Otilde /OE /oe /endash /emdash /quotedblleft /quotedblright
/quoteleft /quoteright /.notdef /.notdef /ydieresis /Ydieresis
/fraction /currency /guilsinglleft /guilsinglright /fi /fl /daggerdbl
/periodcentered /quotesinglbase /quotedblbase /perthousand
/Acircumflex /Ecircumflex /Aacute /Edieresis /Egrave /Iacute
/Icircumflex /Idieresis /Igrave /Oacute /Ocircumflex /.notdef /Ograve
/Uacute /Ucircumflex /Ugrave /dotlessi /circumflex /tilde /macron
/breve /dotaccent /ring /cedilla /hungarumlaut /ogonek /caron
] def
/ReEncode { 
	dup 
	length 
	dict begin 
	{
	1 index /FID ne 
		{def} 
		{pop pop} ifelse 
	} forall 
	0 eq {/Encoding DiacriticEncoding def} if 
	currentdict 
	end 
	} bind def
FMPColor 
	
	{
	/BEGINBITMAPCOLOR { 
		BITMAPCOLOR} def
	/BEGINBITMAPCOLORc { 
		BITMAPCOLORc} def
	/BEGINBITMAPTRUECOLOR { 
		BITMAPTRUECOLOR } def
	/BEGINBITMAPTRUECOLORc { 
		BITMAPTRUECOLORc } def
	}
	
	{
	/BEGINBITMAPCOLOR { 
		BITMAPGRAY} def
	/BEGINBITMAPCOLORc { 
		BITMAPGRAYc} def
	/BEGINBITMAPTRUECOLOR { 
		BITMAPTRUEGRAY } def
	/BEGINBITMAPTRUECOLORc { 
		BITMAPTRUEGRAYc } def
	}
ifelse
/K { 
	FMPrintAllColorsAsBlack {
		dup 1 eq 2 index 1 eq and 3 index 1 eq and not
			{7 {pop} repeat 0 0 0 1 0 0 0} if
	} if 
	FrameCurColors astore 
	pop combineColor
} bind def
/graymode true def
	/bwidth FMLOCAL
	/bpside FMLOCAL
	/bstring FMLOCAL
	/onbits FMLOCAL
	/offbits FMLOCAL
	/xindex FMLOCAL
	/yindex FMLOCAL
	/x FMLOCAL
	/y FMLOCAL
/setPatternMode {
	FMLevel1 {
		/bwidth  exch def
		/bpside  exch def
		/bstring exch def
		/onbits 0 def  /offbits 0 def
		freq sangle landscape {90 add} if 
			{/y exch def
			 /x exch def
			 /xindex x 1 add 2 div bpside mul cvi def
			 /yindex y 1 add 2 div bpside mul cvi def
			 bstring yindex bwidth mul xindex 8 idiv add get
			 1 7 xindex 8 mod sub bitshift and 0 ne FrameNegative {not} if
			 {/onbits  onbits  1 add def 1}
			 {/offbits offbits 1 add def 0}
			 ifelse
			}
			setscreen
		offbits offbits onbits add div FrameNegative {1.0 exch sub} if
		/FrameCurGray exch def
	} { 
		pop pop
		dup patCache exch known {
			patCache exch get
		} { 
			dup
			patDict /bstring 3 -1 roll put
			patDict 
			9 PatFreq screenIndex get div dup matrix scale
			makepattern
			dup 
			patCache 4 -1 roll 3 -1 roll put
		} ifelse
		/FrameCurGray 0 def
		/FrameCurPat exch def
	} ifelse
	/graymode false def
	combineColor
} bind def
/setGrayScaleMode {
	graymode not {
		/graymode true def
		FMLevel1 {
			setCurrentScreen
		} if
	} if
	/FrameCurGray exch def
	combineColor
} bind def
/normalize {
	transform round exch round exch itransform
	} bind def
/dnormalize {
	dtransform round exch round exch idtransform
	} bind def
/lnormalize { 
	0 dtransform exch cvi 2 idiv 2 mul 1 add exch idtransform pop
	} bind def
/H { 
	lnormalize setlinewidth
	} bind def
/Z {
	setlinecap
	} bind def
	
/PFill {
	graymode FMLevel1 or not {
		gsave 1 setgray eofill grestore
	} if
} bind def
/PStroke {
	graymode FMLevel1 or not {
		gsave 1 setgray stroke grestore
	} if
	stroke
} bind def
	/fillvals FMLOCAL
/X { 
	fillvals exch get
	dup type /stringtype eq
	{8 1 setPatternMode} 
	{setGrayScaleMode}
	ifelse
	} bind def
/V { 
	PFill gsave eofill grestore
	} bind def
/Vclip {
	clip
	} bind def
/Vstrk {
	currentlinewidth exch setlinewidth PStroke setlinewidth
	} bind def
/N { 
	PStroke
	} bind def
/Nclip {
	strokepath clip newpath
	} bind def
/Nstrk {
	currentlinewidth exch setlinewidth PStroke setlinewidth
	} bind def
/M {newpath moveto} bind def
/E {lineto} bind def
/D {curveto} bind def
/O {closepath} bind def
	/n FMLOCAL
/L { 
 	/n exch def
	newpath
	normalize
	moveto 
	2 1 n {pop normalize lineto} for
	} bind def
/Y { 
	L 
	closepath
	} bind def
	/x1 FMLOCAL
	/x2 FMLOCAL
	/y1 FMLOCAL
	/y2 FMLOCAL
/R { 
	/y2 exch def
	/x2 exch def
	/y1 exch def
	/x1 exch def
	x1 y1
	x2 y1
	x2 y2
	x1 y2
	4 Y 
	} bind def
	/rad FMLOCAL
/rarc 
	{rad 
	 arcto
	} bind def
/RR { 
	/rad exch def
	normalize
	/y2 exch def
	/x2 exch def
	normalize
	/y1 exch def
	/x1 exch def
	mark
	newpath
	{
	x1 y1 rad add moveto
	x1 y2 x2 y2 rarc
	x2 y2 x2 y1 rarc
	x2 y1 x1 y1 rarc
	x1 y1 x1 y2 rarc
	closepath
	} stopped {x1 y1 x2 y2 R} if 
	cleartomark
	} bind def
/RRR { 
	/rad exch def
	normalize /y4 exch def /x4 exch def
	normalize /y3 exch def /x3 exch def
	normalize /y2 exch def /x2 exch def
	normalize /y1 exch def /x1 exch def
	newpath
	normalize moveto 
	mark
	{
	x2 y2 x3 y3 rarc
	x3 y3 x4 y4 rarc
	x4 y4 x1 y1 rarc
	x1 y1 x2 y2 rarc
	closepath
	} stopped
	 {x1 y1 x2 y2 x3 y3 x4 y4 newpath moveto lineto lineto lineto closepath} if
	cleartomark
	} bind def
/C { 
	grestore
	gsave
	R 
	clip
	setCurrentScreen
} bind def
/CP { 
	grestore
	gsave
	Y 
	clip
	setCurrentScreen
} bind def
	/FMpointsize FMLOCAL
/F { 
	FMfonts exch get
	FMpointsize scalefont
	setfont
	} bind def
/Q { 
	/FMpointsize exch def
	F 
	} bind def
/T { 
	moveto show
	} bind def
/RF { 
	rotate
	0 ne {-1 1 scale} if
	} bind def
/TF { 
	gsave
	moveto 
	RF
	show
	grestore
	} bind def
/P { 
	moveto
	0 32 3 2 roll widthshow
	} bind def
/PF { 
	gsave
	moveto 
	RF
	0 32 3 2 roll widthshow
	grestore
	} bind def
/S { 
	moveto
	0 exch ashow
	} bind def
/SF { 
	gsave
	moveto
	RF
	0 exch ashow
	grestore
	} bind def
/B { 
	moveto
	0 32 4 2 roll 0 exch awidthshow
	} bind def
/BF { 
	gsave
	moveto
	RF
	0 32 4 2 roll 0 exch awidthshow
	grestore
	} bind def
/G { 
	gsave
	newpath
	normalize translate 0.0 0.0 moveto 
	dnormalize scale 
	0.0 0.0 1.0 5 3 roll arc 
	closepath 
	PFill fill
	grestore
	} bind def
/Gstrk {
	savematrix
    newpath
    2 index 2 div add exch 3 index 2 div sub exch 
    normalize 2 index 2 div sub exch 3 index 2 div add exch 
    translate
    scale 
    0.0 0.0 1.0 5 3 roll arc 
    restorematrix
    currentlinewidth exch setlinewidth PStroke setlinewidth
    } bind def
/Gclip { 
	newpath
	savematrix
	normalize translate 0.0 0.0 moveto 
	dnormalize scale 
	0.0 0.0 1.0 5 3 roll arc 
	closepath 
	clip newpath
	restorematrix
	} bind def
/GG { 
	gsave
	newpath
	normalize translate 0.0 0.0 moveto 
	rotate 
	dnormalize scale 
	0.0 0.0 1.0 5 3 roll arc 
	closepath
	PFill
	fill
	grestore
	} bind def
/GGclip { 
	savematrix
	newpath
    normalize translate 0.0 0.0 moveto 
    rotate 
    dnormalize scale 
    0.0 0.0 1.0 5 3 roll arc 
    closepath
	clip newpath
	restorematrix
	} bind def
/GGstrk { 
	savematrix
    newpath
    normalize translate 0.0 0.0 moveto 
    rotate 
    dnormalize scale 
    0.0 0.0 1.0 5 3 roll arc 
    closepath 
	restorematrix
    currentlinewidth exch setlinewidth PStroke setlinewidth
	} bind def
/A { 
	gsave
	savematrix
	newpath
	2 index 2 div add exch 3 index 2 div sub exch 
	normalize 2 index 2 div sub exch 3 index 2 div add exch 
	translate 
	scale 
	0.0 0.0 1.0 5 3 roll arc 
	restorematrix
	PStroke
	grestore
	} bind def
/Aclip {
	newpath
	savematrix
	normalize translate 0.0 0.0 moveto 
	dnormalize scale 
	0.0 0.0 1.0 5 3 roll arc 
	closepath 
	strokepath clip newpath
	restorematrix
} bind def
/Astrk {
	Gstrk
} bind def
/AA { 
	gsave
	savematrix
	newpath
	
	3 index 2 div add exch 4 index 2 div sub exch 
	
	normalize 3 index 2 div sub exch 4 index 2 div add exch
	translate 
	rotate 
	scale 
	0.0 0.0 1.0 5 3 roll arc 
	restorematrix
	PStroke
	grestore
	} bind def
/AAclip {
	savematrix
	newpath
    normalize translate 0.0 0.0 moveto 
    rotate 
    dnormalize scale 
    0.0 0.0 1.0 5 3 roll arc 
    closepath
	strokepath clip newpath
	restorematrix
} bind def
/AAstrk {
	GGstrk
} bind def
	/x FMLOCAL
	/y FMLOCAL
	/w FMLOCAL
	/h FMLOCAL
	/xx FMLOCAL
	/yy FMLOCAL
	/ww FMLOCAL
	/hh FMLOCAL
	/FMsaveobject FMLOCAL
	/FMoptop FMLOCAL
	/FMdicttop FMLOCAL
/BEGINPRINTCODE { 
	/FMdicttop countdictstack 1 add def 
	/FMoptop count 7 sub def 
	/FMsaveobject save def
	userdict begin 
	/showpage {} def 
	FMNORMALIZEGRAPHICS 
	3 index neg 3 index neg translate
	} bind def
/ENDPRINTCODE {
	count -1 FMoptop {pop pop} for 
	countdictstack -1 FMdicttop {pop end} for 
	FMsaveobject restore 
	} bind def
/gn { 
	0 
	{	46 mul 
		cf read pop 
		32 sub 
		dup 46 lt {exit} if 
		46 sub add 
		} loop
	add 
	} bind def
	/str FMLOCAL
/cfs { 
	/str sl string def 
	0 1 sl 1 sub {str exch val put} for 
	str def 
	} bind def
/ic [ 
	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0223
	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0223
	0
	{0 hx} {1 hx} {2 hx} {3 hx} {4 hx} {5 hx} {6 hx} {7 hx} {8 hx} {9 hx}
	{10 hx} {11 hx} {12 hx} {13 hx} {14 hx} {15 hx} {16 hx} {17 hx} {18 hx}
	{19 hx} {gn hx} {0} {1} {2} {3} {4} {5} {6} {7} {8} {9} {10} {11} {12}
	{13} {14} {15} {16} {17} {18} {19} {gn} {0 wh} {1 wh} {2 wh} {3 wh}
	{4 wh} {5 wh} {6 wh} {7 wh} {8 wh} {9 wh} {10 wh} {11 wh} {12 wh}
	{13 wh} {14 wh} {gn wh} {0 bl} {1 bl} {2 bl} {3 bl} {4 bl} {5 bl} {6 bl}
	{7 bl} {8 bl} {9 bl} {10 bl} {11 bl} {12 bl} {13 bl} {14 bl} {gn bl}
	{0 fl} {1 fl} {2 fl} {3 fl} {4 fl} {5 fl} {6 fl} {7 fl} {8 fl} {9 fl}
	{10 fl} {11 fl} {12 fl} {13 fl} {14 fl} {gn fl}
	] def
	/sl FMLOCAL
	/val FMLOCAL
	/ws FMLOCAL
	/im FMLOCAL
	/bs FMLOCAL
	/cs FMLOCAL
	/len FMLOCAL
	/pos FMLOCAL
/ms { 
	/sl exch def 
	/val 255 def 
	/ws cfs 
	/im cfs 
	/val 0 def 
	/bs cfs 
	/cs cfs 
	} bind def
400 ms 
/ip { 
	is 
	0 
	cf cs readline pop 
	{	ic exch get exec 
		add 
		} forall 
	pop 
	
	} bind def
/rip { 
	   
	  
	  bis ris copy pop 
      is
      0
      cf cs readline pop 
      {       ic exch get exec 
              add 
              } forall 
	  pop pop 
	  ris gis copy pop 
	  dup is exch 
	  
      cf cs readline pop 
      {       ic exch get exec 
              add 
              } forall 
	  pop pop
	  gis bis copy pop 
	  dup add is exch 
	  
      cf cs readline pop 
      {       ic exch get exec 
              add 
              } forall 
      pop 
      
      } bind def
/wh { 
	/len exch def 
	/pos exch def 
	ws 0 len getinterval im pos len getinterval copy pop
	pos len 
	} bind def
/bl { 
	/len exch def 
	/pos exch def 
	bs 0 len getinterval im pos len getinterval copy pop
	pos len 
	} bind def
/s1 1 string def
/fl { 
	/len exch def 
	/pos exch def 
	/val cf s1 readhexstring pop 0 get def
	pos 1 pos len add 1 sub {im exch val put} for
	pos len 
	} bind def
/hx { 
	3 copy getinterval 
	cf exch readhexstring pop pop 
	} bind def
	/h FMLOCAL
	/w FMLOCAL
	/d FMLOCAL
	/lb FMLOCAL
	/bitmapsave FMLOCAL
	/is FMLOCAL
	/cf FMLOCAL
/wbytes { 
      dup dup
      24 eq { pop pop 3 mul }
      { 8 eq {pop} {1 eq {7 add 8 idiv} {3 add 4 idiv} ifelse} ifelse } ifelse
	} bind def
/BEGINBITMAPBWc { 
	1 {} COMMONBITMAPc
	} bind def
/BEGINBITMAPGRAYc { 
	8 {} COMMONBITMAPc
	} bind def
/BEGINBITMAP2BITc { 
	2 {} COMMONBITMAPc
	} bind def
/COMMONBITMAPc { 
		 
	/r exch def
	/d exch def
	gsave
	
	3 index 2 div add exch	
	4 index 2 div add exch	
	translate		
	rotate			
	1 index 2 div neg	
	1 index 2 div neg	
	translate		
	scale			
	/h exch def /w exch def
	/lb w d wbytes def 
	sl lb lt {lb ms} if 
	/bitmapsave save def 
	r                    
	/is im 0 lb getinterval def 
	ws 0 lb getinterval is copy pop 
	/cf currentfile def 
	w h d [w 0 0 h neg 0 h] 
	{ip} image 
	bitmapsave restore 
	grestore
	} bind def
/BEGINBITMAPBW { 
	1 {} COMMONBITMAP
	} bind def
/BEGINBITMAPGRAY { 
	8 {} COMMONBITMAP
	} bind def
/BEGINBITMAP2BIT { 
	2 {} COMMONBITMAP
	} bind def
/COMMONBITMAP { 
	/r exch def
	/d exch def
	gsave
	
	3 index 2 div add exch	
	4 index 2 div add exch	
	translate		
	rotate			
	1 index 2 div neg	
	1 index 2 div neg	
	translate		
	scale			
	/h exch def /w exch def
	/bitmapsave save def 
	r                    
	/is w d wbytes string def
	/cf currentfile def 
	w h d [w 0 0 h neg 0 h] 
	{cf is readhexstring pop} image
	bitmapsave restore 
	grestore
	} bind def
/ngrayt 256 array def
/nredt 256 array def
/nbluet 256 array def
/ngreent 256 array def
	/gryt FMLOCAL
	/blut FMLOCAL
	/grnt FMLOCAL
	/redt FMLOCAL
	/indx FMLOCAL
	/cynu FMLOCAL
	/magu FMLOCAL
	/yelu FMLOCAL
	/k FMLOCAL
	/u FMLOCAL
FMLevel1 {
/colorsetup {
	currentcolortransfer
	/gryt exch def
	/blut exch def
	/grnt exch def
	/redt exch def
	0 1 255 {
		/indx exch def
		/cynu 1 red indx get 255 div sub def
		/magu 1 green indx get 255 div sub def
		/yelu 1 blue indx get 255 div sub def
		/k cynu magu min yelu min def
		/u k currentundercolorremoval exec def
%		/u 0 def
		nredt indx 1 0 cynu u sub max sub redt exec put
		ngreent indx 1 0 magu u sub max sub grnt exec put
		nbluet indx 1 0 yelu u sub max sub blut exec put
		ngrayt indx 1 k currentblackgeneration exec sub gryt exec put
	} for
	{255 mul cvi nredt exch get}
	{255 mul cvi ngreent exch get}
	{255 mul cvi nbluet exch get}
	{255 mul cvi ngrayt exch get}
	setcolortransfer
	{pop 0} setundercolorremoval
	{} setblackgeneration
	} bind def
}
{
/colorSetup2 {
	[ /Indexed /DeviceRGB 255 
		{dup red exch get 255 div 
		 exch dup green exch get 255 div 
		 exch blue exch get 255 div}
	] setcolorspace
} bind def
} ifelse
	/tran FMLOCAL
/fakecolorsetup {
	/tran 256 string def
	0 1 255 {/indx exch def 
		tran indx
		red indx get 77 mul
		green indx get 151 mul
		blue indx get 28 mul
		add add 256 idiv put} for
	currenttransfer
	{255 mul cvi tran exch get 255.0 div}
	exch concatprocs settransfer
} bind def
/BITMAPCOLOR { 
	/d 8 def
	gsave
	
	3 index 2 div add exch	
	4 index 2 div add exch	
	translate		
	rotate			
	1 index 2 div neg	
	1 index 2 div neg	
	translate		
	scale			
	/h exch def /w exch def
	/bitmapsave save def
	FMLevel1 {	
		colorsetup
		/is w d wbytes string def
		/cf currentfile def 
		w h d [w 0 0 h neg 0 h] 
		{cf is readhexstring pop} {is} {is} true 3 colorimage 
	} {
		colorSetup2
		/is w d wbytes string def
		/cf currentfile def 
		7 dict dup begin
			/ImageType 1 def
			/Width w def
			/Height h def
			/ImageMatrix [w 0 0 h neg 0 h] def
			/DataSource {cf is readhexstring pop} bind def
			/BitsPerComponent d def
			/Decode [0 255] def
		end image	
	} ifelse
	bitmapsave restore 
	grestore
	} bind def
/BITMAPCOLORc { 
	/d 8 def
	gsave
	
	3 index 2 div add exch	
	4 index 2 div add exch	
	translate		
	rotate			
	1 index 2 div neg	
	1 index 2 div neg	
	translate		
	scale			
	/h exch def /w exch def
	/lb w d wbytes def 
	sl lb lt {lb ms} if 
	/bitmapsave save def 
	FMLevel1 {	
		colorsetup
		/is im 0 lb getinterval def 
		ws 0 lb getinterval is copy pop 
		/cf currentfile def 
		w h d [w 0 0 h neg 0 h] 
		{ip} {is} {is} true 3 colorimage
	} {
		colorSetup2
		/is im 0 lb getinterval def 
		ws 0 lb getinterval is copy pop 
		/cf currentfile def 
		7 dict dup begin
			/ImageType 1 def
			/Width w def
			/Height h def
			/ImageMatrix [w 0 0 h neg 0 h] def
			/DataSource {ip} bind def
			/BitsPerComponent d def
			/Decode [0 255] def
		end image	
	} ifelse
	bitmapsave restore 
	grestore
	} bind def
/BITMAPTRUECOLORc { 
	/d 24 def
        gsave
 	
	3 index 2 div add exch	
	4 index 2 div add exch	
	translate		
	rotate			
	1 index 2 div neg	
	1 index 2 div neg	
	translate		
	scale			
	/h exch def /w exch def
	/lb w d wbytes def 
	sl lb lt {lb ms} if 
        /bitmapsave save def 
        
	/is im 0 lb getinterval def	
	/ris im 0 w getinterval def	
	/gis im w w getinterval def	
	/bis im w 2 mul w getinterval def 
        
        ws 0 lb getinterval is copy pop 
        /cf currentfile def 
        w h 8 [w 0 0 h neg 0 h] 
        {w rip pop ris} {gis} {bis} true 3 colorimage
        bitmapsave restore 
        grestore
        } bind def
/BITMAPTRUECOLOR { 
        gsave
		
		3 index 2 div add exch	
		4 index 2 div add exch	
		translate		
		rotate			
		1 index 2 div neg	
		1 index 2 div neg	
		translate		
		scale			
		/h exch def /w exch def
        /bitmapsave save def 
        /is w string def
        /gis w string def
        /bis w string def
        /cf currentfile def 
        w h 8 [w 0 0 h neg 0 h] 
        { cf is readhexstring pop } 
        { cf gis readhexstring pop } 
        { cf bis readhexstring pop } 
        true 3 colorimage 
        bitmapsave restore 
        grestore
        } bind def
/BITMAPTRUEGRAYc { 
	/d 24 def
        gsave
	
	3 index 2 div add exch	
	4 index 2 div add exch	
	translate		
	rotate			
	1 index 2 div neg	
	1 index 2 div neg	
	translate		
	scale			
	/h exch def /w exch def
	/lb w d wbytes def 
	sl lb lt {lb ms} if 
        /bitmapsave save def 
        
	/is im 0 lb getinterval def	
	/ris im 0 w getinterval def	
	/gis im w w getinterval def	
	/bis im w 2 mul w getinterval def 
        ws 0 lb getinterval is copy pop 
        /cf currentfile def 
        w h 8 [w 0 0 h neg 0 h] 
        {w rip pop ris gis bis w gray} image
        bitmapsave restore 
        grestore
        } bind def
/ww FMLOCAL
/r FMLOCAL
/g FMLOCAL
/b FMLOCAL
/i FMLOCAL
/gray { 
        /ww exch def
        /b exch def
        /g exch def
        /r exch def
        0 1 ww 1 sub { /i exch def r i get .299 mul g i get .587 mul
			b i get .114 mul add add r i 3 -1 roll floor cvi put } for
        r
        } bind def
/BITMAPTRUEGRAY { 
        gsave
		
		3 index 2 div add exch	
		4 index 2 div add exch	
		translate		
		rotate			
		1 index 2 div neg	
		1 index 2 div neg	
		translate		
		scale			
		/h exch def /w exch def
        /bitmapsave save def 
        /is w string def
        /gis w string def
        /bis w string def
        /cf currentfile def 
        w h 8 [w 0 0 h neg 0 h] 
        { cf is readhexstring pop 
          cf gis readhexstring pop 
          cf bis readhexstring pop w gray}  image
        bitmapsave restore 
        grestore
        } bind def
/BITMAPGRAY { 
	8 {fakecolorsetup} COMMONBITMAP
	} bind def
/BITMAPGRAYc { 
	8 {fakecolorsetup} COMMONBITMAPc
	} bind def
/ENDBITMAP {
	} bind def
end 
	/ALDsave FMLOCAL
	/ALDmatrix matrix def ALDmatrix currentmatrix pop
/StartALD {
	/ALDsave save def
	 savematrix
	 ALDmatrix setmatrix
	} bind def
/InALD {
	 restorematrix
	} bind def
/DoneALD {
	 ALDsave restore
	} bind def
/I { setdash } bind def
/J { [] 0 setdash } bind def
%%EndProlog
%%BeginSetup
(4.0) FMVERSION
1 1 0 0 612 792 0 1 13 FMDOCUMENT
0 0 /Times-Roman FMFONTDEFINE
1 0 /Times-Bold FMFONTDEFINE
2 0 /Times-Italic FMFONTDEFINE
3 0 /Courier FMFONTDEFINE
32 FMFILLS
0 0 FMFILL
1 0.1 FMFILL
2 0.3 FMFILL
3 0.5 FMFILL
4 0.7 FMFILL
5 0.9 FMFILL
6 0.97 FMFILL
7 1 FMFILL
8 <0f1e3c78f0e1c387> FMFILL
9 <0f87c3e1f0783c1e> FMFILL
10 <cccccccccccccccc> FMFILL
11 <ffff0000ffff0000> FMFILL
12 <8142241818244281> FMFILL
13 <03060c183060c081> FMFILL
14 <8040201008040201> FMFILL
16 1 FMFILL
17 0.9 FMFILL
18 0.7 FMFILL
19 0.5 FMFILL
20 0.3 FMFILL
21 0.1 FMFILL
22 0.03 FMFILL
23 0 FMFILL
24 <f0e1c3870f1e3c78> FMFILL
25 <f0783c1e0f87c3e1> FMFILL
26 <3333333333333333> FMFILL
27 <0000ffff0000ffff> FMFILL
28 <7ebddbe7e7dbbd7e> FMFILL
29 <fcf9f3e7cf9f3f7e> FMFILL
30 <7fbfdfeff7fbfdfe> FMFILL
%%EndSetup
%%Page: "1" 1
%%BeginPaperSize: Letter
%%EndPaperSize
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
J
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 684 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(Network Working Group) 72 713.33 T
(J. Moy) 512.22 713.33 T
(Request for Comments: 1584) 72 701.33 T
(Proteon, Inc.) 488.62 701.33 T
(Category: Standards Track) 72 689.33 T
(March 1994) 491.4 689.33 T
72 72 540 83.95 R
7 X
V
0 X
(Moy) 72 77.28 T
([Page 1]) 506.4 77.28 T
72 117 540 648 R
7 X
V
1 16 Q
0 X
(Multicast Extensions to OSPF) 203.55 637.33 T
1 14 Q
(Status of this Memo) 72 558.67 T
0 10 Q
-0.06 (This document speci\336es an Internet standards track protocol for the Internet community) 72 533.33 P
-0.06 (, and requests discussion and) 421.99 533.33 P
(suggestions for improvements. Please refer to the current edition of the \322Internet Of) 72 521.33 T
(\336cial Protocol Standards\323 \050STD) 407.03 521.33 T
(1\051 for the standardization state and status of this protocol. Distribution of this memo is unlimited.) 72 509.33 T
1 14 Q
(Abstract) 72 470.67 T
0 10 Q
(This memo documents enhancements to the OSPF protocol enabling the routing of IP multicast datagrams. In this) 72 445.33 T
(proposal, an IP multicast packet is routed based both on the packet\325) 72 433.33 T
(s source and its multicast destination \050commonly) 341.41 433.33 T
-0.35 (referred to as source/destination routing\051. As it is routed, the multicast packet follows a shortest path to each multicast) 72 421.33 P
-0.26 (destination. During packet forwarding, any commonality of paths is exploited; when multiple hosts belong to a single) 72 409.33 P
(multicast group, a multicast packet will be replicated only when the paths to the separate hosts diver) 72 397.33 T
(ge.) 472.6 397.33 T
-0.26 (OSPF) 72 373.33 P
-0.26 (, a link-state routing protocol, provides a database describing the Autonomous System\325) 95.1 373.33 P
-0.26 (s topology) 439.72 373.33 P
-0.26 (. A new OSPF) 480.76 373.33 P
(link state advertisement is added describing the location of multicast destinations. A multicast packet\325) 72 361.33 T
(s path is then) 479.19 361.33 T
(calculated by building a pruned shortest-path tree rooted at the packet\325) 72 349.33 T
(s IP source. These trees are built on demand,) 353.61 349.33 T
(and the results of the calculation are cached for use by subsequent packets.) 72 337.33 T
(The multicast extensions are built on top of OSPF V) 72 313.33 T
(ersion 2. The extensions have been implemented so that a) 280.61 313.33 T
-0.09 (multicast routing capability can be introduced piecemeal into an OSPF V) 72 301.33 P
-0.09 (ersion 2 routing domain. Some of the OSPF) 362.7 301.33 P
(V) 72 289.33 T
(ersion 2 routers may run the multicast extensions, while others may continue to be restricted to the forwarding of) 78.11 289.33 T
(regular IP traf) 72 277.33 T
(\336c \050unicasts\051.) 127.91 277.33 T
(Please send comments to mospf@gated.cornell.edu.) 72 253.33 T
FMENDPAGE
%%EndPage: "1" 1
%%Page: "2" 2
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 0 0 1 0 0 0 K
0 10 Q
0 X
(RFC 1584) 72 713.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(Multicast Extensions to OSPF) 245.57 713.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(March 1994) 491.4 713.33 T
0 0 0 1 0 0 0 K
72 69.05 540 81 R
7 X
V
0 0 0 1 0 0 0 K
0 X
(Moy) 72 74.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
([Page 2]) 506.4 74.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 108 540 684 R
7 X
V
0 12 Q
0 X
(1) 72 676 T
(Introduction) 108 676 T
(..............................................................................................................) 168 676 T
(5) 498 676 T
0 10 Q
(1.1) 108 661.33 T
(T) 144 661.33 T
(erminology) 149.41 661.33 T
(........................................................................................................................) 197.5 661.33 T
(5) 499 661.33 T
(1.2) 108 647.33 T
(Acknowledgments) 144 647.33 T
(...............................................................................................................) 220 647.33 T
(6) 499 647.33 T
0 12 Q
(2) 72 628 T
(Multicast routing in MOSPF) 108 628 T
(....................................................................................) 246 628 T
(6) 498 628 T
0 10 Q
(2.1) 108 613.33 T
(Routing characteristics) 144 613.33 T
(........................................................................................................) 237.5 613.33 T
(7) 499 613.33 T
(2.2) 108 599.33 T
(Sample path of a multicast datagram) 144 599.33 T
(..................................................................................) 292.5 599.33 T
(7) 499 599.33 T
(2.3) 108 585.33 T
(MOSPF forwarding mechanism) 144 585.33 T
(..........................................................................................) 272.5 585.33 T
(9) 499 585.33 T
0 0 0 1 0 0 0 K
(2.3.1) 144 573.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(IGMP interface: the local group database) 180 573.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(...........................................................) 345 573.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(10) 494 573.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(2.3.2) 144 561.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(A datagram\325s shortest-path tree) 180 561.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(..........................................................................) 307.5 561.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(12) 494 561.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(2.3.3) 144 549.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(Support for Non-broadcast networks) 180 549.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(..................................................................) 327.5 549.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(13) 494 549.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(2.3.4) 144 537.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(Details concerning forwarding cache entries) 180 537.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(......................................................) 357.5 537.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(14) 494 537.33 T
0 0 0 1 0 0 0 K
0 12 Q
(3) 72 518 T
(Inter) 108 518 T
(-area multicasting) 130.42 518 T
(...........................................................................................) 219 518 T
(15) 492 518 T
0 10 Q
(3.1) 108 503.33 T
( Extent of group-membership-LSAs) 144 503.33 T
(.................................................................................) 290 503.33 T
(16) 494 503.33 T
(3.2) 108 489.33 T
( Building inter) 144 489.33 T
(-area datagram shortest-path trees) 202.14 489.33 T
(..............................................................) 337.5 489.33 T
(19) 494 489.33 T
0 12 Q
(4) 72 470 T
(Inter) 108 470 T
(-AS multicasting) 130.42 470 T
(.............................................................................................) 213 470 T
(21) 492 470 T
0 10 Q
(4.1) 108 455.33 T
(Building inter) 144 455.33 T
(-AS datagram shortest-path trees.) 199.64 455.33 T
(...............................................................) 335 455.33 T
(22) 494 455.33 T
(4.2) 108 441.33 T
(Stub area behavior) 144 441.33 T
(.............................................................................................................) 220 441.33 T
(23) 494 441.33 T
(4.3) 108 427.33 T
(Inter) 144 427.33 T
(-AS multicasting in a core Autonomous System) 162.68 427.33 T
(.......................................................) 355 427.33 T
(24) 494 427.33 T
0 12 Q
(5) 72 408 T
(Modelling internal group membership) 108 408 T
(...................................................................) 291 408 T
(25) 492 408 T
(6) 72 388 T
(Additional capabilities) 108 388 T
(...........................................................................................) 219 388 T
(26) 492 388 T
0 10 Q
(6.1) 108 373.33 T
(Mixing with non-multicast routers) 144 373.33 T
(....................................................................................) 282.5 373.33 T
(26) 494 373.33 T
(6.2) 108 359.33 T
(T) 144 359.33 T
(OS-based multicast) 149.93 359.33 T
(.........................................................................................................) 230 359.33 T
(27) 494 359.33 T
(6.3) 108 345.33 T
(Assigning multiple IP networks to a physical network) 144 345.33 T
(.....................................................) 360 345.33 T
(28) 494 345.33 T
(6.4) 108 331.33 T
(Networks on Autonomous System boundaries) 144 331.33 T
(.................................................................) 330 331.33 T
(28) 494 331.33 T
(6.5) 108 317.33 T
(Recommended system con\336guration) 144 317.33 T
(................................................................................) 292.5 317.33 T
(29) 494 317.33 T
0 12 Q
(7) 72 298 T
(Basic implementation requirements) 108 298 T
(.......................................................................) 279 298 T
(30) 492 298 T
(8) 72 278 T
(Protocol data structures) 108 278 T
(..........................................................................................) 222 278 T
(30) 492 278 T
0 10 Q
(8.1) 108 263.33 T
(Additions to the OSPF area structure) 144 263.33 T
(................................................................................) 292.5 263.33 T
(31) 494 263.33 T
(8.2) 108 249.33 T
(Additions to the OSPF interface structure) 144 249.33 T
(.........................................................................) 310 249.33 T
(31) 494 249.33 T
(8.3) 108 235.33 T
(Additions to the OSPF neighbor structure) 144 235.33 T
(........................................................................) 312.5 235.33 T
(32) 494 235.33 T
(8.4) 108 221.33 T
(The local group database) 144 221.33 T
(...................................................................................................) 245 221.33 T
(32) 494 221.33 T
(8.5) 108 207.33 T
(The forwarding cache) 144 207.33 T
(........................................................................................................) 232.5 207.33 T
(32) 494 207.33 T
0 12 Q
(9) 72 188 T
(Interaction with the IGMP protocol) 108 188 T
(.......................................................................) 279 188 T
(33) 492 188 T
0 10 Q
(9.1) 108 173.33 T
(Sending IGMP Host Membership Queries) 144 173.33 T
(........................................................................) 312.5 173.33 T
(34) 494 173.33 T
(9.2) 108 159.33 T
(Receiving IGMP Host Membership Reports) 144 159.33 T
(....................................................................) 322.5 159.33 T
(34) 494 159.33 T
(9.3) 108 145.33 T
(Aging local group database entries) 144 145.33 T
(...................................................................................) 285 145.33 T
(35) 494 145.33 T
(9.4) 108 131.33 T
(Receiving IGMP Host Membership Queries) 144 131.33 T
(....................................................................) 322.5 131.33 T
(35) 494 131.33 T
0 12 Q
(10) 72 112 T
(Group-membership-LSAs) 108 112 T
(......................................................................................) 234 112 T
(35) 492 112 T
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "2" 2
%%Page: "3" 3
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 0 0 1 0 0 0 K
0 10 Q
0 X
(RFC 1584) 72 713.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(Multicast Extensions to OSPF) 245.57 713.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(March 1994) 491.4 713.33 T
0 0 0 1 0 0 0 K
72 69.05 540 81 R
7 X
V
0 0 0 1 0 0 0 K
0 X
(Moy) 72 74.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
([Page 3]) 506.4 74.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 108 540 684 R
7 X
V
0 X
(10.1) 108 677.33 T
(Constructing group-membership-LSAs) 144 677.33 T
(............................................................................) 302.5 677.33 T
(36) 494 677.33 T
(10.2) 108 663.33 T
(Flooding group-membership-LSAs) 144 663.33 T
(...................................................................................) 285 663.33 T
(38) 494 663.33 T
0 12 Q
(1) 72 644 T
(1) 77.56 644 T
(Detailed description of multicast datagram forwarding) 108 644 T
(.........................................) 369 644 T
(38) 492 644 T
0 10 Q
(1) 108 629.33 T
(1.1) 112.63 629.33 T
(Associating a MOSPF interface with a received datagram) 144 629.33 T
(...............................................) 375 629.33 T
(40) 494 629.33 T
(1) 108 615.33 T
(1.2) 112.63 615.33 T
(Locating the source network) 144 615.33 T
(.............................................................................................) 260 615.33 T
(40) 494 615.33 T
(1) 108 601.33 T
(1.3) 112.63 601.33 T
(Forwarding locally originated multicasts) 144 601.33 T
(..........................................................................) 307.5 601.33 T
(41) 494 601.33 T
0 12 Q
(12) 72 582 T
(Construction of forwarding cache entries) 108 582 T
(..............................................................) 306 582 T
(42) 492 582 T
0 10 Q
(12.1) 108 567.33 T
(The V) 144 567.33 T
(ertex data structure) 168.16 567.33 T
(...................................................................................................) 245 567.33 T
(43) 494 567.33 T
(12.2) 108 553.33 T
(The SPF calculation) 144 553.33 T
(..........................................................................................................) 227.5 553.33 T
(44) 494 553.33 T
0 0 0 1 0 0 0 K
(12.2.1) 144 541.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(Candidate list Initialization: Case SourceIntraArea) 180 541.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(............................................) 382.5 541.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(46) 494 541.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(12.2.2) 144 529.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(Candidate list Initialization: Case SourceInterArea1) 180 529.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(..........................................) 387.5 529.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(47) 494 529.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(12.2.3) 144 517.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(Candidate list Initialization: Case SourceInterArea2) 180 517.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(..........................................) 387.5 517.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(47) 494 517.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(12.2.4) 144 505.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(Candidate list Initialization: Case SourceExternal) 180 505.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(.............................................) 380 505.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(48) 494 505.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(12.2.5) 144 493.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(Candidate list Initialization: Case SourceStubExternal) 180 493.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(......................................) 397.5 493.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(49) 494 493.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(12.2.6) 144 481.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(Processing labelled vertices) 180 481.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(................................................................................) 292.5 481.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(49) 494 481.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(12.2.7) 144 469.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(Merging datagram shortest-path trees) 180 469.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(.................................................................) 330 469.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(50) 494 469.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(12.2.8) 144 457.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(TOS considerations) 180 457.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(.............................................................................................) 260 457.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(51) 494 457.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(12.2.9) 144 445.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(Comparison to the unicast SPF calculation) 180 445.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(........................................................) 352.5 445.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(52) 494 445.33 T
0 0 0 1 0 0 0 K
(12.3) 108 431.33 T
(Adding local database entries to the forwarding cache) 144 431.33 T
(.....................................................) 360 431.33 T
(53) 494 431.33 T
0 12 Q
(13) 72 412 T
(Maintaining the forwarding cache) 108 412 T
(.........................................................................) 273 412 T
(53) 492 412 T
(14) 72 392 T
(Other additions to the OSPF speci\336cation) 108 392 T
(.............................................................) 309 392 T
(54) 492 392 T
0 10 Q
(14.1) 108 377.33 T
(The Designated Router) 144 377.33 T
(......................................................................................................) 237.5 377.33 T
(54) 494 377.33 T
(14.2) 108 363.33 T
(Sending Hello packets) 144 363.33 T
(.......................................................................................................) 235 363.33 T
(54) 494 363.33 T
(14.3) 108 349.33 T
(The Neighbor state machine) 144 349.33 T
(..............................................................................................) 257.5 349.33 T
(54) 494 349.33 T
(14.4) 108 335.33 T
(Receiving Database Description packets) 144 335.33 T
(..........................................................................) 307.5 335.33 T
(55) 494 335.33 T
(14.5) 108 321.33 T
(Sending Database Description packets) 144 321.33 T
(.............................................................................) 300 321.33 T
(55) 494 321.33 T
(14.6) 108 307.33 T
(Originating Router) 144 307.33 T
(-LSAs) 219.63 307.33 T
(..................................................................................................) 247.5 307.33 T
(55) 494 307.33 T
(14.7) 108 293.33 T
(Originating Network-LSAs) 144 293.33 T
(...............................................................................................) 255 293.33 T
(55) 494 293.33 T
(14.8) 108 279.33 T
(Originating Summary-link-LSAs) 144 279.33 T
(......................................................................................) 277.5 279.33 T
(56) 494 279.33 T
(14.9) 108 265.33 T
(Originating AS external-link-LSAs) 144 265.33 T
(..................................................................................) 287.5 265.33 T
(56) 494 265.33 T
(14.10) 108 251.33 T
(Next step in the \337ooding procedure) 144 251.33 T
(..................................................................................) 287.5 251.33 T
(56) 494 251.33 T
(14.1) 108 237.33 T
(1) 125.13 237.33 T
(V) 144 237.33 T
(irtual links) 150.62 237.33 T
(.......................................................................................................................) 195 237.33 T
(57) 494 237.33 T
0 12 Q
(15) 72 218 T
(References) 108 218 T
(..............................................................................................................) 162 218 T
(58) 492 218 T
(A) 72 198 T
(Data Formats) 108 198 T
(.........................................................................................................) 174 198 T
( 59) 489 198 T
0 10 Q
(A.1) 108 183.33 T
(The Options \336eld) 144 183.33 T
(..............................................................................................................) 215 183.33 T
( 60) 491.5 183.33 T
(A.2) 108 169.33 T
(Router) 144 169.33 T
(-LSA) 171.02 169.33 T
(......................................................................................................................) 195 169.33 T
( 61) 491.5 169.33 T
(A.3) 108 155.33 T
(Group-membership-LSA) 144 155.33 T
(..................................................................................................) 245 155.33 T
( 63) 491.5 155.33 T
0 12 Q
(B) 72 136 T
(Con\336gurable Constants) 108 136 T
(.........................................................................................) 222 136 T
( 64) 489 136 T
0 10 Q
(B.1) 108 121.33 T
(Global parameters) 144 121.33 T
(............................................................................................................) 220 121.33 T
( 64) 491.5 121.33 T
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "3" 3
%%Page: "4" 4
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 0 0 1 0 0 0 K
0 10 Q
0 X
(RFC 1584) 72 713.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(Multicast Extensions to OSPF) 245.57 713.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
(March 1994) 491.4 713.33 T
0 0 0 1 0 0 0 K
72 69.05 540 81 R
7 X
V
0 0 0 1 0 0 0 K
0 X
(Moy) 72 74.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
([Page 4]) 506.4 74.33 T
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 108 540 684 R
7 X
V
0 X
(B.2) 108 677.33 T
(Router interface parameters) 144 677.33 T
(.............................................................................................) 257.5 677.33 T
( 64) 491.5 677.33 T
0 12 Q
(C) 72 658 T
(Sample datagram shortest-path trees) 108 658 T
(....................................................................) 285 658 T
( 66) 489 658 T
0 10 Q
(C.1) 108 643.33 T
(An intra-area tree) 144 643.33 T
(..............................................................................................................) 215 643.33 T
( 67) 491.5 643.33 T
(C.2) 108 629.33 T
(The ef) 144 629.33 T
(fect of areas) 169.64 629.33 T
(............................................................................................................) 220 629.33 T
( 68) 491.5 629.33 T
(C.3) 108 615.33 T
(The ef) 144 615.33 T
(fect of virtual links) 169.64 615.33 T
(.................................................................................................) 247.5 615.33 T
( 69) 491.5 615.33 T
0 12 Q
(Security Considerations) 108 596 T
(........................................................................................) 225 596 T
( 70) 489 596 T
(Author) 108 576 T
(\325) 142.44 576 T
(s Address) 145.78 576 T
(..................................................................................................) 195 576 T
( 70) 489 576 T
0 0 0 1 0 0 0 K
FMENDPAGE
%%EndPage: "4" 4
%%Page: "5" 5
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 5]) 506.4 74.33 T
72 108 540 684 R
7 X
V
1 14 Q
0 X
(1  Intr) 72 674.67 T
(oduction) 109.86 674.67 T
0 10 Q
(This memo documents enhancements to OSPF V) 72 649.33 T
(ersion 2 to support IP multicast routing. The enhancements have) 267.55 649.33 T
(been added in a backward-compatible fashion; routers running the multicast additions will interoperate with non-) 72 637.33 T
-0.04 (multicast OSPF routers when forwarding regular \050unicast\051 IP data traf) 72 625.33 P
-0.04 (\336c. The protocol resulting from the addition of) 351.15 625.33 P
(the multicast enhancements to OSPF is herein referred to as the MOSPF protocol.) 72 613.33 T
(IP multicasting is an extension of LAN multicasting to a TCP/IP internet. Multicasting support for TCP/IP hosts has) 72 589.33 T
-0.08 (been speci\336ed in [RFC 1) 72 577.33 P
-0.08 (1) 170.74 577.33 P
-0.08 (12]. In that document, multicast groups are represented by IP class D addresses. Individual) 175.37 577.33 P
(TCP/IP hosts join \050and leave\051 multicast groups through the Internet Group Management Protocol \050IGMP) 72 565.33 T
(, also) 490.02 565.33 T
-0.02 (speci\336ed in [RFC 1) 72 553.33 P
-0.02 (1) 149.64 553.33 P
-0.02 (12]\051. A host need not be a member of a multicast group in order to send datagrams to the group.) 154.27 553.33 P
(Multicast datagrams are to be delivered to each member of the multicast group with the same \322best-ef) 72 541.33 T
(fort\323 delivery) 478.96 541.33 T
(accorded regular \050unicast\051 IP data traf) 72 529.33 T
(\336c.) 223.15 529.33 T
(MOSPF provides the ability to forward multicast datagrams from one IP network to another \050i.e., through internet) 72 505.33 T
(routers\051. MOSPF forwards a multicast datagram on the basis of both the datagram\325) 72 493.33 T
(s source and destination \050this is) 402.79 493.33 T
(sometimes called source/destination routing\051. The OSPF link state database provides a complete description of the) 72 481.33 T
-0.3 (Autonomous System\325) 72 469.33 P
-0.3 (s topology) 158.1 469.33 P
-0.3 (. By adding a new type of link state advertisement, the) 199.1 469.33 P
1 F
-0.3 (gr) 416.06 469.33 P
-0.3 (oup-membership-LSA) 425.32 469.33 P
0 F
-0.3 (, the) 520.88 469.33 P
(location of all multicast group members is pinpointed in the database. The path of a multicast datagram can then be) 72 457.33 T
(calculated by building a shortest-path tree rooted at the datagram\325) 72 445.33 T
(s source. All branches not containing multicast) 334.45 445.33 T
(members are pruned from the tree. These pruned shortest-path trees are initially built when the \336rst datagram is) 72 433.33 T
(received \050i.e., on demand\051. The results of the shortest path calculation are then cached for use by subsequent) 72 421.33 T
(datagrams having the same source and destination.) 72 409.33 T
(OSPF allows an Autonomous System to be split into areas. However) 72 385.33 T
(, when this is done complete knowledge of the) 346.87 385.33 T
(Autonomous System\325) 72 373.33 T
(s topology is lost. When forwarding multicasts between areas, only incomplete shortest-path) 158.4 373.33 T
-0.23 (trees can be built. This may lead to some inef) 72 361.33 P
-0.23 (\336ciency in routing. An analogous situation exists when the source of the) 251.39 361.33 P
(multicast datagram lies in another Autonomous System. In both cases \050i.e., the source of the datagram belongs to a) 72 349.33 T
(dif) 72 337.33 T
(ferent OSPF area, or to a dif) 82.93 337.33 T
(ferent Autonomous system\051 the neighborhood immediately surrounding the source is) 195.78 337.33 T
(unknown. In these cases the source\325) 72 325.33 T
(s neighborhood is approximated by OSPF summary link advertisements or by) 215.3 325.33 T
(OSPF AS external link advertisements respectively) 72 313.33 T
(.) 276.61 313.33 T
(Routers running MOSPF can be intermixed with non-multicast OSPF routers. Both types of routers can interoperate) 72 289.33 T
(when forwarding regular \050unicast\051 IP data traf) 72 277.33 T
(\336c. Obviously) 255.65 277.33 T
(, the forwarding extent of IP multicasts is limited by the) 311.67 277.33 T
(number of MOSPF routers present in the Autonomous System \050and their interconnection, if any\051. An ability to) 72 265.33 T
(\322tunnel\323 multicast datagrams through non-multicast routers is not provided. In MOSPF) 72 253.33 T
(, just as in the base OSPF) 420.35 253.33 T
(protocol, datagrams \050multicast or unicast\051 are routed \322as is\323 -- they are not further encapsulated or decapsulated as) 72 241.33 T
(they transit the Autonomous System.) 72 229.33 T
1 12 Q
(1.1  T) 72 198 T
(erminology) 99.9 198 T
0 10 Q
(This memo uses the terminology listed in section 1.2 of [OSPF]. For this reason, terms such as \322Network\323,) 72 173.33 T
(\322Autonomous System\323 and \322link state advertisement\323 are assumed to be understood. In addition, the abbreviation) 72 161.33 T
(LSA is used for \322link state advertisement\323. For example, router links advertisements are referred to as router) 72 149.33 T
(-LSAs) 506.15 149.33 T
-0.23 (and the new link state advertisement describing the location of members of a multicast group is referred to as a group-) 72 137.33 P
(membership-LSA.) 72 125.33 T
FMENDPAGE
%%EndPage: "5" 5
%%Page: "6" 6
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 6]) 506.4 74.33 T
72 108 540 684 R
7 X
V
0 X
([RFC 1) 72 677.33 T
(1) 101.36 677.33 T
(12] discusses the data-link encapsulation of IP multicast datagrams. In contrast to the normal forwarding of) 105.99 677.33 T
(IP unicast datagrams, on a broadcast network the mapping of an IP multicast destination to a data-link destination) 72 665.33 T
-0.14 (address is not done with the ARP protocol. Instead, static mappings have been de\336ned from IP multicast destinations) 72 653.33 P
(to data-link addresses. These mappings are dependent on network type; for some networks IP multicasts are) 72 641.33 T
(algorithmically mapped to data-link multicast addresses, for other networks all IP multicast destinations are mapped) 72 629.33 T
(onto the data-link broadcast address. This document loosely describes both of these possible mappings as) 72 617.33 T
1 F
(data-link) 495.84 617.33 T
(multicast) 72 605.33 T
0 F
(.) 111.44 605.33 T
(The following terms are also used throughout this document:) 72 581.33 T
(\245) 72 563.33 T
1 F
(Non-multicast r) 85.54 563.33 T
(outer) 152.85 563.33 T
(.) 174.7 563.33 T
0 F
(A router running OSPF V) 180.2 563.33 T
(ersion 2, but not the multicast extensions. These routers do not) 282.42 563.33 T
(forward multicast datagrams, but can interoperate with MOSPF routers in the forwarding of unicast packets.) 85.54 551.33 T
-0.07 (Routers running the MOSPF protocol are referred to herein as either multicast-capable routers or MOSPF routers.) 85.54 539.33 P
(\245) 72 521.33 T
1 F
-0.26 (Non-br) 85.54 521.33 P
-0.26 (oadcast networks) 116.47 521.33 P
0 F
-0.26 (. A network supporting the attachment of more than two stations, but not supporting the) 190.36 521.33 P
(delivery of a single physical datagram to multiple destinations \050i.e., not supporting data-link multicast\051. [OSPF]) 85.54 509.33 T
(describes these networks as non-broadcast, multi-access networks. An example of a non-broadcast network is an) 85.54 497.33 T
(X.25 PDN.) 85.54 485.33 T
(\245) 72 467.33 T
1 F
-0.12 (T) 85.54 467.33 P
-0.12 (ransit network.) 91.47 467.33 P
0 F
-0.12 ( A network having two or more OSPF routers attached. These networks can forward data traf) 156.9 467.33 P
-0.12 (\336c) 527.62 467.33 P
-0.07 (that is neither locally-originated nor locally-destined. In OSPF) 85.54 455.33 P
-0.07 (, with the exception of point-to-point networks and) 334.21 455.33 P
(virtual links, the neighborhood of each transit network is described by a network links advertisement \050network-) 85.54 443.33 T
(LSA\051.) 85.54 431.33 T
(\245) 72 413.33 T
1 F
-0.19 (Stub network.) 85.54 413.33 P
0 F
-0.19 ( A network having only a single OSPF router attached. A network belonging to an OSPF system is) 145.91 413.33 P
(either a transit or a stub network, but never both.) 85.54 401.33 T
1 12 Q
(1.2  Acknowledgments) 72 370 T
0 10 Q
(The multicast extensions to OSPF are based on Link-State Multicast Routing algorithm presented in [Deering]. In) 72 345.33 T
-0.14 (addition, the [Deering] paper contains a section on Hierarchical Multicast Routing \050providing the ideas for MOSPF\325) 72 333.33 P
-0.14 (s) 533.75 333.33 P
-0.1 (inter) 72 321.33 P
-0.1 (-area multicasting scheme\051 and several Distance V) 90.13 321.33 P
-0.1 (ector \050also called Bellman-Ford\051 multicast algorithms. One of) 291.13 321.33 P
(these Distance V) 72 309.33 T
(ector multicast algorithms, T) 138.65 309.33 T
(runcated Reverse Path Broadcasting, has been implemented in the) 253.85 309.33 T
(Internet \050see [RFC 1075]\051.) 72 297.33 T
(The MOSPF protocol has been developed by the MOSPF W) 72 273.33 T
(orking Group of the Internet Engineering T) 313.13 273.33 T
(ask Force.) 485.73 273.33 T
(Portions of this work have been supported by DARP) 72 261.33 T
(A under NASA contract NAG 2-650.) 281.62 261.33 T
1 14 Q
(2  Multicast r) 72 222.67 T
(outing in MOSPF) 152.23 222.67 T
0 10 Q
(This section describes MOSPF\325) 72 197.33 T
(s basic multicast routing algorithm. The basic algorithm, run inside a single OSPF) 198.39 197.33 T
(area, covers the case where the source of the multicast datagram is inside the area itself. W) 72 185.33 T
(ithin the area, the path of) 434.83 185.33 T
(the datagram forms a tree rooted at the datagram source.) 72 173.33 T
FMENDPAGE
%%EndPage: "6" 6
%%Page: "7" 7
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 7]) 506.4 74.33 T
72 108 540 684 R
7 X
V
1 12 Q
0 X
(2.1  Routing characteristics) 72 676 T
0 10 Q
(As a multicast datagram is forwarded along its shortest-path tree, the datagram is delivered to each member of the) 72 651.33 T
(destination multicast group. In MOSPF) 72 639.33 T
(, the forwarding of the multicast datagram has the following properties:) 228.71 639.33 T
(\245) 72 621.33 T
(The path taken by a multicast datagram depends both on the datagram\325) 85.54 621.33 T
(s source and its multicast destination.) 368.55 621.33 T
(Called source/destination routing, this is in contrast to most unicast datagram forwarding algorithms \050like OSPF\051) 85.54 609.33 T
(that route based solely on destination.) 85.54 597.33 T
(\245) 72 579.33 T
(The path taken between the datagram\325) 85.54 579.33 T
(s source and any particular destination group member is the least cost path) 238 579.33 T
(available. Cost is expressed in terms of the OSPF link-state metric. For example, if the OSPF metric represents) 85.54 567.33 T
(delay) 85.54 555.33 T
(, a minimum delay path is chosen. OSPF metrics are con\336gurable. A metric is assigned to each outbound) 106.55 555.33 T
(router interface, representing the cost of sending a packet on that interface. The cost of a path is the sum of its) 85.54 543.33 T
(constituent \050outbound\051 router interfaces) 85.54 531.33 T
0 8 Q
(1) 244.12 535.33 T
0 10 Q
(.) 248.12 531.33 T
(\245) 72 513.33 T
(MOSPF takes advantage of any commonality of least cost paths to destination group members. However) 85.54 513.33 T
(, when) 504.26 513.33 T
(members of the multicast group are spread out over multiple networks, the multicast datagram must at times be) 85.54 501.33 T
(replicated. This replication is performed as few times as possible \050at the tree branches\051, taking maximum) 85.54 489.33 T
(advantage of common path segments.) 85.54 477.33 T
(\245) 72 459.33 T
-0.15 (For a given multicast datagram, all routers calculate an identical shortest-path tree. There is a single path between) 85.54 459.33 P
(the datagram\325) 85.54 447.33 T
(s source and any particular destination group member) 140.25 447.33 T
(. This means that, unlike OSPF\325) 354.38 447.33 T
(s treatment of) 481.89 447.33 T
(regular \050unicast\051 IP data traf) 85.54 435.33 T
(\336c, there is no provision for equal-cost multipath.) 198.1 435.33 T
(\245) 72 417.33 T
(On each packet hop, MOSPF normally forwards IP multicast datagrams as data-link multicasts. There are two) 85.54 417.33 T
(exceptions. First, on non-broadcast networks, since there are no data-link multicast/broadcast services the) 85.54 405.33 T
(datagram must be forwarded to speci\336c MOSPF neighbors \050see Section 2.3.3\051. Second, a MOSPF router can be) 85.54 393.33 T
(con\336gured to forward IP multicasts on speci\336c networks as data-link unicasts, in order to avoid datagram) 85.54 381.33 T
(replication in certain anomalous situations \050see Section 6.4\051.) 85.54 369.33 T
(While MOSPF optimizes the path to any given group member) 72 345.33 T
(, it does not necessarily optimize the use of the) 320.2 345.33 T
(internetwork as a whole. T) 72 333.33 T
(o do so, instead of calculating source-based shortest-path trees, something similar to a) 178.22 333.33 T
(minimal spanning tree \050containing only the group members\051 would need to be calculated. This type of minimal) 72 321.33 T
(spanning tree is called a Steiner tree in the literature. For a comparison of shortest-path tree routing to routing using) 72 309.33 T
(Steiner trees, see [Deering2] and [Bharath-Kumar].) 72 297.33 T
1 12 Q
(2.2  Sample path of a multicast datagram) 72 266 T
0 10 Q
-0.26 (As an example of multicast datagram routing in MOSPF) 72 241.33 P
-0.26 (, consider the sample Autonomous System pictured in Figure) 295.18 241.33 P
(1. This \336gure has been taken from the OSPF speci\336cation \050see [OSPF]\051. The lar) 72 229.33 T
(ger rectangles represent routers, the) 391.5 229.33 T
(smaller rectangles hosts. Oblongs and circles represent multi-access networks) 72 217.33 T
0 8 Q
(2) 382.77 221.33 T
0 10 Q
(. Lines joining routers are point-to-) 386.77 217.33 T
(point serial connections. A cost has been assigned to each outbound router interface.) 72 205.33 T
(All routers in Figure 1 are assumed to be running MOSPF) 72 181.33 T
(. A number of hosts have been added to the \336gure. The) 303.41 181.33 T
(hosts labelled Ma have joined a particular multicast group \050call it Group A\051 via the IGMP protocol. These hosts are) 72 169.33 T
72 141 540 161.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 148.99 203.98 148.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 -208 1000 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
-0.15 (1.   Actually) 72 135.67 P
-0.15 (, OSPF allows a separate link cost to be con\336gured for each T) 110.57 135.67 P
-0.15 (OS. MOSPF then potentially calculates separate paths for each T) 306.54 135.67 P
-0.15 (OS. For) 512.97 135.67 P
(more details, see Section 6.2.) 72 126.67 T
(2.  W) 72 114.67 T
(e also assume in this section that the pictured multi-access networks provide data-link multicast/broadcast services.) 88.91 114.67 T
FMENDPAGE
%%EndPage: "7" 7
%%Page: "8" 8
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 8]) 506.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(located on networks N2, N6 and N1) 72 199.33 T
(1. Similarly) 215.77 199.33 T
(, using IGMP the hosts labelled Mb have joined a separate multicast) 262.35 199.33 T
-0.06 (group B; these hosts are located on networks N1, N2 and N3. Note that hosts can join multiple multicast groups; it is) 72 187.33 P
(only for clarity of presentation that each host has joined at most one multicast group in this example. Also, hosts H2) 72 175.33 T
-0.03 (through H5 have been added to the \336gure to serve as sources for multicast datagrams. Again, the datagrams\325 sources) 72 163.33 P
(have been made separate from the group members only for clarity of presentation.) 72 151.33 T
(T) 72 127.33 T
(o illustrate the forwarding of a multicast datagram, suppose that Host H2 \050attached to Network N4\051 sends a) 77.41 127.33 T
(multicast datagram to multicast group B. This datagram originates as a data-link layer multicast on Network N4.) 72 115.33 T
72 108 540 684 C
72 205.99 540 684 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
69.77 205.99 542.23 684 R
7 X
0 0 0 1 0 0 0 K
V
126.28 635.77 145.95 655.07 R
5 X
V
0.5 H
2 Z
0 X
N
126.28 568.21 145.95 587.51 R
5 X
V
0 X
N
185.3 529.61 204.98 548.91 R
5 X
V
0 X
N
273.83 597.16 293.51 616.46 R
5 X
V
0 X
N
382.04 597.16 401.72 616.46 R
5 X
V
0 X
N
293.51 606.82 382.04 606.82 2 L
N
204.98 539.26 382.04 539.26 2 L
N
195.14 548.91 195.14 577.86 2 L
N
234.49 606.82 273.83 606.82 2 L
N
146.23 576.79 171.37 593.95 2 L
N
147.32 646.49 171.37 630.4 2 L
N
382.04 529.61 401.72 548.91 R
5 X
V
0 X
N
7 X
90 450 34.43 33.78 200.06 611.64 G
0 X
90 450 34.43 33.78 200.06 611.64 A
7 X
90 450 34.43 33.78 165.86 360.73 G
0 X
90 450 34.43 33.78 165.86 360.73 A
7 X
90 450 34.43 33.78 481.5 360.73 G
0 X
90 450 34.43 33.78 481.5 360.73 A
382.04 346.26 401.72 365.56 R
5 X
V
0 X
N
470.58 423.46 490.25 442.76 R
5 X
V
0 X
N
470.58 288.36 490.25 307.66 R
5 X
V
0 X
N
96.77 548.91 106.6 597.16 4.92 RR
N
391.88 529.61 391.88 365.56 2 L
N
480.41 442.76 480.41 606.82 401.72 606.82 3 L
N
391.88 548.91 391.88 597.16 2 L
N
155.79 413.81 175.46 433.11 R
5 X
V
0 X
N
155.79 288.36 175.46 307.66 R
5 X
V
0 X
N
234.49 346.26 254.16 365.56 R
5 X
V
0 X
N
106.61 645.42 126.28 645.42 2 L
N
106.61 577.86 126.28 577.86 2 L
N
195.14 529.61 195.14 510.31 2 L
N
0 8 Q
(N3) 193.59 607.71 T
(R) 277.16 603.88 T
(T4) 282.02 603.88 T
(R) 187.88 535.72 T
(T3) 192.73 535.72 T
(R) 130.73 642.95 T
(T1) 135.59 642.95 T
(R) 130.02 574.78 T
(T2) 134.88 574.78 T
(R) 386.45 603.88 T
(T5) 391.3 603.88 T
(R) 385.73 535.72 T
(T6) 390.59 535.72 T
(R) 384.3 353.44 T
(T10) 389.16 353.44 T
(R) 236.45 352.67 T
(T1) 241.3 352.67 T
(1) 249.9 352.67 T
(R) 157.88 420.83 T
(T9) 162.73 420.83 T
(R) 157.88 294.46 T
(T12) 162.73 294.46 T
(N4) 187.88 503.55 T
(N1) 86.45 649.84 T
(N2) 87.88 573.25 T
95.38 620.68 105.22 668.93 4.92 RR
N
305.53 330.25 315.37 378.5 4.92 RR
N
170.71 499.82 219.9 509.47 4.82 RR
N
141.57 449.88 190.75 459.53 4.82 RR
N
315.02 355.6 382.16 354.83 2 L
N
305.73 356.37 255.02 357.9 2 L
N
200.73 356.37 234.3 356.37 2 L
N
165.73 432.95 165.73 449.8 2 L
N
165.73 394.66 165.73 413.81 2 L
N
165.73 307.35 165.73 327.26 2 L
N
141.43 259.17 190.61 268.83 4.82 RR
N
456.07 259.86 505.25 269.51 4.82 RR
N
481.02 395 481.02 422 2 L
N
402.02 357 447.02 357 2 L
N
482.02 327 482.02 307 2 L
N
481.02 287 481.02 271 2 L
N
166.02 287 166.02 269 2 L
N
(N6) 474.77 360 T
(R) 474.77 432 T
(T7) 479.62 432 T
(R) 474.77 297 T
(T8) 479.62 297 T
(N8) 303.77 315 T
(N1) 159.58 464.73 T
(1) 169.06 464.73 T
(N10) 159.77 252 T
(N7) 473.59 250 T
(N9) 158.59 357.86 T
115.3 294 129.59 304 R
7 X
V
0 X
N
203.3 449.57 217.59 459.57 R
7 X
V
0 X
N
146.3 499.43 160.59 509.43 R
7 X
V
0 X
N
230.02 500 244.3 510 R
7 X
V
0 X
N
512.3 394.14 526.59 404.14 R
7 X
V
0 X
N
177.45 654 191.73 664 R
7 X
V
0 X
N
219.73 653.86 234.02 663.86 R
7 X
V
0 X
N
190.73 455 203.59 455 2 L
N
512.16 395 504.31 386.43 2 L
N
129.3 297.86 155.73 297.86 2 L
N
220.73 505 230.02 505 2 L
N
170.73 505 161.45 505 2 L
N
220.02 654.29 211.45 644.29 2 L
N
191.45 653.57 194.3 645 2 L
N
80.88 530.57 95.16 540.57 R
7 X
V
0 X
N
76.73 597.57 91.02 607.57 R
7 X
V
0 X
N
76.16 636.71 90.45 646.71 R
7 X
V
0 X
N
95.73 540.71 102.16 549.29 2 L
N
91.45 603.57 100.02 597.86 2 L
N
90.73 642.14 95.73 642.14 2 L
N
(Mb) 78.32 600.71 T
(Mb) 78.46 638.43 T
(Mb) 179.32 656.14 T
(Ma) 82.83 532.86 T
(Ma) 205.83 452 T
(Ma) 513.83 396.86 T
(H1) 117.88 297.14 T
(H2) 232.16 502.86 T
(H3) 148.59 501.43 T
(H4) 222.16 656.43 T
(Slip) 134.3 290.71 T
(10) 145.02 301.43 T
(1) 167.59 312.14 T
(1) 227.73 362 T
(1) 168.59 405.43 T
(1) 484.45 414.57 T
(1) 483.88 310.86 T
(1) 404.73 361.43 T
(1) 267.02 612 T
(1) 197.16 554 T
(1) 148.73 571.71 T
(1) 149.59 652.29 T
(2) 168.3 282.14 T
(2) 257.73 361.28 T
(2) 197.88 521.86 T
(3) 168.3 437.14 T
(3) 376.3 358.43 T
(3) 120.02 581.14 T
(3) 120.88 650.29 T
(6) 374.73 545 T
(6) 396.3 554.14 T
(6) 405.73 611.86 T
(6) 485.16 448.86 T
(4) 484.31 280 T
(7) 396.45 520 T
(7) 395.73 587.86 T
(5) 395.73 372.14 T
(8) 372.88 611.43 T
(8) 297.88 614.29 T
(8) 210.02 544.29 T
(Ia) 383.59 522.14 T
(Ib) 384.3 370 T
387.16 616.43 372.88 649.29 2 L
8 X
N
391.45 616.43 391.45 656.43 2 L
N
395.73 616.43 410.02 647.86 2 L
N
490.02 436.43 518.59 458.57 2 L
9 X
N
490.02 430.71 520.02 432.14 2 L
N
0 X
(N12) 363.59 651.43 T
(N13) 385.02 662.86 T
(N14) 402.88 649.29 T
(N12) 521.45 457.86 T
(N15) 521.45 430.71 T
(8) 406.16 630.07 T
(8) 393.45 639.21 T
(8) 374.3 631.21 T
(2) 503.59 453.57 T
(9) 507.88 435 T
1 10 Q
(Figur) 220.02 225 T
(e 1: A sample MOSPF con\336guration) 243.73 225 T
433.48 261 447.77 271 R
7 X
V
0 X
N
0 8 Q
(H5) 435.91 263.57 T
448.57 266.28 455 264.85 2 L
N
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "8" 8
%%Page: "9" 9
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 9]) 506.4 74.33 T
72 108 540 684 R
7 X
V
0 X
-0.19 (Router R) 72 677.33 P
-0.19 (T3, being a multicast router) 107.6 677.33 P
-0.19 (, has \322opened up\323 its interface data-link multicast \336lters. It therefore receives the) 217.26 677.33 P
-0.18 (multicast datagram, and attempts to forward it to the members of multicast group B \050located on networks N1, N2 and) 72 665.33 P
-0.34 (N3\051. This is accomplished by sending a single copy of the datagram onto Network N3, again as a data-link multicast) 72 653.33 P
0 8 Q
-0.27 (3) 531.34 657.33 P
0 10 Q
-0.34 (.) 535.34 653.33 P
(Upon receiving the multicast datagram from R) 72 641.33 T
(T3, routers R) 258.04 641.33 T
(T1 and R) 310.49 641.33 T
(T2 will then multicast the datagram on their) 347.11 641.33 T
(connected stub networks \050N1 and N2 respectively\051. Note that, since the datagram is sent onto Network N3 as a data-) 72 629.33 T
-0.27 (link multicast, Router R) 72 617.33 P
-0.27 (T4 will also receive a copy) 166.72 617.33 P
-0.27 (. However) 272.77 617.33 P
-0.27 (, it will not forward the datagram, since it does not lie on) 313.76 617.33 P
(a shortest path between the source \050Host H2\051 and any members of multicast group B.) 72 605.33 T
(Note that the path of the multicast datagram depends on the datagram\325) 72 581.33 T
(s source network. If the above multicast) 352.79 581.33 T
-0.34 (datagram was instead originated by Host H3, the path taken would be identical, since hosts H2 and H3 lie on the same) 72 569.33 P
-0.28 (network \050Network N4\051. However) 72 557.33 P
-0.28 (, if the datagram was originated by Host H4, its path would be dif) 204.07 557.33 P
-0.28 (ferent. In this case,) 462.79 557.33 P
-0.16 (when Router R) 72 545.33 P
-0.16 (T3 receives the datagram, R) 131.63 545.33 P
-0.16 (T3 will drop the datagram instead of forwarding it \050since R) 242.87 545.33 P
-0.16 (T3 is no longer) 477.31 545.33 P
(on the shortest path to any member of group B\051.) 72 533.33 T
(Note that the path of the multicast datagram also depends on the destination multicast group. If Host H2 sends a) 72 509.33 T
(multicast to Group A, the path taken is as follows. The datagram again starts as a multicast on Network N4. Router) 72 497.33 T
(R) 72 485.33 T
(T3 receives it, and creates two copies. One is sent onto Network N3 which is then forwarded onto Network N2 by) 78.07 485.33 T
(R) 72 473.33 T
(T2. The other copy is sent to Router R) 78.07 473.33 T
(T10 \050via R) 231.07 473.33 T
(T6\051, where the datagram is again split, eventually to be delivered) 273.8 473.33 T
(onto networks N6 and N1) 72 461.33 T
(1. Note that, although multiple copies of the datagram are produced, the datagram itself is) 174.95 461.33 T
(not modi\336ed \050except for its IP TTL\051 as it is forwarded. No encapsulation of the datagram is performed; the) 72 449.33 T
(destination of the datagram is always listed as the multicast group A.) 72 437.33 T
1 12 Q
(2.3  MOSPF forwarding mechanism) 72 406 T
0 10 Q
-0.2 (Each MOSPF router in the path of a multicast datagram bases its forwarding decision on the contents of a data cache.) 72 381.33 P
(This cache is called the) 72 369.33 T
1 F
(forwarding cache) 167.81 369.33 T
0 F
(. There is a separate forwarding cache entry for each source/destination) 242.52 369.33 T
(combination) 72 357.33 T
0 8 Q
(4) 122 361.33 T
0 10 Q
(. Each cache entry indicates, for multicast datagrams having matching source and destination, which) 126 357.33 T
-0.3 (neighboring node \050i.e., router or network\051 the datagram must be received from \050called the) 72 345.33 P
1 F
-0.3 ( upstr) 425.84 345.33 P
-0.3 (eam node) 450.64 345.33 P
0 F
-0.3 (\051 and which) 491.18 345.33 P
(interfaces the datagram should then be forwarded out of \050called the) 72 333.33 T
1 F
(downstr) 342.76 333.33 T
(eam interfaces) 377.58 333.33 T
0 F
(\051.) 439.5 333.33 T
(A forwarding cache entry is actually built from two component pieces. The \336rst of these components is called the) 72 309.33 T
1 F
(local gr) 72 297.33 T
(oup database.) 103.76 297.33 T
0 F
( This database, built by the IGMP protocol, indicates the group membership of the router) 162.66 297.33 T
(\325) 519.1 297.33 T
(s) 521.88 297.33 T
(directly attached networks. The) 72 285.33 T
(local group database enables the local delivery of multicast datagrams. The second) 200.58 285.33 T
(component is the) 72 273.33 T
1 F
( datagram\325) 140.33 273.33 T
(s shortest path tr) 187.45 273.33 T
(ee.) 259.76 273.33 T
0 F
( This tree, built on demand, is rooted at a multicast datagram\325) 271.14 273.33 T
(s) 516.95 273.33 T
(source. The) 72 261.33 T
(datagram\325) 121.15 261.33 T
(s shortest path tree enables the delivery of multicast datagrams to distant \050i.e., not directly) 161.14 261.33 T
(attached\051 group members.) 72 249.33 T
72 159 540 179.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 166.99 203.98 166.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
-0.26 (3.  Note that if N3 were a non-broadcast network, Router R) 72 153.67 P
-0.26 (T3 would send separate copies of the datagram to routers R) 258.66 153.67 P
-0.26 (T1 and R) 445.8 153.67 P
-0.26 (T2. Since the IGMP) 474.58 153.67 P
-0.11 (protocol is not de\336ned on non-broadcast networks, there could in this case be no group B member attached to Network N3. However the multicast) 72 144.67 P
(datagram would still be delivered to the group B members attached to networks N1 and N2.) 72 135.67 T
(4.  Actually) 72 123.67 T
(, in MOSPF there is a separate forwarding cache entry for each combination of source, destination and T) 109.03 123.67 T
(OS. For a discussion of T) 443.7 123.67 T
(OS-) 525.34 123.67 T
(based multicast routing, see Section 6.2.) 72 114.67 T
FMENDPAGE
%%EndPage: "9" 9
%%Page: "10" 10
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 10]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 12 Q
0 X
(2.3.1  IGMP interface: the local gr) 72 198.99 T
(oup database) 247.08 198.99 T
0 10 Q
(The) 72 174.33 T
1 F
( local gr) 87.55 174.33 T
(oup database) 121.81 174.33 T
0 F
( keeps track of the group membership of the router) 178.21 174.33 T
(\325) 381.59 174.33 T
(s directly attached networks. Each) 384.37 174.33 T
(entry in the local group database is a) 72 162.33 T
2 F
( [gr) 218.36 162.33 T
(oup, attached network]) 233.27 162.33 T
0 F
(pair) 328.82 162.33 T
(, which indicates that the) 343.97 162.33 T
2 F
(attached network) 446.18 162.33 T
0 F
( has) 515.34 162.33 T
(one or more IP hosts belonging to the IP multicast destination) 72 150.33 T
2 F
(gr) 321.72 150.33 T
(oup) 330.24 150.33 T
0 F
(. This information is then used by the router) 345.24 150.33 T
(when deciding which directly attached networks to forward a received IP multicast datagram onto, in order to) 72 138.33 T
(complete delivery of the datagram to \050local\051 group members.) 72 126.33 T
72 108 540 684 C
72 206.99 540 684 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
69.77 206.99 542.23 684 R
7 X
0 0 0 1 0 0 0 K
V
3 X
90 450 3.21 2.86 109.64 615.86 G
0.5 H
2 Z
9 X
90 450 3.21 2.86 109.64 615.86 A
3 X
90 450 3.21 2.86 216.93 633.71 G
9 X
90 450 3.21 2.86 216.93 633.71 A
3 X
90 450 3.21 2.59 110.27 656.12 G
9 X
90 450 3.21 2.59 110.27 656.12 A
3 X
90 450 3.21 2.86 155.64 614.86 G
9 X
90 450 3.21 2.86 155.64 614.86 A
3 X
90 450 3.21 2.59 158.77 655.21 G
9 X
90 450 3.21 2.59 158.77 655.21 A
3 X
90 450 3.21 2.86 219.93 538.71 G
9 X
90 450 3.21 2.86 219.93 538.71 A
3 X
90 450 3.21 2.86 297.93 633.71 G
9 X
90 450 3.21 2.86 297.93 633.71 A
3 X
90 450 3.21 2.86 217.93 585.71 G
9 X
90 450 3.21 2.86 217.93 585.71 A
3 X
90 450 3.21 2.86 389.93 631.71 G
9 X
90 450 3.21 2.86 389.93 631.71 A
3 X
90 450 3.21 2.86 467.93 517.71 G
9 X
90 450 3.21 2.86 467.93 517.71 A
125.08 652.68 113.62 656.25 125.23 659.29 125.16 655.98 4 Y
0 X
V
152.62 655.35 125.16 655.98 2 L
N
124.54 612.69 113 616 124.54 619.31 124.54 616 4 Y
V
152 616 124.54 616 2 L
N
222.74 553.68 220 542 216.13 553.36 219.44 553.52 4 Y
V
218 583 219.44 553.52 2 L
N
206.42 625.33 217 631 211.03 620.59 208.73 622.96 4 Y
V
159 615 M
 174.84 618.21 194.97 614.32 208.73 622.95 D
N
172.32 621.41 160.62 618.75 169.13 627.2 170.73 624.3 4 Y
V
214.38 632.5 M
 199.96 632.87 184.19 630.36 170.73 624.3 D
N
200.37 640.07 211.25 635 199.34 633.53 199.85 636.8 4 Y
V
158.75 653.75 M
 172.38 648.46 185.65 640.41 199.85 636.8 D
N
173.18 656.25 161.25 657.5 172.03 662.76 172.6 659.51 4 Y
V
216.88 636.25 M
 212.93 658.61 191.45 661.76 172.61 659.51 D
N
217.37 600.68 216.25 588.75 210.88 599.47 214.12 600.08 4 Y
V
217.5 630.62 M
 216.92 620.77 213.88 610.09 214.13 600.07 D
N
223.46 620.1 221.25 631.88 229.36 623.06 226.41 621.58 4 Y
V
219.38 588.75 M
 229.18 596.68 230.24 610.13 226.41 621.57 D
N
283.01 628.79 295 629.38 285.15 622.53 284.08 625.66 4 Y
V
220 633.12 M
 240.08 628.3 263.46 621.1 284.07 625.65 D
N
230.74 637.04 218.75 636.87 228.82 643.37 229.78 640.21 4 Y
V
295.63 635.62 M
 274.3 640.24 251.41 644.93 229.79 640.21 D
N
373.8 626.7 385.62 628.75 376.68 620.75 375.24 623.73 4 Y
V
301.25 633.12 M
 323.03 622.34 351.73 615.21 375.26 623.72 D
N
312.58 637.25 300.62 636.25 310.23 643.43 311.4 640.34 4 Y
V
387.5 633.12 M
 365.75 644.81 336.25 647.84 311.43 640.34 D
N
3 X
90 450 3.21 2.86 350.18 558.25 G
9 X
90 450 3.21 2.86 350.18 558.25 A
3 X
90 450 3.21 2.86 314.18 511.92 G
9 X
90 450 3.21 2.86 314.18 511.92 A
3 X
90 450 3.21 2.86 357.18 406.59 G
9 X
90 450 3.21 2.86 357.18 406.59 A
3 X
90 450 3.21 2.86 477.18 323.59 G
9 X
90 450 3.21 2.86 477.18 323.59 A
3 X
90 450 3.21 2.86 478.18 405.59 G
9 X
90 450 3.21 2.86 478.18 405.59 A
3 X
90 450 3.21 2.86 475.18 260.59 G
9 X
90 450 3.21 2.86 475.18 260.59 A
3 X
90 450 3.21 2.86 259.18 381.59 G
9 X
90 450 3.21 2.86 259.18 381.59 A
3 X
90 450 3.21 2.86 318.18 435.59 G
9 X
90 450 3.21 2.86 318.18 435.59 A
464.42 536.15 465 524.17 458.16 534.03 461.29 535.09 4 Y
0 X
V
393.33 630.83 M
 423.98 604.67 447.59 572.35 461.3 535.1 D
N
389.66 617.34 391.66 629.17 396.23 618.07 392.94 617.71 4 Y
V
466.67 518.33 M
 437.73 545.97 400.55 576.8 392.98 617.7 D
N
331.43 558.27 343.33 556.67 332.39 551.73 331.91 555 4 Y
V
220.83 584.17 M
 250.16 558.29 293.25 550.56 331.9 554.98 D
N
231.98 587.11 220 586.67 229.92 593.39 230.95 590.25 4 Y
V
346.67 560 M
 310.56 572.06 274.19 582.61 237.5 590.01 D
 235.3 590.45 233.11 590.5 230.96 590.24 D
N
375.72 619.07 384.99 626.67 381.15 615.32 378.44 617.2 4 Y
V
350 561.67 M
 354.64 582.59 366.82 600.44 378.46 617.19 D
N
361.05 567.08 350.83 560.83 356.18 571.55 358.62 569.31 4 Y
V
390 630 M
 391.3 604.75 374.65 586.54 358.63 569.31 D
N
327.17 424.55 319.99 434.17 331.17 429.81 329.17 427.18 4 Y
V
355 407.5 329.18 427.17 2 L
N
479.47 274.77 475.83 263.34 472.85 274.96 476.16 274.87 4 Y
V
477.5 321.67 476.16 274.86 2 L
N
325.6 521.97 315.83 515 320.43 526.08 323.02 524.03 4 Y
V
348.33 555.83 323.02 524.03 2 L
N
359.44 421.67 356.67 410 352.83 421.37 356.13 421.52 4 Y
V
350 554.17 356.14 421.52 2 L
N
356.46 543.94 355 555.83 362.54 546.52 359.5 545.23 4 Y
V
358.33 407.5 M
 390.41 445.84 377.1 502.03 359.51 545.22 D
N
480.54 420.13 478.33 408.34 473.95 419.51 477.24 419.82 4 Y
V
468.33 514.17 477.25 419.82 2 L
N
478.53 503.02 474.16 514.17 483.77 507.03 481.15 505.03 4 Y
V
480.83 407.5 M
 501.97 434.32 499.63 476.8 481.19 505.01 D
N
480.94 338.16 477.5 326.67 474.32 338.24 477.63 338.2 4 Y
V
478.33 401.67 477.63 338.2 2 L
N
483.22 393.71 479.17 405 488.58 397.58 485.9 395.65 4 Y
V
480 325.83 M
 497.2 344.29 498.5 373.9 485.92 395.64 D
N
464.32 408.39 475.83 405 464.27 401.78 464.3 405.08 4 Y
V
360 405.83 464.3 405.08 2 L
N
369.9 397.41 360 404.17 371.98 403.68 370.94 400.55 4 Y
V
477.5 403.33 M
 450.45 383.59 415.85 389.55 385.83 396.64 D
 380.89 397.8 375.91 399.07 370.95 400.53 D
N
3 X
90 450 3.21 2.86 184.68 383.59 G
9 X
90 450 3.21 2.86 184.68 383.59 A
3 X
90 450 3.21 2.86 113.51 385.59 G
9 X
90 450 3.21 2.86 113.51 385.59 A
3 X
90 450 3.21 2.86 111.51 440.92 G
9 X
90 450 3.21 2.86 111.51 440.92 A
3 X
90 450 3.21 2.86 108.68 492.09 G
9 X
90 450 3.21 2.86 108.68 492.09 A
3 X
90 450 3.63 2.86 112.93 326.59 G
9 X
90 450 3.63 2.86 112.93 326.59 A
3 X
90 450 3.21 2.86 87.18 277.75 G
9 X
90 450 3.21 2.86 87.18 277.75 A
3 X
90 450 3.21 2.86 141.01 276.42 G
9 X
90 450 3.21 2.86 141.01 276.42 A
98.26 290.38 90 281.67 92.39 293.43 95.32 291.91 4 Y
0 X
V
111.67 323.33 95.32 291.9 2 L
N
137.47 290.07 140 278.34 131.64 286.95 134.55 288.51 4 Y
V
115 325 134.55 288.5 2 L
N
106.47 479.14 109.17 490.83 113.08 479.49 109.77 479.32 4 Y
V
111.67 443.33 109.77 479.31 2 L
N
108.74 427.54 111.67 439.17 115.35 427.75 112.04 427.64 4 Y
V
113.33 388.33 112.04 427.64 2 L
N
104.71 397.44 110 386.67 99.81 393 102.26 395.22 4 Y
V
110 441.67 M
 95.18 431.81 93.49 409.65 102.25 395.22 D
N
116.64 339.87 113.33 328.33 110.03 339.87 113.33 339.87 4 Y
V
113.33 381.67 113.33 339.87 2 L
N
103.9 370.23 110.83 380 110.13 368.05 107.02 369.14 4 Y
V
110.83 326.67 M
 100.49 339.06 102.55 354.78 107.02 369.13 D
N
171.88 386.92 183.33 383.33 171.72 380.31 171.8 383.62 4 Y
V
115.83 385 171.8 383.62 2 L
N
245.26 384.56 256.67 380.83 245.02 377.95 245.14 381.26 4 Y
V
188.33 383.33 245.14 381.25 2 L
N
342.17 409.62 354.17 410 344.2 403.32 343.18 406.47 4 Y
V
263.33 380.83 343.18 406.47 2 L
N
272.77 374.69 261.67 379.17 273.45 381.25 273.11 377.97 4 Y
V
356.67 405 M
 339.5 378.3 303.04 375.48 273.12 377.95 D
N
191.29 372.31 185 382.5 195.74 377.19 193.51 374.75 4 Y
V
258.33 379.17 M
 239.83 369.92 221.07 366.74 201.67 372.44 D
 199.18 373.17 196.25 373.78 193.52 374.74 D
N
122.59 373.24 115 382.51 126.34 378.67 124.46 375.96 4 Y
V
183.33 383.33 M
 167.68 373.52 142.31 367.64 124.47 375.93 D
N
0 8 Q
(R) 150 662.5 T
(T1) 154.86 662.5 T
0 6.4 Q
(b) 163.74 665.7 T
0 8 Q
(R) 150 602.5 T
(T2) 154.86 602.5 T
0 6.4 Q
(a,b) 163.74 605.7 T
(R) 450.83 512.37 T
(T7) 454.72 512.37 T
0 8 Q
(R) 485 320.83 T
(T8) 489.86 320.83 T
(R) 119.17 440 T
(T9) 124.02 440 T
0 6.4 Q
(a) 132.91 443.2 T
0 8 Q
(R) 175.83 394.17 T
(T1) 180.69 394.17 T
(1) 189.28 394.17 T
(R) 121.67 325 T
(T12) 126.52 325 T
(N1) 93.33 655.83 T
(N2) 92.5 615.83 T
(N7) 470.83 244.16 T
(N9) 93.33 381.67 T
(N10) 148.33 273.33 T
(N1) 115.83 491.67 T
(1) 125.31 491.67 T
(H1) 94.17 275.83 T
(10) 96.67 316.67 T
(2) 123.33 313.33 T
(1) 95 356.67 T
(1) 88.33 414.17 T
(3) 115.83 463.33 T
(1) 144.17 364.17 T
(4) 480.83 295 T
(3) 133.33 606.67 T
(3) 137.5 659.17 T
(1) 174.33 635.67 T
1 10 Q
(Figur) 220 235 T
(e 2: The MOSPF database) 243.71 235 T
484.25 554.78 492.99 563 489.93 551.4 487.09 553.09 4 Y
9 X
V
468 521 487.1 553.09 2 L
N
490.95 540.3 501.99 545 495.12 535.16 493.04 537.73 4 Y
V
470 519 493.05 537.73 2 L
N
400.57 669.58 407.99 679 406.69 667.07 403.63 668.32 4 Y
V
390 635 403.63 668.32 2 L
N
410.52 659.64 420 667 415.86 655.73 413.19 657.69 4 Y
V
401 641 413.19 657.69 2 L
N
419.45 648.74 431 652 422.93 643.12 421.19 645.93 4 Y
V
410 639 421.19 645.93 2 L
N
0 8 Q
0 X
(N12) 390.72 674.29 T
(R) 195.32 585.26 T
(T3) 200.17 585.26 T
(N4) 216.43 524.57 T
(N3) 217.14 645.29 T
0 6.4 Q
(b) 226.92 648.48 T
0 8 Q
(1) 252.86 646 T
(1) 230.71 608.14 T
(R) 334.29 569.57 T
(T6) 339.14 569.57 T
(6) 283.57 584.57 T
(8) 265.71 550.29 T
(R) 290.72 641.71 T
(T4) 295.57 641.71 T
(8) 345 648.14 T
(8) 342.14 613.14 T
(6) 357.14 593.86 T
(7) 380 583.86 T
(N8) 255 389.57 T
(Ia) 307.14 441 T
(Ib) 310 498.14 T
(7) 345.72 478.86 T
(5) 380.72 478.14 T
(7) 334.29 527.43 T
(R) 398.57 630.29 T
(T5) 403.43 630.29 T
(R) 367.86 410.28 T
(T10) 372.71 410.28 T
(5) 339.29 423.14 T
(2) 218.57 387.43 T
(3) 324.29 373.14 T
(6) 416.43 558.14 T
(1) 418.57 410.28 T
(N6) 487.86 403.14 T
0 6.4 Q
(a) 497.64 406.34 T
0 8 Q
(1) 497.86 361.71 T
(1) 465 461 T
(6) 439.29 589.57 T
(N14) 433.57 651 T
(N13) 423.57 666 T
(N12) 491.43 569.57 T
(N15) 505 545.29 T
(8) 392.14 654.57 T
(8) 410 646.71 T
(8) 416.43 635.29 T
(2) 474.29 542.43 T
(9) 485 524.57 T
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "10" 10
%%Page: "11" 11
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 11]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(The) 72 677.33 T
1 F
( local gr) 87.55 677.33 T
(oup database) 121.81 677.33 T
0 F
( is built through the operation of the Internet Group Management Protocol \050IGMP; see) 178.21 677.33 T
([RFC 1) 72 665.33 T
(1) 101.36 665.33 T
(12]\051. When a MOSPF router becomes Designated Router on an attached network \050call the network N1\051, it) 105.99 665.33 T
(starts sending periodic IGMP Host Membership Queries on the network. Hosts then respond with IGMP Host) 72 653.33 T
-0.16 (Membership Reports, one for each multicast group to which they belong. Upon receiving a Host Membership Report) 72 641.33 P
-0.19 (for a multicast group A, the router updates its) 72 629.33 P
1 F
-0.19 ( local gr) 252.44 629.33 P
-0.19 (oup database) 286.33 629.33 P
0 F
-0.19 ( by adding/refreshing the entry [Group A, N1]. If) 342.55 629.33 P
(at a later time Reports for Group A cease to be heard on the network, the entry is then deleted from the local group) 72 617.33 T
(database.) 72 605.33 T
(It is important to note that on any particular network, the sending of IGMP Host Membership Queries and the) 72 581.33 T
-0.25 (listening to IGMP Host Membership Reports is performed solely by the Designated Router) 72 569.33 P
-0.25 (. A MOSPF router ignores) 432.9 569.33 P
-0.38 (Host Membership Reports received on those networks where the router has not been elected Designated Router) 72 557.33 P
-0.38 (.) 511.48 557.33 P
0 8 Q
-0.3 (5) 513.98 561.33 P
0 10 Q
-0.38 ( This) 517.98 557.33 P
-0.34 (means that at most one router performs these IGMP functions on any particular network, and ensures that the network) 72 545.33 P
(appears in the) 72 533.33 T
1 F
( local gr) 127.54 533.33 T
(oup database) 161.8 533.33 T
0 F
( of at most one router) 218.2 533.33 T
(. This prevents multicast datagrams from being replicated) 303.47 533.33 T
-0.2 (as they are delivered to local group members. As a result, each router in the Autonomous System has a dif) 72 521.33 P
-0.2 (ferent local) 492.64 521.33 P
(group database. This is in contrast to the MOSPF link state database, and the datagram shortest-path trees \050see) 72 509.33 T
(Section 2.3.2\051, all of which are identical in each router belonging to the Autonomous System.) 72 497.33 T
(The existence of local group members must be communicated to the rest of the routers in the Autonomous System.) 72 473.33 T
-0.11 (This ensures that a remotely-originated multicast datagram will be forwarded to the router for distribution to its local) 72 461.33 P
-0.4 (group members. This communication is accomplished through the creation of a) 72 449.33 P
1 F
-0.4 ( gr) 385.42 449.33 P
-0.4 (oup-membership-LSA) 396.77 449.33 P
0 F
-0.4 (. Like other) 492.33 449.33 P
(link state advertisements, the group-membership-LSA is \337ooded throughout the Autonomous System. The router) 72 437.33 T
(originates a separate group-membership-LSA for each multicast group having one or more entries in the) 72 425.33 T
(router) 491.64 425.33 T
(\325) 515.89 425.33 T
(s) 518.67 425.33 T
1 F
(local gr) 72 413.33 T
(oup database) 103.76 413.33 T
0 F
(. The router) 160.16 413.33 T
(\325) 207.46 413.33 T
(s group-membership-LSA \050say for Group A\051 lists those local transit vertices \050i.e.,) 210.24 413.33 T
(the router itself and/or any directly connected transit networks\051 that should not be pruned from Group A) 72 401.33 T
(\325) 486.93 401.33 T
(s datagram) 489.71 401.33 T
(shortest-path trees. The router lists itself in its group-membership-LSA for Group A if either 1\051 one or more of the) 72 389.33 T
-0.03 (router) 72 377.33 P
-0.03 (\325) 96.25 377.33 P
-0.03 (s attached stub networks contain Group A members or 2\051 the router itself is a member of Group A. The router) 99.03 377.33 P
(lists a directly connected transit network in the group-membership-LSA for Group A if both 1\051 the router is) 72 365.33 T
(Designated Router on the network and 2\051 the network contains one or more Group A members.) 72 353.33 T
-0.14 (Consider again the example pictured in Figure 1. If Router R) 72 329.33 P
-0.14 (T3 has been elected Designated Router for Network N3,) 313.56 329.33 P
(then T) 72 317.33 T
(able 1: lists the local group database for the routers R) 97.13 317.33 T
(T1-R) 309.83 317.33 T
(T4.) 330.34 317.33 T
72 156 540 176.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 163.99 203.98 163.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(5.  The discussion in this section omits mention of the Backup Designated Router) 72 150.67 T
(\325) 333.18 150.67 T
(s role in the IGMP protocol. While the Backup Designated) 335.4 150.67 T
-0.14 (Router does not send IGMP Host Membership Queries, it does listen to IGMP Host Membership Reports, building \322shadow\323 local group database) 72 141.67 P
-0.11 (entries in the process. These entries do not lead to group-membership-LSAs, nor do they in\337uence delivery of multicast datagrams, but are merely) 72 132.67 P
(maintained to ease the transition from Backup Designated Router to Designated Router) 72 123.67 T
(, should the Designated Router fail. See Sections 2.3.4, 9) 350.98 123.67 T
(and 10 for details.) 72 114.67 T
2 10 Q
(Router) 222.34 291.33 T
(local gr) 266.98 291.33 T
(oup database) 298 291.33 T
0 F
(R) 222.34 275.33 T
(T1) 228.41 275.33 T
([Group B, N1]) 266.98 275.33 T
(R) 222.34 261.33 T
(T2) 228.41 261.33 T
-0.01 ([Group A, N2], [Group B, N2]) 266.98 261.33 P
(R) 222.34 247.33 T
(T3) 228.41 247.33 T
([Group B, N3]) 266.98 247.33 T
(R) 222.34 233.33 T
(T4) 228.41 233.33 T
(None) 266.98 233.33 T
1 F
(T) 224.46 215.33 T
(able 1: Sample local gr) 230.21 215.33 T
(oup databases) 327.25 215.33 T
216.34 301.75 216.34 228.25 2 L
V
0.5 H
0 Z
N
260.98 302.25 260.98 227.75 2 L
V
N
395.66 301.75 395.66 228.25 2 L
V
N
216.09 302 395.91 302 2 L
V
N
216.59 285.25 395.41 285.25 2 L
V
N
216.59 282.75 395.41 282.75 2 L
V
N
216.09 228 395.91 228 2 L
V
N
FMENDPAGE
%%EndPage: "11" 11
%%Page: "12" 12
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 12]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
-0.17 (In this case, each of the routers R) 72 413.33 P
-0.17 (T1, R) 203.49 413.33 P
-0.17 (T2 and R) 225.49 413.33 P
-0.17 (T3 will originate a group-membership-LSA for Group B. In addition,) 261.77 413.33 P
(R) 72 401.33 T
(T2 will also be originating a group-membership-LSA for Group A. R) 78.07 401.33 T
(T1 and R) 354.94 401.33 T
(T2\325) 391.56 401.33 T
(s group-membership-LSAs will) 405.45 401.33 T
(list solely the routers themselves \050N1 and N2 are stub networks\051. R) 72 389.33 T
(T3\325) 339.7 389.33 T
(s group-membership-LSA will list the transit) 353.59 389.33 T
(network N3.) 72 377.33 T
(Figure 2 displays the Autonomous System\325) 72 353.33 T
(s link state database. A router/transit network is labelled with a multicast) 244.51 353.33 T
(group if \050and only if\051 it has been mentioned in a group-membership-LSA for the group \050indicated by superscripts in) 72 341.33 T
(Figure 2\051. When building the shortest-path tree for a particular multicast datagram, this labelling enables those) 72 329.33 T
-0.03 (branches without group members to be pruned from the tree. The process of building a multicast datagram\325) 72 317.33 P
-0.03 (s shortest) 500.06 317.33 P
(path tree is discussed in Section 2.3.2.) 72 305.33 T
(Note that none of the hosts in Figure 1 belonging to multicast groups A and B show up explicitly in the link state) 72 281.33 T
(database \050see Figure 2\051. In fact, looking at the link state database you cannot even determine which stub networks) 72 269.33 T
(contain multicast group members. The link state database simply indicates those routers/transit networks having) 72 257.33 T
(attached group members. This is all that is necessary for successful forwarding of multicast datagrams.) 72 245.33 T
1 12 Q
(2.3.2  A datagram\325) 72 214 T
(s shortest-path tr) 167.21 214 T
(ee) 254.98 214 T
0 10 Q
(While the) 72 189.33 T
1 F
( local gr) 111.16 189.33 T
(oup database) 145.42 189.33 T
0 F
( facilitates the local delivery of multicast datagrams, the) 201.82 189.33 T
1 F
(datagram\325) 428.45 189.33 T
(s shortest-path) 473.07 189.33 T
(tr) 72 177.33 T
(ee) 79.59 177.33 T
0 F
(describes the intermediate hops taken by a multicast datagram as it travels from its source to the individual) 90.97 177.33 T
-0.29 (multicast group members. As mentioned above, the datagram\325) 72 165.33 P
-0.29 (s shortest-path tree is a pruned shortest-path tree rooted) 318.52 165.33 P
(at the datagram\325) 72 153.33 T
(s source. T) 136.43 153.33 T
(wo datagrams having dif) 179.33 153.33 T
(fering [source net, multicast destination] pairs may have, and in) 278.3 153.33 T
(fact probably will have, dif) 72 141.33 T
(ferent pruned shortest-path trees.) 180.41 141.33 T
72 108 540 684 C
72 420 540 684 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
69.77 420 542.23 684 R
7 X
0 0 0 1 0 0 0 K
V
3 X
90 450 3.21 2.86 297.36 649.45 G
0.5 H
2 Z
9 X
90 450 3.21 2.86 297.36 649.45 A
3 X
90 450 3.21 2.86 236.08 630.59 G
9 X
90 450 3.21 2.86 236.08 630.59 A
3 X
90 450 3.21 2.86 300.36 554.45 G
9 X
90 450 3.21 2.86 300.36 554.45 A
3 X
90 450 3.21 2.86 298.36 601.45 G
9 X
90 450 3.21 2.86 298.36 601.45 A
3 X
90 450 3.21 2.86 360.99 578.12 G
9 X
90 450 3.21 2.86 360.99 578.12 A
3 X
90 450 3.21 2.86 374.62 499.3 G
9 X
90 450 3.21 2.86 374.62 499.3 A
3 X
90 450 3.21 2.86 495.62 498.3 G
9 X
90 450 3.21 2.86 495.62 498.3 A
3 X
90 450 3.21 2.86 276.62 474.3 G
9 X
90 450 3.21 2.86 276.62 474.3 A
481.75 501.1 493.27 497.71 481.71 494.49 481.73 497.8 4 Y
0 X
V
377.43 498.54 481.73 497.79 2 L
N
3 X
90 450 3.21 2.86 202.12 476.3 G
9 X
90 450 3.21 2.86 202.12 476.3 A
3 X
90 450 3.21 2.86 130.95 478.3 G
9 X
90 450 3.21 2.86 130.95 478.3 A
3 X
90 450 3.21 2.86 128.95 533.63 G
9 X
90 450 3.21 2.86 128.95 533.63 A
126.17 520.24 129.1 531.88 132.78 520.46 129.48 520.35 4 Y
0 X
V
130.77 481.04 129.48 520.35 2 L
N
144.72 474.12 133.27 477.71 144.88 480.73 144.8 477.43 4 Y
V
144.8 477.43 200.77 476.04 2 L
N
217.17 472.32 205.77 476.05 217.42 478.93 217.29 475.62 4 Y
V
217.3 475.62 274.1 473.54 2 L
N
292.76 473.92 280.77 473.54 290.74 480.22 291.75 477.07 4 Y
V
291.75 477.07 371.6 502.71 2 L
N
0 8 Q
(R) 230.43 618.23 T
(T2) 235.29 618.23 T
0 6.4 Q
(a,b) 244.18 621.43 T
0 8 Q
(R) 272.93 590.73 T
(T3) 277.79 590.73 T
(R) 346.65 589.86 T
(T6) 351.5 589.86 T
(R) 384.93 503.54 T
(T10) 389.79 503.54 T
(R) 136.6 532.71 T
(T9) 141.46 532.71 T
0 6.4 Q
(a) 150.35 535.91 T
0 8 Q
(R) 193.27 486.88 T
(T1) 198.12 486.88 T
(1) 206.72 486.88 T
(N3) 297.1 662.4 T
0 6.4 Q
(b) 306.88 665.6 T
0 8 Q
(N4, Origin) 282.1 540.73 T
(N6) 504.94 496.88 T
0 6.4 Q
(a) 514.71 500.08 T
0 8 Q
(N8) 270.77 482.71 T
(N9) 110.77 474.38 T
(3) 324.93 493.54 T
(7) 371.77 544.55 T
(1) 433.27 502.71 T
(8) 330.77 595.73 T
1 10 Q
(Figur) 146.75 444.1 T
(e 3: Sample datagram\325) 170.46 444.1 T
(s shortest-path tr) 267.02 444.1 T
(ee, sour) 340.16 444.1 T
(ce N4, destination Gr) 372.75 444.1 T
(oup A) 463.12 444.1 T
251.12 631.72 239.12 631.37 249.11 638.02 250.11 634.87 4 Y
V
294.12 648.87 250.11 634.87 2 L
N
294.15 634.84 297.45 646.37 300.76 634.84 297.45 634.84 4 Y
V
297.45 604.7 297.45 634.84 2 L
N
295.65 588 298.29 599.7 302.25 588.38 298.95 588.19 4 Y
11 X
V
300.79 556.37 298.95 588.19 2 L
N
0 8 Q
0 X
(1) 299.95 620.54 T
(1) 165.29 484.18 T
348.93 584.12 357.76 576 345.97 578.2 347.45 581.16 4 Y
V
303.77 603 347.45 581.16 2 L
N
374.55 513.9 373 502 368.01 512.92 371.28 513.41 4 Y
V
362 575 371.28 513.41 2 L
N
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "12" 12
%%Page: "13" 13
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 13]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(A) 72 677.33 T
1 F
( datagram\325) 79.22 677.33 T
(s shortest path tr) 126.34 677.33 T
(ee) 198.65 677.33 T
0 F
( is built \322on demand\323) 207.53 677.33 T
0 8 Q
(6) 293.08 681.33 T
0 10 Q
(, i.e., when the \336rst multicast datagram is received having a) 297.08 677.33 T
(particular [source net, multicast destination] combination. T) 72 665.33 T
(o build the datagram\325) 311.27 665.33 T
(s shortest-path tree, the following) 396.54 665.33 T
(calculations are performed. First, the datagram\325) 72 653.33 T
(s source IP network is located in the link state database. Then using) 261.68 653.33 T
(the router) 72 641.33 T
(-LSAs and network-LSAs in the link state database, a shortest-path tree is built having the source network) 110.4 641.33 T
(as root. T) 72 629.33 T
(o complete the process, the branches that do not contain routers/transit networks that have been labelled) 109.35 629.33 T
(with the particular multicast destination \050via a group-membership-LSA\051 are pruned from the tree.) 72 617.33 T
-0.15 (As an example of the building of a datagram\325) 72 593.33 P
-0.15 (s shortest path tree, again consider the Autonomous System in Figure 1.) 251.86 593.33 P
(The Autonomous System\325) 72 581.33 T
(s link state database is pictured in Figure 2. When a router initially receives a multicast) 176.45 581.33 T
-0.3 (datagram sent by Host H2 to the multicast group A, the following steps are taken: Host H2 is \336rst determined to be on) 72 569.33 P
(Network N4. Then the shortest path tree rooted at net N4 is calculated) 72 557.33 T
0 8 Q
(7) 352.22 561.33 T
0 10 Q
(, pruning those branches that do not contain) 356.22 557.33 T
(routers/transit networks that have been labelled with the multicast group A. This results in the pruned shortest-path) 72 545.33 T
(tree pictured in Figure 3. Note that at this point all the leaves of the tree are routers/transit networks labelled with) 72 533.33 T
(multicast group A \050routers R) 72 521.33 T
(T2 and R) 186.39 521.33 T
(T9 and transit network N6\051.) 223.01 521.33 T
-0.26 (In order to forward the multicast datagram, each router must \336nd its own position in the datagram\325) 72 497.33 P
-0.26 (s shortest path tree.) 461.34 497.33 P
(The router) 72 485.33 T
(\325) 114.3 485.33 T
(s \050call it Router R) 117.08 485.33 T
(TX\051 position in the datagram\325) 187.59 485.33 T
(s pruned shortest-path tree consists of 1\051 R) 306.47 485.33 T
(TX\325) 476.68 485.33 T
(s parent in) 492.79 485.33 T
(the tree \050this will be the forwarding cache entry\325) 72 473.33 T
(s) 264.73 473.33 T
1 F
(upstr) 271.12 473.33 T
(eam node\051) 293.72 473.33 T
0 F
( and 2\051 the list of R) 337.88 473.33 T
(TX\325) 414.5 473.33 T
(s interfaces that lead to) 430.61 473.33 T
(downstream routers/transit networks that have been labelled with the datagram\325) 72 461.33 T
(s destination \050these will be added to) 390 461.33 T
-0.34 (the forwarding cache entry as) 72 449.33 P
1 F
-0.34 ( downstr) 188.91 449.33 P
-0.34 (eam interfaces) 225.89 449.33 P
0 F
-0.34 (\051. Note that after calculating the datagram\325) 287.46 449.33 P
-0.34 (s shortest path tree, a) 455.07 449.33 P
(router may \336nd that it is itself not on the tree. This would be indicated by a forwarding cache entry having no) 72 437.33 T
(upstream node or an empty list of downstream interfaces.) 72 425.33 T
-0.33 (As an example of a router describing its position on the datagram\325) 72 401.33 P
-0.33 (s shortest-path tree, consider Router R) 332.46 401.33 P
-0.33 (T10 in Figure) 483.5 401.33 P
(3. Router) 72 389.33 T
(R) 111.72 389.33 T
(T10\325) 117.79 389.33 T
(s) 136.68 389.33 T
1 F
(upstr) 143.07 389.33 T
(eam node) 165.67 389.33 T
0 F
( for the datagram is Router R) 206.5 389.33 T
(T6, and there are two) 322.55 389.33 T
1 F
(downstr) 410.3 389.33 T
(eam interfaces) 445.12 389.33 T
0 F
(: one) 507.04 389.33 T
(connecting to Network N6 and the other connecting to Network N8.) 72 377.33 T
1 12 Q
(2.3.3  Support for Non-br) 72 346 T
(oadcast networks) 202.45 346 T
0 10 Q
(When forwarding multicast datagrams over non-broadcast networks, the datagram cannot be sent as a link-level) 72 321.33 T
(multicast \050since neither link-level multicast nor broadcast are supported on these networks\051, but must instead be) 72 309.33 T
(forwarded separately to speci\336c neighbors. T) 72 297.33 T
(o facilitate this, forwarding cache entries can also contain) 251.81 297.33 T
1 F
(downstr) 484.53 297.33 T
(eam) 519.35 297.33 T
(neighbors) 72 285.33 T
0 F
( as well as) 114.23 285.33 T
1 F
(downstr) 158.11 285.33 T
(eam interfaces) 192.93 285.33 T
0 F
(.) 254.85 285.33 T
(The IGMP protocol is not de\336ned over non-broadcast networks. For this reason, there cannot be group members) 72 261.33 T
(directly attached to non-broadcast networks, nor do non-broadcast networks ever appear in local group database) 72 249.33 T
(entries.) 72 237.33 T
-0.28 (As an example, suppose that Network N3 in Figure 1 is an X.25 PDN. Consider Router R) 72 213.33 P
-0.28 (T3\325) 425.58 213.33 P
-0.28 (s forwarding cache entry) 439.47 213.33 P
(for datagrams having source Network N4 and multicast destination Group B. In place of having the interface to) 72 201.33 T
72 168 540 188.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 175.99 203.98 175.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
-0 (6.  One might imagine building all possible datagram shortest-path trees up front. However) 72 162.67 P
-0 (, this might be expensive, both in router CPU time and) 363.38 162.67 P
(in router memory) 72 153.67 T
(. It is hoped that building the datagram shortest-path trees on demand and caching the results will ease demands on router) 127.47 153.67 T
(resources by spreading out the calculations over a longer period of time.) 72 144.67 T
(7.  It is possible that, due to the existence of alternate paths, several dif) 72 132.67 T
(ferent shortest-path trees are available. MOSPF depends on all routers) 298.26 132.67 T
-0.22 (constructing the exact same shortest path tree. For that reason, tie-breaking schemes have been implemented during tree construction to ensure that) 72 123.67 P
(identical trees result. See Section 12 for more details.) 72 114.67 T
FMENDPAGE
%%EndPage: "13" 13
%%Page: "14" 14
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 14]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
-0.3 (Network N3 appear as the downstream interface in the matching forwarding cache entry) 72 677.33 P
-0.3 (, the neighboring routers R) 420.99 677.33 P
-0.3 (T1) 526.69 677.33 P
-0.04 (and R) 72 665.33 P
-0.04 (T2 would instead appear as separate downstream neighbors. In addition, in this case there could not be a group) 94.97 665.33 P
(B member directly attached to Network N3.) 72 653.33 T
1 12 Q
(2.3.4  Details concerning forwarding cache entries) 72 622 T
0 10 Q
(Each of the downstream interface/neighbors in the cache entry is labelled with a TTL value. This value indicates the) 72 597.33 T
-0.12 (number of hops a datagram forwarded out of the interface \050or forwarded to the neighbor\051 would have to travel before) 72 585.33 P
(encountering a router/transit network requesting the multicast destination. The reason that a hop count is associated) 72 573.33 T
(with each downstream interface/neighbor is so that IP multicast\325) 72 561.33 T
(s expanding ring search procedure can be more) 329.19 561.33 T
-0.19 (ef) 72 549.33 P
-0.19 (\336ciently implemented. By expanding ring search is meant the following. Hosts can restrict the forwarding extent of) 79.59 549.33 P
(the IP multicast datagrams that they send by appropriate setting of the TTL value in the datagram\325) 72 537.33 T
(s IP header) 464.17 537.33 T
(. Then,) 508.05 537.33 T
(for example, to search for the nearest server the host can send multicasts \336rst with TTL set to 1, then 2, etc. By) 72 525.33 T
(attaching a hop count to each downstream interface/neighbor in the forwarding cache, datagrams will not be) 72 513.33 T
(forwarded unless they will ultimately reach a multicast destination before their TTL expires) 72 501.33 T
0 8 Q
(8) 439.16 505.33 T
0 10 Q
(. This avoids wasting) 443.16 501.33 T
(network bandwidth during an expanding ring search.) 72 489.33 T
(As an example consider Router R) 72 465.33 T
(T10\325) 206.1 465.33 T
(s forwarding cache in Figure 3. Router R) 224.99 465.33 T
(T10\325) 388.25 465.33 T
(s cache entry has two) 407.14 465.33 T
1 F
(downstr) 72 453.33 T
(eam interfaces) 106.82 453.33 T
0 F
(. The \336rst, connecting to Network N6, is labelled as having a group member one hop away) 168.74 453.33 T
(\050Network N6\051. The second, which connects to Network N8, is labelled as having a group member two hops away) 72 441.33 T
(\050Router R) 72 429.33 T
(T9\051.) 111.12 429.33 T
(Both the datagram shortest path tree and the local group database may contribute downstream interfaces to the) 72 405.33 T
(forwarding cache entries. As an example, if a router has a local group database entry of [Group G, NX], then a) 72 393.33 T
(forwarding cache entry for Group G, regardless of destination, will list the router interface to Network NX as a) 72 381.33 T
(downstream interface. Such a downstream interface will always be labelled with a TTL of 1.) 72 369.33 T
(As an example of forwarding cache entries, again consider the Autonomous System pictured in Figure 1. Suppose) 72 345.33 T
(Host H2 sends a multicast datagram to multicast group A. In that case, some routers will not even attempt to build a) 72 333.33 T
(forwarding cache entry \050e.g, router R) 72 321.33 T
(T5\051 because they will never receive the multicast datagram in the \336rst place.) 219.96 321.33 T
(Other routers will receive the multicast datagram \050since they are forwarded as link-level multicasts\051, but after) 72 309.33 T
(building the pruned shortest path tree will notice that they themselves are not a part of the tree \050routers R) 72 297.33 T
(T1, R) 490.5 297.33 T
(T4,) 512.68 297.33 T
(R) 72 285.33 T
(T7, R) 78.07 285.33 T
(T8 and R) 100.25 285.33 T
(T12\051. These latter routers will install an empty cache entry) 136.87 285.33 T
(, indicating that they do not participate in) 370.62 285.33 T
(the forwarding of the multicast datagram. A sample of the forwarding cache entries built by the other routers in the) 72 273.33 T
(Autonomous System is pictured in T) 72 261.33 T
(able 2:) 218.25 261.33 T
72 120 540 140.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 127.99 203.98 127.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(8.  Note that the expanding ring search yields the nearest server in terms of hop count, but not necessarily in terms of the OSPF metric.) 72 114.67 T
FMENDPAGE
%%EndPage: "14" 14
%%Page: "15" 15
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 15]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
-0.17 (A MOSPF router must clear its entire) 72 549.33 P
1 F
-0.17 ( forwarding cache) 220.94 549.33 P
0 F
-0.17 ( when the Autonomous System\325) 297.8 549.33 P
-0.17 (s topology changes, because) 424.89 549.33 P
(all the datagram shortest-path trees must be rebuilt. Likewise, when the location of a multicast group\325) 72 537.33 T
(s membership) 477.78 537.33 T
-0.24 (changes \050re\337ected by a change in group-membership-LSAs\051, all cache entries associated with the particular multicast) 72 525.33 P
(destination group must be cleared. Other than these two cases, forwarding cache entries need not ever be deleted or) 72 513.33 T
(otherwise modi\336ed; in particular) 72 501.33 T
(, the forwarding cache entries do not have to be aged. However) 202.42 501.33 T
(, forwarding cache) 455 501.33 T
-0.29 (entries can be freely deleted after some period of inactivity \050i.e., garbage collected\051, if router memory resources are in) 72 489.33 P
(short supply) 72 477.33 T
(.) 120.52 477.33 T
1 14 Q
(3  Inter) 72 438.67 T
(-ar) 115.81 438.67 T
(ea multicasting) 133.43 438.67 T
0 10 Q
-0.18 (Up to this point this memo has discussed multicast forwarding when the entire Autonomous System is a single OSPF) 72 413.33 P
-0.31 (area. The logic for when the multicast datagram\325) 72 401.33 P
-0.31 (s source and its destination group members belong to the same OSPF) 264.25 401.33 P
-0.05 (area is the same. This section explains the behavior of the MOSPF protocol when the datagram\325) 72 389.33 P
-0.05 (s source and \050at least) 454.46 389.33 P
-0.08 (some of\051 its destination group members belong to dif) 72 377.33 P
-0.08 (ferent OSPF areas. This situation is called) 283.42 377.33 P
1 F
-0.08 (inter) 453.43 377.33 P
-0.08 (-ar) 473.61 377.33 P
-0.08 (ea multicast) 486.2 377.33 P
0 F
-0.08 (.) 537.5 377.33 P
(Inter) 72 353.33 T
(-area multicast brings up the following issues, which are resolved in succeeding sections:) 90.68 353.33 T
(\245) 72 335.33 T
(Are the) 85.54 335.33 T
1 F
(gr) 117.75 335.33 T
(oup-membership-LSAs) 127.01 335.33 T
0 F
(speci\336c to a single area? And if they are, how is group membership) 228.96 335.33 T
(information conveyed from one area to the next?) 85.54 323.33 T
(\245) 72 305.33 T
-0.33 (How are the) 85.54 305.33 P
1 F
-0.33 (datagram shortest-path tr) 135.91 305.33 P
-0.33 (ees) 246.15 305.33 P
0 F
-0.33 ( built in the inter) 258.92 305.33 P
-0.33 (-area case, since complete information concerning the) 324.06 305.33 P
(topology of the datagram source\325) 85.54 293.33 T
(s neighborhood is not available to routers in other areas?) 217.74 293.33 T
(\245) 72 275.33 T
(In an area border router) 85.54 275.33 T
(,) 179.54 275.33 T
1 F
(multiple datagram shortest-path tr) 184.54 275.33 T
(ees) 333.51 275.33 T
0 F
( are built, one for each attached area. How are) 346.28 275.33 T
(these separate datagram shortest-path trees combined into a) 85.54 263.33 T
1 F
(single forwarding cache entry) 326.04 263.33 T
0 F
(?) 452.97 263.33 T
(It should be noted in the following that the basic protocol mechanisms in the inter) 72 239.33 T
(-area case are the same as for the) 399 239.33 T
(intra-area case. Forwarding of multicasts is still de\336ned by the contents of the) 72 227.33 T
1 F
( forwarding cache) 382.79 227.33 T
0 F
(. The forwarding) 460 227.33 T
-0.07 (cache is still built from the same two components: the) 72 215.33 P
1 F
-0.07 (local gr) 289.59 215.33 P
-0.07 (oup database) 321.27 215.33 P
0 F
-0.07 (and the) 380.03 215.33 P
1 F
-0.07 ( datagram shortest-path tr) 409.11 215.33 P
-0.07 (ees) 522.3 215.33 P
0 F
-0.07 (.) 535.07 215.33 P
(And while the calculation of the datagram shortest-path trees is dif) 72 203.33 T
(ferent in the inter) 338.44 203.33 T
(-area case \050see Section 3.2\051, the) 407.39 203.33 T
(local group database is built exactly the same as in the intra-area case \050i.e., MOSPF\325) 72 191.33 T
(s interface with IGMP remains) 408.33 191.33 T
(unchanged in the presence of areas\051. Finally) 72 179.33 T
(, the forwarding algorithm described in Section 1) 247.69 179.33 T
(1 is the same for both) 443.96 179.33 T
(the intra-area and inter) 72 167.33 T
(-area cases.) 162.6 167.33 T
(The following discussion uses the area con\336guration pictured in Figure 4 as an example. This \336gure, taken from the) 72 143.33 T
(OSPF speci\336cation, shows an Autonomous System split into three areas \050Area 1, Area 2 and Area 3\051. A single) 72 131.33 T
-0.09 (backbone area has been con\336gured \050everything outside of the shading\051. Since the backbone area must be contiguous,) 72 119.33 P
2 F
(Router) 190.29 667.33 T
(Upstr) 234.94 673.33 T
(eam) 257.35 673.33 T
(node) 234.94 661.33 T
(Downstr) 299.02 673.33 T
(eam interfaces) 333.1 673.33 T
(\050interface:hops\051) 299.02 661.33 T
0 F
(R) 190.29 645.33 T
(T10) 196.37 645.33 T
(Router R) 234.94 645.33 T
(T6) 270.73 645.33 T
(\050N6:1\051, \050N8:2\051) 299.02 645.33 T
(R) 190.29 631.33 T
(T1) 196.37 631.33 T
(1) 207.1 631.33 T
(Net N8) 234.94 631.33 T
(\050N9:1\051) 299.02 631.33 T
(R) 190.29 617.33 T
(T3) 196.37 617.33 T
(Net N4) 234.94 617.33 T
(\050N3:1\051, \050R) 299.02 617.33 T
(T6:3\051) 340.08 617.33 T
(R) 190.29 603.33 T
(T6) 196.37 603.33 T
(Router R) 234.94 603.33 T
(T3) 270.73 603.33 T
(\050R) 299.02 603.33 T
(T10:2\051) 308.42 603.33 T
(R) 190.29 589.33 T
(T2) 196.37 589.33 T
(Net N3) 234.94 589.33 T
(\050N2:1\051) 299.02 589.33 T
1 F
(T) 130.54 571.33 T
(able 2: Sample forwarding cache entries, for sour) 136.29 571.33 T
(ce N4 and destination Gr) 346.64 571.33 T
(oup A.) 453.12 571.33 T
184.29 683.75 184.29 584.25 2 L
V
0.5 H
0 Z
N
228.94 684.25 228.94 583.75 2 L
V
N
293.02 684.25 293.02 583.75 2 L
V
N
427.7 683.75 427.7 584.25 2 L
V
N
184.04 684 427.95 684 2 L
V
N
184.54 655.25 427.45 655.25 2 L
V
N
184.54 652.75 427.45 652.75 2 L
V
N
184.04 584 427.95 584 2 L
V
N
FMENDPAGE
%%EndPage: "15" 15
%%Page: "16" 16
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 16]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
-0.2 (address range has been con\336gured in Router R) 72 200.33 P
-0.2 (T1) 256.35 200.33 P
-0.2 (1 so that Networks N9-N1) 267.09 200.33 P
-0.2 (1 and Host H1 will be reported as a single) 371.46 200.33 P
(route outside of Area 3 \050via summary-link-LSAs\051.) 72 188.33 T
1 12 Q
(3.1   Extent of gr) 72 157 T
(oup-membership-LSAs) 157.1 157 T
0 10 Q
(Group-membership-LSAs are speci\336c to a single OSPF area. This means that, just as with OSPF router) 72 132.33 T
(-LSAs,) 484.82 132.33 T
(network-LSAs and summary-link-LSAs, a group-membership-LSA is \337ooded throughout a single area only) 72 120.33 T
0 8 Q
(9) 503.62 124.33 T
0 10 Q
(. A) 507.62 120.33 T
72 108 540 684 C
72 207 540 684 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
70.88 207 541.12 684 R
7 X
0 0 0 1 0 0 0 K
V
90.01 494 120.01 514 R
V
0.5 H
2 Z
0 X
N
115.88 243 241.88 477 R
5 X
V
7 X
N
250.88 243 529.88 432 R
5 X
V
7 X
N
75.72 486 286.88 675 R
5 X
V
7 X
N
127.84 637.86 147.52 657.16 R
V
0 X
N
127.84 570.31 147.52 589.61 R
7 X
V
0 X
N
276.03 530.88 295.71 550.18 R
7 X
V
0 X
N
275.4 599.26 295.07 618.56 R
7 X
V
0 X
N
383.61 599.26 403.28 618.56 R
7 X
V
0 X
N
295.07 608.91 383.61 608.91 2 L
N
236.05 608.91 275.4 608.91 2 L
N
147.79 578.89 172.93 596.05 2 L
N
148.88 648.59 172.93 632.5 2 L
N
383.61 531.71 403.28 551.01 R
7 X
V
0 X
N
7 X
90 450 34.43 33.78 201.62 613.74 G
0 X
90 450 34.43 33.78 201.62 613.74 A
7 X
90 450 34.43 33.78 167.42 362.83 G
0 X
90 450 34.43 33.78 167.42 362.83 A
7 X
90 450 34.43 33.78 483.06 362.83 G
0 X
90 450 34.43 33.78 483.06 362.83 A
385.27 422.52 404.95 441.82 R
7 X
V
0 X
N
472.14 425.56 491.81 444.86 R
7 X
V
0 X
N
472.14 290.46 491.81 309.76 R
7 X
V
0 X
N
98.33 551.01 108.17 599.26 4.92 RR
N
481.98 444.86 481.98 608.91 403.28 608.91 3 L
N
393.44 551.01 393.44 599.26 2 L
N
157.35 415.91 177.03 435.21 R
7 X
V
0 X
N
157.35 290.46 177.03 309.76 R
7 X
V
0 X
N
236.05 348.36 255.72 367.66 R
7 X
V
0 X
N
108.17 647.51 127.84 647.51 2 L
N
108.17 579.96 127.84 579.96 2 L
N
0 8 Q
(N3) 195.15 609.81 T
(R) 278.73 605.98 T
(T4) 283.58 605.98 T
(R) 132.3 645.04 T
(T1) 137.15 645.04 T
(R) 131.58 576.88 T
(T2) 136.44 576.88 T
(R) 388.01 605.98 T
(T5) 392.87 605.98 T
(R) 387.3 537.82 T
(T6) 392.15 537.82 T
(R) 238.01 354.77 T
(T1) 242.87 354.77 T
(1) 251.46 354.77 T
(R) 159.44 422.93 T
(T9) 164.29 422.93 T
(R) 159.44 296.56 T
(T12) 164.29 296.56 T
(N4) 189.44 505.65 T
(N1) 88.01 651.94 T
(N2) 89.44 575.35 T
96.95 622.78 106.78 671.03 4.92 RR
N
172.27 501.92 221.46 511.57 4.82 RR
N
143.13 451.98 192.32 461.63 4.82 RR
N
307.3 358.46 256.58 360 2 L
N
202.3 358.46 235.87 358.46 2 L
N
167.3 435.05 167.3 451.9 2 L
N
167.3 396.76 167.3 415.91 2 L
N
167.3 309.45 167.3 329.36 2 L
N
142.99 261.27 192.17 270.92 4.82 RR
N
457.63 261.96 506.81 271.61 4.82 RR
N
482.58 397.1 482.58 424.1 2 L
N
483.58 329.1 483.58 309.1 2 L
N
482.58 289.1 482.58 273.1 2 L
N
167.58 289.1 167.58 271.1 2 L
N
(N6) 476.33 362.1 T
(R) 476.33 434.1 T
(T7) 481.19 434.1 T
(R) 476.33 299.1 T
(T8) 481.19 299.1 T
(N8) 305.33 317.1 T
(N1) 161.14 466.83 T
(1) 170.62 466.83 T
(N10) 161.33 254.1 T
(N7) 475.15 252.1 T
(N9) 160.15 359.95 T
116.87 296.1 131.15 306.1 R
7 X
V
0 X
N
204.87 451.67 219.15 461.67 R
7 X
V
0 X
N
147.87 501.53 162.15 511.53 R
7 X
V
0 X
N
231.58 502.1 245.87 512.1 R
7 X
V
0 X
N
513.87 396.24 528.15 406.24 R
7 X
V
0 X
N
179.01 656.1 193.29 666.1 R
7 X
V
0 X
N
221.29 655.96 235.58 665.96 R
7 X
V
0 X
N
192.3 457.1 205.15 457.1 2 L
N
513.73 397.1 505.87 388.53 2 L
N
130.87 299.95 157.3 299.95 2 L
N
222.3 507.1 231.58 507.1 2 L
N
172.3 507.1 163.01 507.1 2 L
N
221.58 656.38 213.01 646.38 2 L
N
193.01 655.67 195.87 647.1 2 L
N
82.44 532.67 96.72 542.67 R
7 X
V
0 X
N
97.29 542.81 103.72 551.38 2 L
N
93.01 605.67 101.58 599.96 2 L
N
92.29 644.24 97.29 644.24 2 L
N
(Mb) 180.88 658.24 T
(Ma) 84.39 534.95 T
(Ma) 207.39 454.1 T
(Ma) 515.4 398.95 T
(H1) 119.44 299.24 T
(H2) 233.73 504.95 T
(H3) 150.15 503.53 T
(H4) 223.73 658.53 T
(Slip) 135.87 292.81 T
(10) 146.58 303.52 T
(1) 169.15 314.24 T
(1) 229.3 364.1 T
(1) 170.15 407.53 T
(1) 486.01 416.67 T
(1) 485.44 312.95 T
(1) 268.58 614.1 T
(1) 150.29 573.81 T
(1) 151.15 654.38 T
(2) 169.87 284.24 T
(2) 259.3 363.38 T
(3) 169.87 439.24 T
(3) 121.58 583.24 T
(3) 122.44 652.38 T
(6) 376.3 547.1 T
(6) 397.87 556.24 T
(6) 407.3 613.96 T
(6) 486.73 450.95 T
(4) 485.87 282.1 T
(7) 398.01 522.1 T
(7) 397.3 589.96 T
(8) 374.44 613.53 T
(8) 299.44 616.38 T
(Ia) 385.15 524.24 T
388.73 618.53 374.44 651.38 2 L
8 X
N
393.01 618.53 393.01 658.53 2 L
N
397.3 618.53 411.58 649.96 2 L
N
491.58 438.53 520.15 460.67 2 L
9 X
N
491.58 432.81 521.58 434.24 2 L
N
0 X
(N12) 365.15 653.53 T
(N13) 386.58 664.96 T
(N14) 404.44 651.38 T
(8) 407.73 632.17 T
(8) 395.01 641.31 T
(8) 375.87 633.31 T
(2) 505.15 455.67 T
(9) 509.44 437.1 T
1 10 Q
(Figur) 221.58 227.1 T
(e 4: A sample MOSPF ar) 245.29 227.1 T
(ea con\336guration) 352.04 227.1 T
307.09 332.35 316.93 380.6 4.92 RR
N
(Ar) 88.01 499 T
(ea 1) 99.49 499 T
(Ar) 262.01 254 T
(ea 2) 273.49 254 T
(Ar) 200.01 419 T
(ea 3) 211.49 419 T
79.88 603 94.17 613 R
7 X
V
0 X
N
0 8 Q
(Mb) 81.55 605.55 T
77.63 638.79 91.91 648.79 R
7 X
V
0 X
N
(Mb) 79.19 642.19 T
435.24 263.14 449.53 273.14 R
7 X
V
0 X
N
(H5) 437.67 265.71 T
450.33 268.43 456.76 267 2 L
N
(N12) 520.88 459 T
(N15) 520.88 432 T
295.83 541.17 383.33 541.17 2 L
N
(R) 279.17 537.83 T
(T3) 284.02 537.83 T
222.5 585.33 275.83 546.17 2 L
N
198.33 511.17 275.83 536.17 2 L
N
(8) 300 547 T
(2) 265 537 T
(1) 270 554.5 T
(R) 386.67 428.67 T
(T10) 391.52 428.67 T
393.33 532 394.17 442 2 L
N
315.83 357.83 388.33 422 2 L
N
401.67 422 450 373.67 2 L
N
(Ib) 385 447 T
(5) 397.5 447 T
(1) 408.33 421.17 T
(3) 375.83 419.5 T
262.23 374.46 256.67 362.83 255.22 375.64 258.72 375.05 4 Y
V
372.3 434.26 384.16 431.17 372.47 427.5 372.38 430.88 4 Y
V
1 H
0 Z
95.3 169.7 127.5 68.33 384.17 362.83 A
1 10 Q
(V) 279 428 T
(irtual Link) 285.85 428 T
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "16" 16
%%Page: "17" 17
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 17]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
-0.27 (router attached to multiple areas \050i.e., an area border router\051 may end up originating several group-membership-LSAs) 72 514.33 P
(concerning a single multicast destination, one for each attached area. However) 72 502.33 T
(, as we will see below) 385.96 502.33 T
(, the contents of) 473.07 502.33 T
(these group-membership-LSAs will vary depending on their associated areas.) 72 490.33 T
(Just as in OSPF) 72 466.33 T
(, each MOSPF area has its own link state database. The MOSPF database is simply the OSPF link) 134.27 466.33 T
-0.07 (state database enhanced by the group-membership-LSAs. Consider again the area con\336guration pictured in Figure 4.) 72 454.33 P
-0.23 (The result of adding the group-membership-LSAs to the area databases yields the databases pictured in Figures 6 and) 72 442.33 P
-0.18 (7. Figure 6 shows Area 1\325) 72 430.33 P
-0.18 (s MOSPF database. Figure 7 shows the backbone\325) 174.42 430.33 P
-0.18 (s MOSPF database. Superscripts indicate) 373.69 430.33 P
(which transit vertices have been advertised as requesting particular multicast destinations. A superscript of \322w\323) 72 418.33 T
-0.1 (indicates that the router is advertising itself as a wild-card multicast receiver \050see below\051. The dashed lines are OSPF) 72 406.33 P
(summary-link-LSAs or AS external-link-LSAs. Note in Figure 7 that Router R) 72 394.33 T
(T1) 386.66 394.33 T
(1 has condensed its routes to) 397.4 394.33 T
(Networks N9-N1) 72 382.33 T
(1 and Host H1 into a single summary-link-LSA.) 140.78 382.33 T
(Suppose an OSPF router has a local group database entry for) 72 358.33 T
2 F
([Gr) 317.79 358.33 T
(oup Y) 332.42 358.33 T
(, Network X]) 354.56 358.33 T
0 F
(. The router then originates a) 405.95 358.33 T
(group-membership-LSA for Group Y into the area containing Network X. For example, in the area con\336guration) 72 346.33 T
(pictured in Figure 4, Router R) 72 334.33 T
(T1 originates a group-membership-LSA for Group B. This group-membership-LSA is) 191.95 334.33 T
(\337ooded throughout Area 1, and no further) 72 322.33 T
(. Likewise, assuming that Router R) 238.92 322.33 T
(T3 has been elected Designated Router) 379.15 322.33 T
-0.21 (for Network N3, R) 72 310.33 P
-0.21 (T3 originates a group-membership-LSA into Area 1 listing the transit network N3 as having group) 146.3 310.33 P
(members. Note that in the link state database for Area 1 \050Figure 6\051 both Router R) 72 298.33 T
(T1 and Network N3 have) 396.35 298.33 T
(accordingly been labelled with Group B.) 72 286.33 T
(In OSPF) 72 262.33 T
(, the area border routers forward routing information and data traf) 105.93 262.33 T
(\336c between areas. In MOSPF) 368.73 262.33 T
(. a subset of) 485.41 262.33 T
(the area border routers, called the) 72 250.33 T
1 F
(inter) 208.34 250.33 T
(-ar) 228.52 250.33 T
(ea multicast forwarders) 241.11 250.33 T
0 F
(, forward group membership information and) 342.75 250.33 T
(multicast datagrams between areas. Whether a given OSPF area border router is also a MOSPF inter) 72 238.33 T
(-area multicast) 473.39 238.33 T
(forwarder is con\336guration dependent \050see Section B.1\051. In Figure 4 we assume that all area border routers are also) 72 226.33 T
(inter) 72 214.33 T
(-area multicast forwarders.) 90.13 214.33 T
(In order to convey group membership information between areas, inter) 72 190.33 T
(-area multicast forwarders \322summarize\323 their) 355.07 190.33 T
-0.07 (attached areas\325 group membership to the backbone. This is very similar functionality to the summary-link-LSAs that) 72 178.33 P
-0.23 (are generated in the base OSPF protocol. An inter) 72 166.33 P
-0.23 (-area multicast forwarder calculates which groups have members in) 269.09 166.33 P
(its attached non-backbone areas. Then, for each of these groups, the inter) 72 154.33 T
(-area multicast forwarder injects a group-) 363.94 154.33 T
72 129 540 149.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 136.99 203.98 136.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
-0.03 (9.  This means that in MOSPF) 72 123.67 P
-0.03 (, just as in OSPF) 168.28 123.67 P
-0.03 (, the only kind of link state advertisement that can be \337ooded between areas is the AS external-link-) 221.07 123.67 P
(LSA.) 72 114.67 T
72 108 540 684 C
72 520.99 540 684 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
70.88 520.99 541.12 684 R
7 X
0 0 0 1 0 0 0 K
V
90 450 112.5 22.5 300.38 643.5 G
0.5 H
2 Z
0 X
90 450 112.5 22.5 300.38 643.5 A
7 X
90 450 45 18 178.88 585 G
0 X
90 450 45 18 178.88 585 A
7 X
90 450 45 18 304.88 585 G
0 X
90 450 45 18 304.88 585 A
7 X
90 450 45 18 430.88 585 G
0 X
90 450 45 18 430.88 585 A
0 12 Q
(Backbone) 277.88 641.6 T
(Area 1) 161.88 581.82 T
(Area 2) 289 582 T
(Area 3) 415 581 T
403.98 632.4 393.99 639 405.96 638.69 404.97 635.54 4 Y
8 X
V
432 602 M
 425.59 614.61 417.77 628.9 405 635.54 D
1 H
N
215 637.26 227 637 216.68 630.87 215.84 634.06 4 Y
9 X
V
184 602 M
 192.07 615.72 201.42 628.24 215.85 634.06 D
N
0 X
(datagrams) 425 620 T
(membership) 132 615 T
1 10 Q
(Figur) 221.85 542.3 T
(e 5: Inter) 245.56 542.3 T
(-ar) 284.62 542.3 T
(ea r) 297.21 542.3 T
(outing ar) 313.41 542.3 T
(chitectur) 352.4 542.3 T
(e) 390.54 542.3 T
304.88 603 304.88 621 2 L
0.5 H
N
394.88 630 412.88 603 2 L
N
196.88 603 223.88 630 2 L
N
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "17" 17
%%Page: "18" 18
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 18]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(membership-LSA into the backbone area. For example, in Figure 4 there are two groups having members in Area 1:) 72 440.31 T
-0.28 (Group A and Group B. For that reason, both of Area 1\325) 72 428.31 P
-0.28 (s inter) 289.21 428.31 P
-0.28 (-area multicast forwarders \050Routers R) 313.45 428.31 P
-0.28 (T3 and R) 462.82 428.31 P
-0.28 (T4\051 inject) 498.89 428.31 P
(group-membership-LSAs for these two groups into the backbone. As a result both of these routers are labelled with) 72 416.31 T
(Groups A and B in the backbone link state database \050see Figure 7\051.) 72 404.31 T
(However) 72 380.31 T
(, unlike the summarization of unicast destinations in the base OSPF protocol, the summarization of group) 108.25 380.31 T
(membership in MOSPF is asymmetric. While a non-backbone area\325) 72 368.31 T
(s group membership is summarized to the) 342.8 368.31 T
(backbone, this information is not then readvertised into other non-backbone areas. Nor is the backbone\325) 72 356.31 T
(s group) 486.37 356.31 T
(membership summarized for the non-backbone areas. Going back to the example in Figure 4, while the presence of) 72 344.31 T
(Area 3\325) 72 332.31 T
(s group \050Group A\051 is advertised to the backbone, this information is not then redistributed to Area 1. In other) 101.71 332.31 T
(words, routers internal to Area 1 have no idea of Area 3\325) 72 320.31 T
(s group membership.) 298.05 320.31 T
(At this point, if no extra functionality was added to MOSPF) 72 296.31 T
(, multicast traf) 310.92 296.31 T
(\336c originating in Area 1 destined for) 368.79 296.31 T
-0.23 (Multicast Group A would never be forwarded to those Group A members in Area 3. T) 72 284.31 P
-0.23 (o accomplish this, the notion of) 412.77 284.31 P
1 F
(wild-card multicast r) 72 272.31 T
(eceivers) 161.81 272.31 T
0 F
( is introduced. A wild-card multicast receiver is a router to which all multicast traf) 195.68 272.31 T
(\336c,) 524.61 272.31 T
(regardless of multicast destination, should be forwarded. A router) 72 260.31 T
(\325) 335.1 260.31 T
(s wild-card multicast reception status is per) 337.88 260.31 T
(-area.) 510.99 260.31 T
(In non-backbone areas, all inter) 72 248.31 T
(-area multicast forwarders) 198.15 248.31 T
0 8 Q
(10) 303.11 252.31 T
0 10 Q
( are wild-card multicast receivers. This ensures that all) 311.11 248.31 T
-0.35 (multicast traf) 72 236.31 P
-0.35 (\336c originating in a non-backbone area will be forwarded to its inter) 124.52 236.31 P
-0.35 (-area multicast forwarders, and hence) 389.03 236.31 P
-0.1 (to the backbone area. Since the backbone has complete knowledge of all areas\325 group membership, the datagram can) 72 224.31 P
(then be forwarded to all group members. Note that in the backbone itself there is no need for wild-card multicast) 72 212.31 T
-0.29 (receivers) 72 200.31 P
0 8 Q
-0.24 (1) 108.09 204.31 P
-0.24 (1) 111.79 204.31 P
0 10 Q
-0.29 (. As an example, note that Routers R) 115.79 200.31 P
-0.29 (T3 and R) 260.06 200.31 P
-0.29 (T4 are wild-card multicast receivers in Area 1 \050see Figure 6\051,) 296.09 200.31 P
(while there are none in the backbone \050see Figure 7\051.) 72 188.31 T
72 141 540 161.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 148.99 203.98 148.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(10.  A router indicates that it is a wild-card multicast receiver by setting the appropriate \337ag in its router) 72 135.67 T
(-LSA. See Section 14.6 for details.) 404.68 135.67 T
(1) 72 123.67 T
(1.  This is not quite true. As we shall see, any inter) 75.7 123.67 T
(-AS multicast forwarders belonging to the backbone are designated as wild-card multicast) 237.53 123.67 T
(receivers. See Section 4.) 72 114.67 T
72 108 540 684 C
72 446.98 540 684 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
70.88 446.98 541.12 684 R
7 X
0 0 0 1 0 0 0 K
V
3 X
90 450 3.23 2.86 169.16 594.67 G
0.5 H
2 Z
9 X
90 450 3.23 2.86 169.16 594.67 A
3 X
90 450 3.23 2.86 276.83 612.53 G
9 X
90 450 3.23 2.86 276.83 612.53 A
3 X
90 450 3.23 2.59 169.79 634.93 G
9 X
90 450 3.23 2.59 169.79 634.93 A
3 X
90 450 3.23 2.86 215.32 593.67 G
9 X
90 450 3.23 2.86 215.32 593.67 A
3 X
90 450 3.23 2.59 218.46 634.03 G
9 X
90 450 3.23 2.59 218.46 634.03 A
3 X
90 450 3.23 2.86 279.84 510.86 G
9 X
90 450 3.23 2.86 279.84 510.86 A
3 X
90 450 3.23 2.86 277.83 557.86 G
9 X
90 450 3.23 2.86 277.83 557.86 A
3 X
90 450 3.21 2.86 121.39 493.52 G
9 X
90 450 3.21 2.86 121.39 493.52 A
3 X
90 450 3.21 2.86 450.56 496.52 G
9 X
90 450 3.21 2.86 450.56 496.52 A
184.61 631.49 173.16 635.07 184.77 638.1 184.69 634.8 4 Y
0 X
V
212.29 634.16 184.69 634.8 2 L
N
184.07 591.51 172.53 594.81 184.07 598.12 184.07 594.81 4 Y
V
211.67 594.81 184.07 594.81 2 L
N
282.64 525.83 279.9 514.15 276.04 525.51 279.34 525.67 4 Y
V
277.9 555.15 279.34 525.67 2 L
N
266.31 604.16 276.89 609.81 270.91 599.41 268.61 601.79 4 Y
V
218.69 593.81 M
 234.59 597.03 254.81 593.13 268.63 601.78 D
N
232.02 600.21 220.32 597.56 228.84 606.01 230.43 603.11 4 Y
V
274.26 611.31 M
 259.79 611.68 243.95 609.16 230.44 603.1 D
N
260.24 618.87 271.12 613.81 259.21 612.33 259.73 615.6 4 Y
V
218.44 632.56 M
 232.14 627.27 245.47 619.2 259.74 615.59 D
N
232.88 635.06 220.95 636.31 231.73 641.57 232.31 638.32 4 Y
V
276.77 615.06 M
 272.81 637.44 251.23 640.57 232.31 638.32 D
N
3 X
90 450 3.23 2.86 355.35 614.57 G
9 X
90 450 3.23 2.86 355.35 614.57 A
0 8 Q
0 X
(R) 209.66 641.31 T
(T1) 214.52 641.31 T
0 6.4 Q
(b) 223.4 644.51 T
0 8 Q
(R) 209.66 581.31 T
(T2) 214.52 581.31 T
0 6.4 Q
(a,b) 223.4 584.51 T
0 8 Q
(R) 250.64 554.65 T
(T3) 255.49 554.65 T
0 6.4 Q
(w) 264.38 557.84 T
0 8 Q
(R) 128.13 495.14 T
(T5) 132.98 495.14 T
(R) 433.46 487.98 T
(T7) 438.32 487.98 T
(N1) 152.8 634.65 T
(N2) 151.96 594.65 T
(N3) 276.56 625.48 T
0 6.4 Q
(b) 286.34 628.68 T
0 8 Q
(N4) 274.89 497.14 T
(3) 192.94 585.48 T
(3) 197.12 637.98 T
(1) 293.29 587.98 T
(1) 234.08 614.48 T
(1) 251.31 588.15 T
1 10 Q
(Figur) 227.46 465.81 T
(e 6: Ar) 251.17 465.81 T
(ea 1\325) 280.42 465.81 T
(s MOSPF database) 300.32 465.81 T
466.87 533.59 475.61 541.82 472.56 530.21 469.71 531.9 4 Y
9 X
V
450.63 499.81 469.73 531.9 2 L
N
473.58 519.11 484.62 523.82 477.75 513.97 475.67 516.54 4 Y
V
452.63 497.81 475.67 516.54 2 L
N
141.98 521.45 151.46 528.81 147.32 517.55 144.65 519.5 4 Y
V
132.46 502.81 144.65 519.5 2 L
N
150.91 510.55 162.46 513.81 154.39 504.93 152.65 507.74 4 Y
V
141.46 500.81 152.65 507.74 2 L
N
0 8 Q
0 X
(N14) 165.75 513.95 T
(N12) 472.63 546.67 T
(N15) 484.06 526.67 T
(8) 124.32 518.24 T
(8) 132.32 510.24 T
(8) 140.32 502.24 T
(2) 455.48 523.1 T
(9) 469.06 503.1 T
291.11 609.43 279.49 612.42 290.93 616.05 291.02 612.74 4 Y
V
351.74 614.42 291.02 612.74 2 L
N
(1) 315.61 604.42 T
343.31 624.83 352.74 617.42 340.81 618.71 342.06 621.77 4 Y
V
277.48 614.42 M
 291.47 638.8 319.8 630.56 342.07 621.77 D
N
(R) 341.87 629.76 T
(T4) 346.73 629.76 T
0 6.4 Q
(w) 355.62 632.96 T
381.82 656.22 391.54 663.26 387.02 652.14 384.42 654.18 4 Y
9 X
V
355.59 617.42 384.43 654.18 2 L
N
387.29 643.32 398.23 648.26 391.57 638.27 389.43 640.79 4 Y
V
358.93 614.92 389.44 640.79 2 L
N
398.12 635.39 409.95 637.42 400.99 629.43 399.56 632.41 4 Y
V
358.1 612.42 399.55 632.41 2 L
N
401.36 622.1 413.29 620.76 402.46 615.58 401.91 618.84 4 Y
10 X
V
358.93 611.59 401.92 618.84 2 L
N
401.13 603.27 411.61 597.42 399.63 596.83 400.38 600.05 4 Y
V
358.1 609.92 400.39 600.04 2 L
N
404.51 586.42 412.45 577.42 400.95 580.85 402.73 583.64 4 Y
8 X
V
356.42 613.25 402.74 583.64 2 L
N
392.61 579.69 398.24 569.09 387.85 575.09 390.23 577.39 4 Y
V
356.42 612.42 390.23 577.39 2 L
N
312.53 586.15 323.47 591.09 316.81 581.11 314.67 583.63 4 Y
9 X
V
284.17 557.75 314.68 583.63 2 L
N
323.36 578.22 335.18 580.25 326.23 572.27 324.79 575.24 4 Y
V
283.33 555.25 324.79 575.24 2 L
N
326.6 564.93 338.52 563.59 327.7 558.41 327.15 561.67 4 Y
10 X
V
284.17 554.42 327.15 561.67 2 L
N
326.37 546.1 336.85 540.26 324.87 539.66 325.62 542.88 4 Y
V
283.33 552.75 325.62 542.88 2 L
N
329.75 529.26 337.69 520.26 326.19 523.69 327.97 526.47 4 Y
8 X
V
281.66 556.09 327.98 526.47 2 L
N
317.85 522.52 323.48 511.92 313.08 517.93 315.47 520.22 4 Y
V
281.66 555.25 315.47 520.22 2 L
N
281.12 572.29 277.82 560.75 274.51 572.29 277.82 572.29 4 Y
0 X
V
277.82 610.75 277.82 572.29 2 L
N
285.39 599.49 279.49 609.92 290.02 604.2 287.71 601.84 4 Y
V
280.33 559.92 M
 292.76 568.53 295.51 589.04 287.72 601.84 D
N
333.48 554.96 344.71 550.76 332.96 548.36 333.22 551.66 4 Y
9 X
V
281.16 555.75 333.22 551.66 2 L
N
120 532.15 124.54 543.26 126.58 531.43 123.29 531.79 4 Y
V
119.54 497.42 123.29 531.79 2 L
N
0 8 Q
0 X
(N13) 152.04 528.25 T
(N12) 118.71 545.75 T
(R) 388.2 668.26 T
(T5) 393.06 668.26 T
(R) 323.48 595.25 T
(T5) 328.33 595.25 T
(R) 394.89 654.09 T
(T7) 399.75 654.09 T
(R) 333.51 584.42 T
(T7) 338.37 584.42 T
(Ia,Ib) 409.95 639.92 T
(Ia,Ib) 339.36 568.59 T
(N6) 414.13 619.09 T
(N6) 346.89 549.42 T
(N7) 414.13 597.42 T
(N7) 337.69 536.92 T
(N8) 415.8 579.09 T
(N8) 339.36 522.75 T
(N9-N1) 399.91 561.59 T
(1,H1) 421.83 561.59 T
(N9-N1) 312.61 503.59 T
(1,H1) 334.52 503.59 T
(8) 368.57 641.71 T
(14) 375 636 T
(22) 384.29 627.43 T
(15) 387.14 616 T
(19) 385.72 603.14 T
(18) 390 588.86 T
(26) 378.57 583.14 T
(14) 298.57 575.29 T
(20) 309.29 569.57 T
(15) 311.43 559.57 T
(16) 317.14 551 T
(20) 305.72 546 T
(18) 317.14 531 T
(19) 300 524.57 T
(2) 270.88 537.55 T
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "18" 18
%%Page: "19" 19
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 19]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(This yields the inter) 72 333.31 T
(-area routing architecture pictured in Figure 5. All group membership is advertised by the non-) 151.52 333.31 T
-0.16 (backbone areas into the backbone. Likewise, all IP multicast traf) 72 321.31 P
-0.16 (\336c arising in the non-backbone areas is forwarded to) 328.96 321.31 P
-0.05 (the backbone. Since at this point group membership information meets the multicast datagram traf) 72 309.31 P
-0.05 (\336c, delivery of the) 464.4 309.31 P
(multicast datagrams becomes possible.) 72 297.31 T
1 12 Q
(3.2   Building inter) 72 265.98 T
(-ar) 167.24 265.98 T
(ea datagram shortest-path tr) 182.35 265.98 T
(ees) 329.77 265.98 T
0 10 Q
(When building datagram shortest-path trees in the presence of areas, it is often the case that the source of the) 72 241.31 T
(datagram and \050at least some of\051 the destination group members are in separate areas. Since detailed topological) 72 229.31 T
(information concerning one OSPF area is not distributed to other OSPF areas \050the \337ooding of router) 72 217.31 T
(-LSAs, network-) 472.04 217.31 T
(LSAs and group-membership-LSAs is restricted to a single OSPF area only\051, the building of complete datagram) 72 205.31 T
-0.37 (shortest-path trees is often impossible in the inter) 72 193.31 P
-0.37 (-area case. T) 266.14 193.31 P
-0.37 (o compensate, approximations are made through the use) 315.5 193.31 P
(of wild-card multicast receivers and OSPF summary-link-LSAs.) 72 181.31 T
(When it \336rst receives a datagram for a particular [source net, destination group] pair) 72 157.31 T
(, a router calculates a separate) 408.18 157.31 T
(datagram shortest-path tree for each of the router) 72 145.31 T
(\325) 268.14 145.31 T
(s attached areas. Each datagram shortest-path tree is built solely) 270.92 145.31 T
(from LSAs belonging to the particular area\325) 72 133.31 T
(s link state database. Suppose that a router is calculating a datagram) 246.97 133.31 T
(shortest-path tree for Area A. It is useful then to separate out two cases.) 72 121.31 T
72 108 540 684 C
72 339.98 540 684 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
70.88 339.98 541.12 684 R
7 X
0 0 0 1 0 0 0 K
V
3 X
90 450 3.21 2.85 273.58 637.79 G
0.5 H
2 Z
9 X
90 450 3.21 2.85 273.58 637.79 A
3 X
90 450 3.21 2.85 193.58 589.96 G
9 X
90 450 3.21 2.85 193.58 589.96 A
3 X
90 450 3.21 2.85 365.58 635.8 G
9 X
90 450 3.21 2.85 365.58 635.8 A
3 X
90 450 3.21 2.85 443.58 522.21 G
9 X
90 450 3.21 2.85 443.58 522.21 A
349.45 630.81 361.27 632.84 352.32 624.85 350.88 627.83 4 Y
0 X
V
276.9 637.2 M
 298.67 626.47 327.34 619.36 350.87 627.82 D
N
288.22 641.3 276.27 640.32 285.88 647.48 287.05 644.39 4 Y
V
363.15 637.2 M
 341.4 648.84 311.9 651.86 287.08 644.39 D
N
3 X
90 450 3.21 2.85 325.83 562.61 G
9 X
90 450 3.21 2.85 325.83 562.61 A
3 X
90 450 3.21 2.85 289.83 516.44 G
9 X
90 450 3.21 2.85 289.83 516.44 A
3 X
90 450 3.21 2.85 332.83 411.5 G
9 X
90 450 3.21 2.85 332.83 411.5 A
3 X
90 450 3.21 2.85 293.83 440.39 G
9 X
90 450 3.21 2.85 293.83 440.39 A
440.05 540.63 440.65 528.65 433.79 538.49 436.92 539.56 4 Y
0 X
V
368.98 634.92 M
 399.62 608.86 423.23 576.67 436.94 539.57 D
N
365.33 621.43 367.32 633.26 371.9 622.17 368.61 621.8 4 Y
V
442.32 522.83 M
 413.39 550.36 376.23 581.07 368.63 621.8 D
N
307.09 562.64 318.98 561.03 308.04 556.09 307.57 559.36 4 Y
V
196.48 588.42 M
 225.81 562.65 268.9 554.94 307.55 559.35 D
N
207.63 591.34 195.65 590.92 205.58 597.63 206.6 594.48 4 Y
V
322.32 564.35 M
 286.21 576.36 249.84 586.87 213.15 594.24 D
 210.95 594.69 208.76 594.73 206.61 594.48 D
N
351.36 623.19 360.65 630.77 356.79 619.42 354.08 621.3 4 Y
V
325.65 566.01 M
 330.29 586.85 342.45 604.62 354.09 621.3 D
N
336.72 571.41 326.48 565.18 331.86 575.9 334.29 573.66 4 Y
V
365.65 634.09 M
 366.95 608.95 350.32 590.81 334.31 573.65 D
N
302.83 429.37 295.65 438.98 306.83 434.64 304.83 432.01 4 Y
V
330.65 412.41 304.84 432 2 L
N
301.26 526.46 291.48 519.52 296.1 530.59 298.68 528.53 4 Y
V
323.98 560.2 298.68 528.52 2 L
N
335.08 426.58 332.31 414.9 328.48 426.27 331.78 426.42 4 Y
V
325.65 558.53 331.78 426.42 2 L
N
332.11 548.31 330.64 560.2 338.19 550.9 335.15 549.6 4 Y
V
333.98 412.41 M
 366.05 450.59 352.75 506.56 335.17 549.59 D
N
0 8 Q
(R) 168.15 579.28 T
(T3) 173.01 579.28 T
0 6.4 Q
(a,b) 181.9 582.48 T
0 8 Q
(R) 266.48 648.2 T
(T4) 271.34 648.2 T
0 6.4 Q
(a,b) 280.23 651.4 T
0 8 Q
(R) 372.32 637.4 T
(T5) 377.17 637.4 T
(R) 311.48 574.3 T
(T6) 316.34 574.3 T
(R) 343.15 415.72 T
(T10) 348.01 415.72 T
0 6.4 Q
(a) 360.89 418.92 T
0 8 Q
(5) 311.48 431.5 T
(7) 309.82 528.64 T
(7) 318.15 490.45 T
(5) 355.65 489.61 T
(6) 383.98 567.66 T
(6) 413.15 595.89 T
(6) 331.48 600.04 T
(7) 356.48 587.59 T
(8) 320.65 654.01 T
(8) 314.82 614.16 T
(8) 243.98 552.71 T
(6) 256.48 588.42 T
459.89 559.13 468.64 567.34 465.57 555.74 462.73 557.43 4 Y
9 X
V
443.65 525.49 462.73 557.43 2 L
N
466.59 544.72 477.64 549.41 470.75 539.58 468.67 542.15 4 Y
V
445.65 523.5 468.68 542.14 2 L
N
386.16 663.61 395.65 670.95 391.49 659.7 388.83 661.65 4 Y
V
376.65 645.05 388.83 661.65 2 L
N
395.09 652.77 406.64 656.01 398.56 647.14 396.82 649.95 4 Y
V
385.65 643.06 396.83 649.95 2 L
N
0 X
(N13) 397.8 673.22 T
(N14) 409.94 656.14 T
(N12) 465.65 572.17 T
(N15) 477.08 552.24 T
(8) 368.51 660.41 T
(8) 376.51 652.44 T
(8) 384.51 644.47 T
(2) 448.51 548.68 T
(9) 462.08 528.76 T
483.23 527.87 494.99 525.51 483.76 521.28 483.49 524.57 4 Y
10 X
V
446 521.51 483.5 524.57 2 L
N
483.81 513.86 493.99 507.51 481.99 507.5 482.9 510.68 4 Y
V
445 521.51 482.91 510.68 2 L
N
488.5 493.61 494.99 483.52 484.14 488.64 486.32 491.12 4 Y
V
446 526.51 486.33 491.12 2 L
N
406.22 419.85 417.99 417.51 406.77 413.26 406.5 416.56 4 Y
V
334 410.51 406.51 416.55 2 L
N
402.74 407.66 414 403.51 402.25 401.06 402.5 404.36 4 Y
V
333 409.51 402.5 404.36 2 L
N
411.64 395.58 421.99 389.51 410 389.17 410.82 392.37 4 Y
V
336 411.51 410.83 392.37 2 L
N
228.68 664.29 221 673.51 232.4 669.76 230.54 667.02 4 Y
V
271 639.51 230.54 667.02 2 L
N
220.65 652.38 211 659.51 222.96 658.58 221.81 655.48 4 Y
V
270 637.51 221.81 655.48 2 L
N
219.04 638.8 208 643.51 219.86 645.36 219.45 642.08 4 Y
V
272 635.51 219.45 642.08 2 L
N
203.89 621.91 192 623.51 202.93 628.45 203.41 625.18 4 Y
V
274 635.51 203.41 625.18 2 L
N
143.18 640.69 138 651.51 148.13 645.08 145.65 642.88 4 Y
V
193 589.51 145.65 642.88 2 L
N
144.21 614.76 136 623.51 147.6 620.44 145.9 617.6 4 Y
V
193 589.51 145.91 617.6 2 L
N
133.04 592.8 122 597.51 133.86 599.36 133.45 596.08 4 Y
V
194 588.51 133.45 596.08 2 L
N
139.96 602.82 130 609.51 141.99 609.12 140.98 605.97 4 Y
V
192 589.51 140.98 605.97 2 L
N
3 X
90 450 3.21 2.85 186.83 449.44 G
10 X
90 450 3.21 2.85 186.83 449.44 A
200.3 443.37 190 449.51 201.99 449.76 201.15 446.57 4 Y
V
330 412.51 201.15 446.56 2 L
N
316.03 409.6 327.99 410.52 318.33 403.4 317.18 406.5 4 Y
V
190 447.51 M
 219.8 410.19 271.77 392.33 317.18 406.47 D
N
149.65 500.08 146 511.51 155.15 503.75 152.4 501.92 4 Y
V
186 451.51 152.4 501.91 2 L
N
130.32 449.52 119 453.51 130.71 456.13 130.51 452.83 4 Y
V
186 449.51 130.51 452.82 2 L
N
0 X
(R) 190 458.51 T
(T1) 194.86 458.51 T
(1) 203.45 458.51 T
0 6.4 Q
(a) 207.45 461.71 T
1 10 Q
(Figur) 218 366.51 T
(e 7: The backbone\325) 241.71 366.51 T
(s MOSPF database) 322.73 366.51 T
0 8 Q
(R) 425.83 510 T
(T7) 430.69 510 T
0 6.4 Q
(a) 439.58 513.2 T
0 8 Q
(Ib) 283.33 505 T
(Ia) 282.5 450 T
(N1) 109.17 595 T
(N2) 115.83 609.17 T
(N3) 123.33 625 T
(N4) 127.5 651.67 T
(N1) 187.5 628.33 T
(N2) 196.67 642.5 T
(N3) 199.17 658.33 T
(N4) 209.17 671.67 T
(N6) 422.5 415 T
(N7) 417.5 400.83 T
(N8) 425.83 385.83 T
(N6) 499.17 522.5 T
(N7) 495 504.17 T
(N8) 498.33 480 T
(N9-N1) 125.83 516.67 T
(1, H1) 147.75 516.67 T
136.88 431.99 124.88 432 135.07 438.35 135.97 435.17 4 Y
10 X
V
187.88 450 135.98 435.17 2 L
N
136.54 416.85 124.88 414 133.26 422.6 134.9 419.72 4 Y
V
187.88 450 134.9 419.72 2 L
N
0 X
(N6) 106.11 451.51 T
(N7) 115.11 432.73 T
(N8) 110.88 410 T
(4) 151.88 586.73 T
(4) 143.33 599.17 T
(2) 151.67 624.17 T
(1) 148.33 607.5 T
(4) 231.67 620 T
(4) 223.33 634.17 T
(3) 244.17 661.67 T
(1) 224.17 645.83 T
(1) 475 526.67 T
(5) 475 504.17 T
(4) 468.33 493.33 T
(1) 383.33 419.17 T
(5) 388.33 408.33 T
(3) 390 400 T
(1) 169.17 485.83 T
(7) 145 443.33 T
(3) 148.33 455 T
(2) 148.33 432.5 T
370.87 664.61 376.88 675 377.29 663.01 374.08 663.81 4 Y
9 X
V
367.88 639 374.09 663.81 2 L
N
0 X
(N12) 375.88 674 T
(2) 248.57 412 T
(3) 247.86 439.14 T
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "19" 19
%%Page: "20" 20
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 20]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
-0.03 (The \336rst case,) 72 487.33 P
1 F
-0.03 (Case 1: The sour) 130.22 487.33 P
-0.03 (ce of the datagram belongs to Ar) 201.87 487.33 P
-0.03 (ea A) 340.91 487.33 P
0 F
-0.03 (has already been described in Section 2.3.2.) 362.5 487.33 P
-0.11 (However) 72 475.33 P
-0.11 (, in the presence of OSPF areas, during tree pruning care must be taken so that the branches leading to other) 108.25 475.33 P
(areas remain, since it is unknown whether there are group members in these \050remote\051 areas. For this reason, only) 72 463.33 T
-0.12 (those branches having no group members nor wild-card multicast receivers are pruned when producing the datagram) 72 451.33 P
(shortest-path tree.) 72 439.33 T
(As an example, suppose in Figure 4 that Host H2 sends a multicast datagram to destination Group A. Then the) 72 415.33 T
-0.01 (datagram\325) 72 403.33 P
-0.01 (s shortest-path tree for Area 1, built identically by all routers in Area 1 that receive the datagram, is shown) 111.99 403.33 P
(in Figure 8. Note that both inter) 72 391.33 T
(-area multicast forwarders \050R) 198.74 391.33 T
(T3 and R) 315.6 391.33 T
(T4\051 are on the datagram\325) 352.22 391.33 T
(s shortest-path tree,) 451.08 391.33 T
(ensuring the delivery of the datagram to the backbone and from there to Areas 2 and 3.) 72 379.33 T
(\245) 72 361.33 T
1 F
(Case 2: The sour) 85.54 361.33 T
(ce of the datagram belongs to an ar) 157.3 361.33 T
(ea other than Ar) 307.38 361.33 T
(ea A.) 378.02 361.33 T
0 F
(In this case, when building the) 402.18 361.33 T
(datagram shortest-path tree for Area A, the immediate neighborhood of the datagram\325) 85.54 349.33 T
(s source is unknown.) 428.24 349.33 T
-0.11 (However) 85.54 337.33 P
-0.11 (, there are summary-link-LSAs in the Area A link state database indicating the cost of the paths between) 121.79 337.33 P
(each of Area A) 85.54 325.33 T
(\325) 145.23 325.33 T
(s inter) 148.01 325.33 T
(-area multicast forwarders and the datagram source. These summary links are used to) 172.53 325.33 T
(approximate the neighborhood of the datagram\325) 85.54 313.33 T
(s source; the tree begins with links directly connecting the source) 276.34 313.33 T
(to each of the inter) 85.54 301.33 T
(-area multicast forwarders. These links point in the reverse direction \050towards instead of away) 160.32 301.33 T
(from the datagram source\051 from the links considered in Case 1 above.) 85.54 289.33 T
1 F
(All additional links) 366.87 289.33 T
0 F
( added to the tree also) 448.57 289.33 T
1 F
(point in the r) 85.54 277.33 T
(everse dir) 141.2 277.33 T
(ection) 182.95 277.33 T
0 F
(. The \336nal datagram shortest-path tree is then produced by) 208.5 277.33 T
(, as before, pruning all) 441.14 277.33 T
(branches having no group-members nor wild-card multicast receivers.) 85.54 265.33 T
(As an example, suppose again that Host H2 in Figure 4 sends a multicast datagram to destination Group A. The) 85.54 249.33 T
(datagram\325) 85.54 237.33 T
(s shortest-path tree for the backbone is shown in Figure 9. The neighborhood around the source) 125.53 237.33 T
(\050Network N4\051 has been approximated by the summary links advertised by routers R) 85.54 225.33 T
(T3 and R) 420.44 225.33 T
(T4. Note that all) 457.06 225.33 T
-0.12 (links in Figure 9\325) 85.54 213.33 P
-0.12 (s datagram shortest-path tree have arrows pointing in the reverse direction, towards Network N4) 153.78 213.33 P
(instead of away from it.) 85.54 201.33 T
(The reverse costs used for the entire tree in Case 2 are forced because summary-link-LSAs only specify the cost) 72 177.33 T
(towards the datagram source. In the presence of asymmetric link costs, this may lead to less ef) 72 165.33 T
(\336cient routes when) 448.97 165.33 T
(forwarding multicasts between areas.) 72 153.33 T
(Those routers attached to multiple areas must calculate multiple trees and then mer) 72 129.33 T
(ge them into a single forwarding) 403.43 129.33 T
(cache entry) 72 117.33 T
(. As shown in Section 2.3.2, when connected to a single area the router) 117.16 117.33 T
(\325) 401.09 117.33 T
(s position on the datagram) 403.87 117.33 T
72 108 540 684 C
72 493.99 540 684 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
70.88 493.99 541.12 684 R
7 X
0 0 0 1 0 0 0 K
V
1 10 Q
0 X
(Figur) 144.79 512.24 T
(e 8: Datagram\325) 168.5 512.24 T
(s shortest-path tr) 232.55 512.24 T
(ee: Ar) 305.69 512.24 T
(ea 1, sour) 331.88 512.24 T
(ce N4, destination Gr) 372.53 512.24 T
(oup A) 462.9 512.24 T
3 X
90 450 3.23 2.86 276.83 646.55 G
0.5 H
2 Z
9 X
90 450 3.23 2.86 276.83 646.55 A
3 X
90 450 3.23 2.86 215.32 627.69 G
9 X
90 450 3.23 2.86 215.32 627.69 A
3 X
90 450 3.23 2.86 279.84 544.88 G
9 X
90 450 3.23 2.86 279.84 544.88 A
3 X
90 450 3.23 2.86 277.83 591.88 G
9 X
90 450 3.23 2.86 277.83 591.88 A
3 X
90 450 3.23 2.86 355.35 648.59 G
9 X
90 450 3.23 2.86 355.35 648.59 A
0 8 Q
0 X
(R) 209.66 615.34 T
(T2) 214.52 615.34 T
0 6.4 Q
(a,b) 223.4 618.54 T
0 8 Q
(R) 250.64 588.67 T
(T3) 255.49 588.67 T
0 6.4 Q
(w) 264.38 591.87 T
0 8 Q
(N3) 276.56 659.5 T
0 6.4 Q
(b) 286.34 662.7 T
0 8 Q
(N4) 274.89 531.17 T
(1) 285.29 614 T
(R) 341.87 663.78 T
(T4) 346.73 663.78 T
0 6.4 Q
(w) 355.62 666.98 T
275.26 577.32 278 589 281.86 577.64 278.56 577.48 4 Y
11 X
V
280 548 278.56 577.48 2 L
N
273.93 632.4 277 644 280.54 632.54 277.23 632.47 4 Y
0 X
V
278 595 277.23 632.47 2 L
N
340.41 651.15 351.99 648 340.5 644.54 340.46 647.84 4 Y
V
279 647 340.47 647.84 2 L
N
230 629.07 218 629 228.14 635.42 229.07 632.24 4 Y
V
276 646 229.07 632.24 2 L
N
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "20" 20
%%Page: "21" 21
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 21]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(shortest-path tree determines \050in lar) 72 432.32 T
(ge part\051 its forwarding cache entry) 214.01 432.32 T
(. When attached to multiple areas, and hence) 351.37 432.32 T
(calculating multiple datagram shortest-path trees, each tree contributes to the forwarding cache entry\325) 72 420.32 T
(s list of) 477.74 420.32 T
(downstream interfaces/neighbors. However) 72 408.32 T
(, only one of the areas\325 datagram shortest-path trees will determine the) 245.72 408.32 T
-0.07 (forwarding cache entry\325) 72 396.32 P
-0.07 (s upstream node. When one of the attached areas contains the datagram source, that area will) 167.37 396.32 P
(determine the upstream node. Otherwise, the tiebreaking rules of Section 12.2.7 are invoked.) 72 384.32 T
-0.25 (Consider again the example of Host H2 in Figure 4 sending a multicast datagram to destination Group A. Router R) 72 360.32 P
-0.25 (T3) 526.64 360.32 P
(will calculate two datagram shortest-path trees, one for Area 1 and one for the backbone. Since the source of the) 72 348.32 T
(datagram \050Host H2\051 belongs to Area 1, the Area 1 datagram shortest-path tree determines R) 72 336.32 T
(T3\325) 438.26 336.32 T
(s upstream node:) 452.15 336.32 T
-0.27 (Network N4. Router R) 72 324.32 P
-0.27 (T3 calculates two downstream interfaces for the datagram: the interface to Network N3 \050which) 161.68 324.32 P
(comes from Area 1\325) 72 312.32 T
(s datagram shortest-path tree\051 and the serial line to Router R) 151.7 312.32 T
(T6 \050which comes from the) 392.17 312.32 T
(backbone\325) 72 300.32 T
(s datagram shortest-path tree\051. As for Router R) 113.1 300.32 T
(T10, it calculates two trees, determining its upstream node) 300.24 300.32 T
-0.17 (from the backbone tree and its two downstream interfaces from the Area 2 tree. Finally) 72 288.32 P
-0.17 (, Router R) 417.43 288.32 P
-0.17 (T1) 457.87 288.32 P
-0.17 (1 calculates three) 468.61 288.32 P
(trees, determining its upstream node from the Area 2 tree and its downstream interface from the Area 3 tree.) 72 276.32 T
1 14 Q
(4  Inter) 72 237.65 T
(-AS multicasting) 115.81 237.65 T
0 10 Q
-0.06 (This section explains how MOSPF deals with the forwarding of multicast datagrams between Autonomous Systems.) 72 212.32 P
(Certain AS boundary routers in a MOSPF system will be con\336gured as) 72 200.32 T
1 F
(inter) 358.65 200.32 T
(-AS multicast forwarders.) 378.83 200.32 T
0 F
( It is) 489.64 200.32 T
(assumed that these routers will also be running an inter) 72 188.32 T
(-AS multicast routing protocol. This speci\336cation does not) 292.05 188.32 T
(dictate the operation of such an inter) 72 176.32 T
(-AS multicast routing protocol. However) 217.88 176.32 T
(, the following interactions between) 381.63 176.32 T
(MOSPF and the inter) 72 164.32 T
(-AS routing protocol are assumed:) 157.08 164.32 T
(1.) 72 146.32 T
-0.2 (MOSPF guarantees that the inter) 85.54 146.32 P
-0.2 (-AS multicast forwarders will receive all multicast datagrams; but it is up to each) 215.63 146.32 P
-0.08 (router so designated to determine whether the datagram should be forwarded to other Autonomous Systems. This) 85.54 134.32 P
(determination will probably be made via the inter) 85.54 122.32 T
(-AS routing protocol.) 283.37 122.32 T
72 108 540 684 C
72 438.98 540 684 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
71.5 438.98 540.5 684 R
7 X
0 0 0 1 0 0 0 K
V
3 X
90 450 3.21 2.85 270.05 639.23 G
0.5 H
2 Z
9 X
90 450 3.21 2.85 270.05 639.23 A
3 X
90 450 3.21 2.85 190.05 591.41 G
9 X
90 450 3.21 2.85 190.05 591.41 A
3 X
90 450 3.21 2.85 362.05 637.24 G
9 X
90 450 3.21 2.85 362.05 637.24 A
3 X
90 450 3.21 2.85 440.05 523.66 G
9 X
90 450 3.21 2.85 440.05 523.66 A
3 X
90 450 3.21 2.85 322.3 564.05 G
9 X
90 450 3.21 2.85 322.3 564.05 A
3 X
90 450 3.21 2.85 329.3 482.94 G
9 X
90 450 3.21 2.85 329.3 482.94 A
0 8 Q
0 X
(R) 164.62 580.73 T
(T3) 169.48 580.73 T
0 6.4 Q
(a,b) 178.37 583.93 T
0 8 Q
(R) 262.95 649.64 T
(T4) 267.81 649.64 T
0 6.4 Q
(a,b) 276.7 652.84 T
0 8 Q
(R) 368.79 638.85 T
(T5) 373.64 638.85 T
(R) 307.95 575.75 T
(T6) 312.81 575.75 T
(R) 339.62 487.17 T
(T10) 344.48 487.17 T
0 6.4 Q
(a) 357.36 490.37 T
0 8 Q
(5) 332.62 527.89 T
(6) 388.45 577.1 T
(8) 308.29 625.6 T
(6) 240.45 568.16 T
3 X
90 450 3.21 2.85 239.3 498.89 G
10 X
90 450 3.21 2.85 239.3 498.89 A
0 X
(R) 242.47 507.95 T
(T1) 247.33 507.95 T
(1) 255.92 507.95 T
0 6.4 Q
(a) 259.92 511.15 T
1 10 Q
(Figur) 142.12 461.3 T
(e 9: Datagram shortest-path tr) 165.83 461.3 T
(ee: Backbone, sour) 296.17 461.3 T
(ce N4, Destination Gr) 376.82 461.3 T
(oup A) 468.85 461.3 T
0 8 Q
(R) 422.3 511.44 T
(T7) 427.16 511.44 T
0 6.4 Q
(a) 436.05 514.64 T
0 8 Q
(N4) 147.97 664.11 T
3 X
90 450 3.21 2.85 163.05 662.41 G
9 X
90 450 3.21 2.85 163.05 662.41 A
164.83 648.03 163.99 660 171.04 650.29 167.94 649.16 4 Y
8 X
V
188 594 167.94 649.16 2 L
N
176.57 656.34 165.99 662 177.97 662.8 177.27 659.57 4 Y
10 X
V
268 640 177.27 659.57 2 L
N
284.45 635.43 272.99 639 284.6 642.04 284.52 638.74 4 Y
0 X
V
284.53 638.73 360 637 2 L
N
367.71 623.59 363.99 635 373.19 627.3 370.45 625.44 4 Y
V
370.46 625.44 437 527 2 L
N
(2) 287 497 T
(2) 180 627 T
(3) 213 656 T
321.48 548.16 324 559.9 328.08 548.61 324.78 548.39 4 Y
V
324.78 548.39 329 485.9 2 L
N
316.22 488.18 327 482.9 315.06 481.67 315.64 484.93 4 Y
10 X
V
315.64 484.92 243 497.9 2 L
N
203.48 585.18 192.86 590.75 204.82 591.66 204.15 588.42 4 Y
0 X
V
320.72 564.32 204.15 588.42 2 L
N
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "21" 21
%%Page: "22" 22
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 22]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(2.) 72 677.33 T
(MOSPF assumes that the inter) 85.54 677.33 T
(-AS routing protocol is forwarding multicast datagrams in an RPF \050reverse path) 207.01 677.33 T
(forwarding; see [Deering] for an explanation of this terminology\051 fashion. In other words, it is assumed that a) 85.54 665.33 T
(multicast datagram whose source \050call it X\051 lies outside the MOSPF domain will enter the MOSPF domain at) 85.54 653.33 T
(those points that are advertising \050into OSPF\051 the best routes back to X. MOSPF calculates the path of the) 85.54 641.33 T
(datagram through the MOSPF domain based on this assumption.) 85.54 629.33 T
-0.1 (MOSPF designates an inter) 72 605.33 P
-0.1 (-AS multicast forwarder as a) 181.22 605.33 P
1 F
-0.1 (wild-card multicast r) 298.18 605.33 P
-0.1 (eceiver) 387.79 605.33 P
0 F
-0.1 ( in all of its attached areas. As) 417.77 605.33 P
(in the inter) 72 593.33 T
(-area case, this ensures that the routers remain on all pruned shortest-path trees and thereby receive all) 115.13 593.33 T
(multicast datagrams, regardless of destination.) 72 581.33 T
(As an example, suppose that in Figure 1 both R) 72 557.33 T
(T5 and R) 261.39 557.33 T
(T7 were con\336gured as inter) 298.01 557.33 T
(-AS multicast forwarders. Then) 407.78 557.33 T
(the link state database would look like the one pictured in Figure 2, with the addition of a\051 wild-card status for R) 72 545.33 T
(T5) 521.35 545.33 T
(and R) 72 533.33 T
(T7 \050they would appear with superscripts of \322w\323\051 and b\051 the external links originated by R) 95.01 533.33 T
(T5 and R) 452.4 533.33 T
(T7 being) 489.02 533.33 T
(labelled as) 72 521.33 T
1 F
(multicast-capable) 116.99 521.33 T
0 8 Q
(12) 192.54 525.33 T
0 10 Q
(.) 200.54 521.33 T
-0.12 (As another example, consider the area con\336guration in Figure 4. Again suppose R) 72 497.33 P
-0.12 (T5 and R) 398.23 497.33 P
-0.12 (T7 are con\336gured as inter) 434.6 497.33 P
-0.12 (-) 536.67 497.33 P
(AS multicast forwarders. Then in Area 1\325) 72 485.33 T
(s link state database \050Figure 6\051, the external links originated by R) 237.8 485.33 T
(T5 and) 498.28 485.33 T
(R) 72 473.33 T
(T7 would again be labelled as multicast-capable. However) 78.07 473.33 T
(, note that in Area 1\325) 312.06 473.33 T
(s database R) 394.27 473.33 T
(T5 and R) 443.66 473.33 T
(T7 are not) 480.28 473.33 T
(labelled as wild-card multicast receivers. This is unnecessary; since Area 1\325) 72 461.33 T
(s inter) 374.43 461.33 T
(-area multicast forwarders \050R) 398.95 461.33 T
(T3) 515.81 461.33 T
-0.11 (and R) 72 449.33 P
-0.11 (T4\051 are wild-cards, all multicast datagrams will be forwarded to the backbone. And in the backbone\325) 94.9 449.33 P
-0.11 (s link state) 495.06 449.33 P
(database \050Figure 7\051, R) 72 437.33 T
(T5 and R) 160.27 437.33 T
(T7 will be labelled as wild-cards.) 196.89 437.33 T
1 12 Q
(4.1  Building inter) 72 406 T
(-AS datagram shortest-path tr) 164.24 406 T
(ees.) 319.67 406 T
0 10 Q
-0.38 (When multicast datagrams are to be forwarded between Autonomous Systems, the datagram shortest-path tree is built) 72 381.33 P
(as follows. Remember that the router builds a separate tree for each area to which it is attached; these trees are then) 72 369.33 T
-0.04 (mer) 72 357.33 P
-0.04 (ged into a single forwarding cache entry) 87.37 357.33 P
-0.04 (. Suppose that the router is building the tree for Area A. W) 247.57 357.33 P
-0.04 (e break up the) 481.28 357.33 P
(tree building into three cases. This \336rst two cases have already been described earlier in this memo: Case 1 \050the) 72 345.33 T
(source of the datagram belongs to Area A\051 having been described in Section 2.3.2 and Case 2 \050the source of the) 72 333.33 T
-0.35 (datagram belongs to another OSPF area\051 having been described in Section 3.2. The only modi\336cation to these cases is) 72 321.33 P
-0.27 (that inter) 72 309.33 P
-0.27 (-AS multicast forwarders, as well as group members and inter) 107.36 309.33 P
-0.27 (-area multicast forwarders, must remain on the) 352.48 309.33 P
(pruned trees. The new case is as follows:) 72 297.33 T
(\245) 72 279.33 T
1 F
-0.31 (Case 3: The sour) 85.54 279.33 P
-0.31 (ce of the datagram belongs to another Autonomous System.) 156.35 279.33 P
0 F
-0.31 ( The immediate neighborhood of) 407.42 279.33 P
(the source is then unknown. In this case the multicast-capable AS external links are used to approximate the) 85.54 267.33 T
(neighborhood of the source; the tree begins with links directly attaching the source to one or more inter) 85.54 255.33 T
(-AS) 498.33 255.33 T
-0.32 (multicast forwarders. The approximating AS external links point in the reverse direction \050i.e., towards the source\051,) 85.54 243.33 P
(just as with the approximating summary links in Case 2. Also, as in Case 2,) 85.54 231.33 T
1 F
(all links) 389.98 231.33 T
0 F
( included in the tree must) 423.61 231.33 T
1 F
(point in the r) 85.54 219.33 T
(everse dir) 141.2 219.33 T
(ection.) 182.95 219.33 T
0 F
( The \336nal datagram shortest-path tree is then produced \050as always\051 by pruning) 211 219.33 T
(those branches having no group members nor wild-card multicast receivers.) 85.54 207.33 T
72 138 540 158.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 145.99 203.98 145.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(12.  It is possible that through the operation of an inter) 72 132.67 T
(-AS multicast routing protocol, Router R) 246.05 132.67 T
(T7 knows that it does not have multicast) 376.68 132.67 T
(connectivity to Network N15 \050even though it has unicast connectivity\051. In this case, R) 72 123.67 T
(T7 would not advertise the external link to N15 as being) 346.38 123.67 T
(multicast capable.) 72 114.67 T
FMENDPAGE
%%EndPage: "22" 22
%%Page: "23" 23
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 23]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
-0.35 (As an example, suppose that a host on Network N12 \050see Figure 4\051 originates a multicast datagram for Destination) 85.54 535.19 P
(Group B. Assume that all external costs pictured are OSPF external type 1 metrics. Then any routers in Area 1) 85.54 523.19 T
-0.23 (receiving the datagram would build the datagram shortest-path tree pictured in Figure 10. Note that all links in the) 85.54 511.19 P
(tree point in the reverse direction, towards the source. The tree indicates that the routers expect the datagram to) 85.54 499.19 T
(enter the Autonomous System at Router R) 85.54 487.19 T
(T7, and then to enter the area at Router R) 254.38 487.19 T
(T4.) 419.3 487.19 T
(Note that in those cases where the \322best\323 inter) 85.54 471.19 T
(-AS multicast forwarder is not directly attached to the area, the) 269.74 471.19 T
(neighborhood of the source is actually approximated by the concatenation of a summary link and a multicast-) 85.54 459.19 T
(capable AS external link. This is in fact the case in Figure 10.) 85.54 447.19 T
(In Case 3 \050datagram source in another AS\051 the requirement that all tree links point in the reverse direction \050towards) 72 423.19 T
(the source\051 accommodates the fact that summary links and AS external links already point in the reverse direction.) 72 411.19 T
(This also leads to the requirement that the inter) 72 399.19 T
(-AS multicast routing protocol operate in a reverse path forwarding) 260.11 399.19 T
-0.1 (fashion \050see condition 2 of Section 4\051. Note that Reverse path forwarding can lead to sub-optimal routing when costs) 72 387.19 P
-0.27 (are con\336gured asymmetrically) 72 375.19 P
-0.27 (. And it can even lead to non-delivery of multicast datagrams in the case of asymmetric) 192.45 375.19 P
(reachability) 72 363.19 T
(.) 118.56 363.19 T
-0.3 (Inter) 72 339.19 P
-0.3 (-AS multicast forwarders may end up calculating a forwarding cache entry\325) 90.68 339.19 P
-0.3 (s) 389.25 339.19 P
1 F
-0.3 (upstr) 395.34 339.19 P
-0.3 (eam node) 417.94 339.19 P
0 F
-0.3 ( as being external to) 458.47 339.19 P
(the AS. As an example, Router R) 72 327.19 T
(T7 in Figure 10 will end up calculating an external router \050via its external link to) 204.72 327.19 T
(Network N12\051 as the upstream node for the datagram. This means that R) 72 315.19 T
(T7 must receive the datagram from a router) 362.18 315.19 T
(in another AS before injecting the datagram into the MOSPF system.) 72 303.19 T
1 12 Q
(4.2  Stub ar) 72 271.86 T
(ea behavior) 131.12 271.86 T
0 10 Q
-0.2 (AS external links are not imported into stub areas. Suppose that the source of a particular datagram lies outside of the) 72 247.19 P
(Autonomous System, and that the datagram is forwarded into a stub area. In the stub area\325) 72 235.19 T
(s datagram shortest-path) 432.22 235.19 T
(tree the neighborhood of the datagram\325) 72 223.19 T
(s source cannot be approximated by AS external links. Instead the) 227.8 223.19 T
(neighborhood of the source is approximated by the) 72 211.19 T
1 F
(default summary links) 278.08 211.19 T
0 F
( \050see Section 3.6 of [OSPF]\051 that are) 374.2 211.19 T
(originated by the stub area\325) 72 199.19 T
(s intra-area multicast forwarders.) 180.87 199.19 T
(Except for this small change to the construction of a stub area\325) 72 175.19 T
(s datagram shortest-path trees, all other MOSPF) 321.68 175.19 T
(algorithms \050e.g., mer) 72 163.19 T
(ging with other areas\325 datagram shortest-path trees to form the forwarding cache\051 function the) 155.42 163.19 T
(same for stub areas as they do for non-stub areas.) 72 151.19 T
72 108 540 684 C
97 541.86 515 684 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
97 541.86 515 684 R
7 X
0 0 0 1 0 0 0 K
V
3 X
90 450 3.23 2.86 230.83 633.41 G
0.5 H
2 Z
9 X
90 450 3.23 2.86 230.83 633.41 A
3 X
90 450 3.23 2.86 169.32 614.55 G
9 X
90 450 3.23 2.86 169.32 614.55 A
3 X
90 450 3.23 2.59 172.46 654.91 G
9 X
90 450 3.23 2.59 172.46 654.91 A
3 X
90 450 3.21 2.86 383.13 635.26 G
9 X
90 450 3.21 2.86 383.13 635.26 A
3 X
90 450 3.23 2.86 309.35 635.45 G
9 X
90 450 3.23 2.86 309.35 635.45 A
0 8 Q
0 X
(R) 163.66 662.19 T
(T1) 168.52 662.19 T
0 6.4 Q
(b) 177.4 665.39 T
0 8 Q
(R) 163.66 602.19 T
(T2) 168.52 602.19 T
0 6.4 Q
(a,b) 177.4 605.39 T
0 8 Q
(R) 376.03 649.58 T
(T7) 380.89 649.58 T
(N3) 230.56 646.36 T
0 6.4 Q
(b) 240.34 649.56 T
0 8 Q
(N12) 445.2 633.27 T
(2) 403.06 638.98 T
294.12 638.29 305.74 635.3 294.3 631.68 294.21 634.98 4 Y
V
294.21 634.98 233.49 633.3 2 L
N
(R) 295.87 650.64 T
(T4) 300.73 650.64 T
0 6.4 Q
(w) 309.62 653.84 T
218.53 642.36 228.43 635.57 216.44 636.08 217.49 639.22 4 Y
V
217.49 639.22 174.86 653.43 2 L
N
216.43 631.91 228.43 632 218.3 625.57 217.36 628.74 4 Y
V
217.37 628.74 172.71 615.57 2 L
N
369.07 638.29 380.57 634.86 369 631.67 369.04 634.98 4 Y
10 X
V
313.43 635.57 369.04 634.98 2 L
N
430.5 638.31 441.99 634.86 430.42 631.7 430.46 635.01 4 Y
V
386.29 635.57 430.47 635 2 L
N
0 8 Q
0 X
(14) 338.43 638.43 T
1 10 Q
(Figur) 136.81 569.3 T
(e 10: Datagram shortest path tr) 160.52 569.3 T
(ee: Ar) 295.03 569.3 T
(ea 1, sour) 321.22 569.3 T
(ce N12, Destination Gr) 361.87 569.3 T
(oup B) 458.9 569.3 T
0 8 Q
(1) 196 651.55 T
(1) 187 624.55 T
(R) 297.93 602.73 T
(T3) 302.79 602.73 T
0 6.4 Q
(w) 311.68 605.93 T
3 X
90 450 3.23 2.86 289.35 605.45 G
9 X
90 450 3.23 2.86 289.35 605.45 A
243.07 624.15 234 632 245.85 630.16 244.46 627.16 4 Y
0 X
V
288 607 244.47 627.15 2 L
N
0 8 Q
(1) 260 610 T
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "23" 23
%%Page: "24" 24
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 24]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 12 Q
0 X
(4.3  Inter) 72 676 T
(-AS multicasting in a cor) 118.55 676 T
(e Autonomous System) 245.66 676 T
0 10 Q
(It may be the case that the MOSPF routing domain connects together many dif) 72 651.33 T
(ferent Autonomous Systems, thereby) 386.51 651.33 T
(serving as a \322core Autonomous System\323 \050e.g, the old NSFNet backbone\051. In this case, it could very well be that the) 72 639.33 T
(majority of the MOSPF routers are also inter) 72 627.33 T
(-AS multicast forwarders. Having each inter) 250.95 627.33 T
(-AS multicast forwarder) 427.93 627.33 T
-0.3 (then declare itself a wild-card multicast receiver could very well waste considerable network bandwidth. However) 72 615.33 P
-0.3 (, as) 524.77 615.33 P
(an alternative to declaring themselves wild-card multicast receivers, the inter) 72 603.33 T
(-AS multicast routers could instead) 379.51 603.33 T
(explicitly advertise all groups that they were interested in forwarding \050to other \322client\323 Autonomous Systems\051 in) 72 591.33 T
(group-membership-LSAs. These advertised groups would have to be learned through an inter) 72 579.33 T
(-AS multicast routing) 445.62 579.33 T
(protocol \050or possibly even statically con\336gured\051.) 72 567.33 T
-0.07 (This in essence allows the clients of the core Autonomous System to advertise their group membership into the core.) 72 543.33 P
-0.38 (However) 72 531.33 P
-0.38 (, since any client MOSPF domains will still have their inter) 108.25 531.33 P
-0.38 (-AS multicast forwarders con\336gured as wild-card) 341.76 531.33 P
(multicast receivers, this advertisement will be asymmetric: the core will not advertise its or others\325 group) 72 519.33 T
(membership to the clients. The achieves the same inter) 72 507.33 T
(-AS multicast routing architecture that MOSPF uses for inter) 290.93 507.33 T
(-) 534.6 507.33 T
(area multicast routing \050see Figure 5\051.) 72 495.33 T
FMENDPAGE
%%EndPage: "24" 24
%%Page: "25" 25
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 25]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 14 Q
0 X
(5  Modelling internal gr) 72 674.67 T
(oup membership) 214.09 674.67 T
0 10 Q
(A MOSPF router may itself contain multicast applications. A typical example of this is a UNIX workstation that) 72 649.33 T
-0.34 (doubles as a multicast router) 72 637.33 P
-0.34 (. This section concerns two alternative ways of representing the group membership of the) 184.53 637.33 P
(MOSPF router) 72 625.33 T
(\325) 131.54 625.33 T
(s internal applications. Both representations have advantages. For maximum \337exibility) 134.32 625.33 T
(, the MOSPF) 480.59 625.33 T
-0.18 (forwarding algorithm \050see Section 1) 72 613.33 P
-0.18 (1\051 has been speci\336ed so that either representation can be used in a MOSPF router) 215.32 613.33 P
(\050and in fact, both representations can be used at once, depending on the application\051.) 72 601.33 T
-0.14 (The \336rst representation is based on the paradigm presented in RFC 1) 72 577.33 P
-0.14 (1) 344.74 577.33 P
-0.14 (12. In this case, an application joins a multicast) 349.37 577.33 P
-0.11 (group on one or more speci\336c physical interfaces. The application then receives a multicast datagram if and only if it) 72 565.33 P
(is received on one of the speci\336ed interfaces. If a datagram is received on multiple speci\336ed interfaces, the) 72 553.33 T
(application receives multiple copies. Figure 1) 72 541.33 T
(1 shows this algorithm as it is implemented in \050modi\336ed\051 BSD UNIX) 253.83 541.33 T
-0.06 (kernels. The \336gure shows the processing of a multicast datagram, starting with its reception on a particular interface.) 72 529.33 P
(First copies of the datagram are given to those applications that have joined on the receiving interface. Then the) 72 517.33 T
(forwarding decision \050pictured as a box containing a question mark\051 is made, and the packet is \050possibly\051 forwarded) 72 505.33 T
(out certain interfaces. If these interfaces are not capable of receiving their own multicasts, a copy of the datagram) 72 493.33 T
(must be internally looped back to appropriately joined applications.) 72 481.33 T
(The advantages to the RFC 1) 72 457.33 T
(1) 188.01 457.33 T
(12 representation are as follows:) 192.64 457.33 T
(\245) 72 439.33 T
(It is the standard for the way an IP host joins multicast groups. It is simplest to use the same membership model) 85.54 439.33 T
(for hosts and routers; most would consider an IP router to be a special case of an IP host anyway) 85.54 427.33 T
(.) 471.21 427.33 T
(\245) 72 409.33 T
-0.03 (It is the way group membership has been implemented in BSD UNIX. Existing multicast applications are written) 85.54 409.33 P
(to join multicast groups on speci\336c interfaces.) 85.54 397.33 T
(\245) 72 379.33 T
-0.29 (The possibility of receiving multiple datagram copies may improve fault tolerance. If the datagram is dropped due) 85.54 379.33 P
(to an error on the path to some interface, another interface may still receive a copy) 85.54 367.33 T
(.) 414.8 367.33 T
(\245) 72 349.33 T
(The ability to specify a particular receiving interface may improve the accuracy of IP multicast\325) 85.54 349.33 T
(s expanding ring) 468.23 349.33 T
(search mechanism \050see Section 2.3.4\051.) 85.54 337.33 T
(\245) 72 319.33 T
(Membership in the non-routable multicast groups \050224.0.0.1 - 224.0.0.255\051 must be on a per) 85.54 319.33 T
(-interface basis. An) 454.47 319.33 T
(OSPF router always belongs to 224.0.0.5 \050AllSPFRouters\051 on its OSPF interfaces, and may belong to 224.0.0.6) 85.54 307.33 T
(\050AllDRouters\051 on one or more of its OSPF interfaces.) 85.54 295.33 T
(The second representation is MOSPF-speci\336c. In this case, an application joins a multicast group on an interface-) 72 271.33 T
-0.13 (independent basis. In other words, group membership is associated with the router as a whole, not separately on each) 72 259.33 P
72 108 540 684 C
84.38 108 527.62 247 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
365.92 180.57 371.74 170.08 361.24 175.89 363.58 178.23 4 Y
0 X
0 0 0 1 0 0 0 K
V
173.75 170.08 M
 209.75 206.08 209.75 206.08 227.75 215.08 D
 245.75 224.08 245.75 224.08 272.75 224.08 D
 299.75 224.08 299.75 224.08 317.75 215.08 D
 334.27 206.82 335.63 206.14 363.59 178.24 D
0.5 H
2 Z
N
262.38 214.08 280.38 231.08 R
7 X
V
0 X
N
401.53 180.57 407.36 170.08 396.86 175.88 399.19 178.22 4 Y
V
281.38 224.08 M
 349.56 224.08 353.17 224.08 399.23 178.22 D
N
1 12 Q
(?) 269.38 219.08 T
206.67 222.67 210.38 234.08 213.28 222.44 209.98 222.55 4 Y
11 X
V
209.38 205.08 209.98 222.55 2 L
N
350.07 218.55 353.38 230.08 356.68 218.55 353.38 218.55 4 Y
V
353.38 188.08 353.38 218.55 2 L
N
387.07 218.55 390.38 230.08 393.68 218.55 390.38 218.55 4 Y
V
390.38 188.08 390.38 218.55 2 L
N
147.38 171.17 438.38 171.17 2 L
10 X
N
0 10 Q
0 X
(T) 150.38 219.17 T
(o application) 155.79 219.17 T
(T) 342.38 232.17 T
(o application) 347.79 232.17 T
(Packet forwarding) 239.38 203.17 T
(receive) 162.38 159.17 T
(transmit) 370.38 159.17 T
1 F
(Figur) 152 128 T
(e 1) 175.71 128 T
(1: RFC 1) 187.1 128 T
(1) 225.43 128 T
(12 r) 229.88 128 T
(epr) 246.64 128 T
(esentation of internal gr) 260.9 128 T
(oup membership) 363.21 128 T
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "25" 25
%%Page: "26" 26
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 26]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(interface. The application then receives a copy of a multicast datagram if and only if the datagram would actually be) 72 677.33 T
(forwarded by the MOSPF router. Figure 12 shows how this algorithm would be implemented. The datagram is) 72 665.33 T
-0.1 (received on a particular interface. If the datagram is validated for forwarding \050i.e., the receiving interface connects to) 72 497.33 P
-0.02 (the matching forwarding cache entry\325) 72 485.33 P
-0.02 (s) 221.88 485.33 P
1 F
-0.02 (upstr) 228.25 485.33 P
-0.02 (eam node) 250.85 485.33 P
0 F
-0.02 (\051, a copy of the datagram is also given to appropriately joined) 291.66 485.33 P
(applications. Note that this model of group membership is not as general as the RFC 1) 72 473.33 T
(1) 416.61 473.33 T
(12 model, in that it can only) 421.24 473.33 T
(be implemented in MOSPF routers and not in arbitrary IP hosts. However) 72 461.33 T
(, it has the following advantages:) 367.13 461.33 T
(\245) 72 443.33 T
(The application does not need to have knowledge of the router interfaces. It does not need to know what kind or) 85.54 443.33 T
(how many interfaces there are; this will be taken care of by the MOSPF protocol itself.) 85.54 431.33 T
(\245) 72 413.33 T
-0.17 (As long as any interface is operational, the application will continue to receive multicast datagrams. This happens) 85.54 413.33 P
(automatically) 85.54 401.33 T
(, without the application modifying its group membership.) 139.33 401.33 T
(\245) 72 383.33 T
(The application receives only one copy of the datagram. Using the RFC1) 85.54 383.33 T
(1) 377.35 383.33 T
(12 representation, whenever an) 381.98 383.33 T
(application joins on more than one interface \050which must be done if the application does not want to rely on a) 85.54 371.33 T
(single interface\051, multiple datagram copies will be received during normal operation.) 85.54 359.33 T
1 14 Q
(6  Additional capabilities) 72 320.67 T
0 10 Q
(This section describes the MOSPF con\336guration options that allow routers of dif) 72 295.33 T
(fering capabilities to be mixed) 394.86 295.33 T
(together in the same routing domain. Note that these options handle special circumstances that may not be) 72 283.33 T
(encountered in normal operation. Default values for the con\336guration settings are speci\336ed in Appendix B.) 72 271.33 T
1 12 Q
(6.1  Mixing with non-multicast r) 72 240 T
(outers) 237.12 240 T
0 10 Q
-0.32 (MOSPF routers can be mixed freely with routers that are running only the base OSPF algorithm \050called non-multicast) 72 215.33 P
(routers in the following\051. This allows MOSPF to be deployed in a piecemeal fashion, thereby speeding deployment) 72 203.33 T
(and allowing experimentation with multicast routing on a limited scale.) 72 191.33 T
-0.25 (When a MOSPF router builds a datagram shortest-path tree, it omits all non-multicast routers. For example, in Figure) 72 167.33 P
(1, if Router R) 72 155.33 T
(T6 was not a multicast router) 126.4 155.33 T
(, the datagram shortest-path tree in Figure 3 would be built with a more) 242.93 155.33 T
(circuitous branch through Router R) 72 143.33 T
(T5, instead of through Router R) 213.05 143.33 T
(T6. In addition, non-multicast routers do not) 340.22 143.33 T
(participate in the \337ooding of the new group-membership-LSAs. This adheres to the general principle that a router) 72 131.33 T
(should not have to handle those link state advertisements whose format \050or contents\051 the router does not understand.) 72 119.33 T
72 108 540 684 C
96.5 517 515.5 662 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
379.36 574.03 385.18 563.54 374.68 569.35 377.02 571.69 4 Y
0 X
0 0 0 1 0 0 0 K
V
187.19 563.54 M
 223.19 599.54 223.19 599.54 241.19 608.54 D
 259.19 617.54 259.19 617.54 286.19 617.54 D
 313.19 617.54 313.19 617.54 331.19 608.54 D
 347.71 600.28 349.07 599.6 377.02 571.7 D
0.5 H
2 Z
N
275.81 607.54 293.81 624.54 R
7 X
V
0 X
N
414.97 574.03 420.81 563.54 410.3 569.34 412.64 571.68 4 Y
V
294.81 617.54 M
 363 617.54 366.61 617.54 412.67 571.68 D
N
1 12 Q
(?) 282.81 612.54 T
281.69 640.51 285 652.04 288.31 640.51 285 640.51 4 Y
11 X
V
285 625.04 285 640.51 2 L
N
163 562.13 449 562.13 2 L
10 X
N
0 10 Q
0 X
(T) 290 634.13 T
(o application) 295.41 634.13 T
(Packet forwarding) 251 596.13 T
(receive) 173 552.13 T
(transmit) 385 552.13 T
1 F
(MOSPF-speci\336c r) 227 568.13 T
(epr) 303.2 568.13 T
(esentation) 317.46 568.13 T
(Figur) 157 532 T
(e 12: MOSPF-speci\336c r) 180.71 532 T
(epr) 279.68 532 T
(esentation of internal gr) 293.94 532 T
(oup membership) 396.25 532 T
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "26" 26
%%Page: "27" 27
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 27]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(Mixing MOSPF routers with non-multicast routers creates a number of potential problems. Certain mixings of) 72 677.33 T
-0.09 (MOSPF and non-multicast routers can cause multicast datagrams to take suboptimal paths, or in other cases can lead) 72 665.33 P
(to the non-delivery of multicast datagrams. In addition, mixing MOSPF routers and non-multicast routers can cause) 72 653.33 T
-0.07 (the paths of multicast datagrams to diver) 72 641.33 P
-0.07 (ge radically from the path of unicast datagrams. Such diver) 234.16 641.33 P
-0.07 (gences can make) 469.96 641.33 P
(routing problems harder to debug.) 72 629.33 T
(In particular) 72 605.33 T
(, the following speci\336c dif) 120.75 605.33 T
(\336culties may arise when mixing MOSPF routers with non-multicast routers:) 225.84 605.33 T
(\245) 72 587.33 T
-0.31 (Even though there is unicast connectivity to a destination, there may not be multicast connectivity) 85.54 587.33 P
-0.31 (. For example, if) 472.38 587.33 P
(Router R) 85.54 575.33 T
(T10 in Figure 1 becomes a non-multicast router) 121.33 575.33 T
(, the group member connected to Network N1) 311.74 575.33 T
(1 will no) 495.22 575.33 T
-0.17 (longer be able to receive multicasts sourced by Host H2. But the two hosts will be able to exchange unicasts \050e.g.,) 85.54 563.33 P
(ICMP pings\051.) 85.54 551.33 T
(\245) 72 533.33 T
-0.27 (When the Designated Router for a multi-access network is a non-multicast router) 85.54 533.33 P
-0.27 (, the network will not be used for) 406.87 533.33 P
(forwarding multicast datagrams. For example, if in Figure 1 Router R) 85.54 521.33 T
(T4 is Designated Router for Network N3,) 363.8 521.33 T
(and R) 85.54 509.33 T
(T4 is non-multicast, Network N3 will not be used to forward IP multicasts. This would mean that multicast) 108.55 509.33 T
-0.01 (datagrams originated by Hosts H2 and H3 would not be forwarded beyond their local network \050N4\051, even though) 85.54 497.33 P
(it seems that the needed multicast connectivity exists.) 85.54 485.33 T
(\245) 72 467.33 T
(When forwarding multicast datagrams between areas, mixing of MOSPF routers and non-multicast routers in the) 85.54 467.33 T
(source area may cause unexpected loss of multicast connectivity) 85.54 455.33 T
(. This is because in the inter) 342.61 455.33 T
(-area routing of) 454.34 455.33 T
(multicast datagrams the neighborhood of the datagram\325) 85.54 443.33 T
(s source is approximated by OSPF summary links, and) 306.62 443.33 T
(OSPF summary-link-LSAs do not carry indications/guarantees of the summarized path\325) 85.54 431.33 T
(s multicast routing) 436.34 431.33 T
(capability) 85.54 419.33 T
(.) 124.33 419.33 T
1 12 Q
(6.2  T) 72 388 T
(OS-based multicast) 100.79 388 T
0 10 Q
-0.35 (MOSPF allows a separate datagram shortest-path tree to be built for each IP T) 72 363.33 P
-0.35 (ype of Service. This means that the path) 379.76 363.33 P
(of a multicast datagram can vary depending on the datagram\325) 72 351.33 T
(s T) 316.67 351.33 T
(OS classi\336cation, as well as its source and) 328.99 351.33 T
(destination.) 72 339.33 T
(For each router interface, OSPF allows a separate metric to be con\336gured for each IP T) 72 315.33 T
(OS. When building the) 420.62 315.33 T
(shortest path tree for T) 72 303.33 T
(OS X, the cost of a path is the sum of the component interfaces\325 T) 162.91 303.33 T
(OS X metrics. Note that) 427.41 303.33 T
(OSPF requires that a T) 72 291.33 T
(OS 0 metric be speci\336ed for each interface. However) 163.48 291.33 T
(, as a form of data compression, metrics) 375.51 291.33 T
(need only be speci\336ed for non-zero T) 72 279.33 T
(OS if they are dif) 221.78 279.33 T
(ferent than the T) 291.03 279.33 T
(OS 0 metric.) 357.22 279.33 T
(Additionally) 72 255.33 T
(, OSPF routers can be con\336gured to ignore T) 121.91 255.33 T
(OS when forwarding packets. Such routers, called T) 301.43 255.33 T
(OS-) 510.37 255.33 T
(incapable, build only the T) 72 243.33 T
(OS 0 portion of the routing table. T) 179.31 243.33 T
(OS-incapable routers can be mixed freely with T) 320.79 243.33 T
(OS-) 515.84 243.33 T
(capable routers when forwarding unicast packets. The way this is handled for unicast packets is that the unicast is) 72 231.33 T
(forwarded along the T) 72 219.33 T
(OS 0 route whenever the T) 160.96 219.33 T
(OS X route does not exist. However) 268.81 219.33 T
(, MOSPF must treat this) 413.11 219.33 T
(situation somewhat dif) 72 207.33 T
(ferently) 162.93 207.33 T
(, since each router must build the exact same tree rooted at the datagram\325) 193.38 207.33 T
(s source.) 484.98 207.33 T
-0.28 (Like OSPF) 72 183.33 P
-0.28 (, MOSPF allows T) 115.65 183.33 P
-0.28 (OS-based routing to be optional. T) 189.63 183.33 P
-0.28 (OS-capable and T) 326.92 183.33 P
-0.28 (OS-incapable multicast routers can) 398.38 183.33 P
(be mixed freely in the routing domain. T) 72 171.33 T
(OS-incapable routers will only ever build T) 234.58 171.33 T
(OS 0 datagram shortest-path) 408.82 171.33 T
(trees. T) 72 159.33 T
(OS-capable routers will \336rst build T) 101.81 159.33 T
(OS 0 datagram shortest-path trees. If these trees contain only T) 246.34 159.33 T
(OS-) 498.61 159.33 T
-0.29 (capable routers, datagram shortest-path trees are then built separately for non-zero T) 72 147.33 P
-0.29 (OS values. Otherwise, the T) 406.36 147.33 P
-0.29 (OS 0) 517.79 147.33 P
(datagram shortest-path tree is used to forward all traf) 72 135.33 T
(\336c, regardless of its T) 283.99 135.33 T
(OS designation. Using this logic, all) 370.74 135.33 T
(routers in essence continue to utilize identical datagram shortest-path trees. See Section 12.2.8 for more details.) 72 123.33 T
FMENDPAGE
%%EndPage: "27" 27
%%Page: "28" 28
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 28]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 12 Q
0 X
(6.3  Assigning multiple IP networks to a physical network) 72 676 T
0 10 Q
(Assigning multiple IP networks/subnets to a single physical network causes some confusion in MOSPF) 72 651.33 T
(. This is) 485.36 651.33 T
(because the underlying OSPF protocol treats these IP networks/subnets as entirely separate entities, originating) 72 639.33 T
(separate network-LSAs for each and forming separate adjacencies for each, while IGMP recognizes only the single) 72 627.33 T
-0.1 (underlying physical network. Adding to the problem is the fact that when a multicast datagram is received from such) 72 615.33 P
(a multiply-addressed physical wire, there is no good way to choose the datagram\325) 72 603.33 T
(s) 397.78 603.33 T
1 F
(upstr) 404.17 603.33 T
(eam node) 426.77 603.33 T
0 F
( \050which must be) 467.6 603.33 T
(done in order to make the forwarding decision; see Section 1) 72 591.33 T
(1 for details\051. As a result, unless this situation is dealt) 314.92 591.33 T
(with through con\336guration, unwanted replication of multicast datagrams may occur when they are forwarded over) 72 579.33 T
(multiply-addressed wires.) 72 567.33 T
(As a remedy) 72 543.33 T
(, MOSPF allows multicast forwarding to be disabled on certain IP networks/subnets. When multicast) 121.89 543.33 T
(forwarding is disabled on the wire\325) 72 531.33 T
(s \322extra\323 subnets \050i.e., all but one\051, the extra subnets will not appear in datagram) 211.7 531.33 T
(shortest-path trees, nor will they appear in local group database or forwarding cache entries. As a result, the) 72 519.33 T
(possibility of unwanted datagram replication is eliminated. The actual disabling of multicast forwarding on a subnet) 72 507.33 T
(is done through setting the) 72 495.33 T
1 F
(IPMulticastForwarding) 180.61 495.33 T
0 F
(parameter to) 284.77 495.33 T
1 F
(disabled) 337.53 495.33 T
0 F
( on all router interfaces connecting to the) 373.1 495.33 T
(subnet \050see Section B.2\051.) 72 483.33 T
1 12 Q
(6.4  Networks on Autonomous System boundaries) 72 452 T
0 10 Q
(Another complication can arise on IP networks/subnets that lie on the boundary of a MOSPF Autonomous System.) 72 427.33 T
(Similar to the unicast situation where these networks may be running multiple IGPs \050Interior Gateway Protocols\051,) 72 415.33 T
(these networks may also be running multiple multicast routing protocols. It may then become impossible for a) 72 403.33 T
(MOSPF router to determine whether a multicast datagram is being forwarded along the datagram shortest-path tree,) 72 391.33 T
-0.09 (or whether it has been inadvertently received from the other Autonomous System. Guessing wrong can lead to either) 72 379.33 P
(unwanted replication or non-delivery of the multicast datagram. In addition, in order to prevent receiving duplicate) 72 367.33 T
(multicast datagrams, group members on these boundary networks will probably want to declare their membership to) 72 355.33 T
(one Autonomous System and not another) 72 343.33 T
(.) 236.72 343.33 T
(For example, consider the two Autonomous Systems pictured in Figure 13. Network X is on the boundary of both) 72 319.33 T
-0.08 (ASes. One possible multicast datagram path is shown; the datagram originates in a third Autonomous System, and is) 72 307.33 P
(then delivered to both AS #1 and AS #2 separately) 72 295.33 T
(. The paths through the two Autonomous Systems may end up) 274.38 295.33 T
(having certain boundary networks as common segments. In Figure 13, Network X is common to both paths. In this) 72 283.33 T
-0.28 (case, if both Autonomous Systems were running \050separate copies of\051 MOSPF) 72 271.33 P
-0.28 (, the same datagram would appear twice) 378.66 271.33 P
(on Network X as a data-link multicast. This would cause duplicate datagrams to be received by any group members) 72 259.33 T
(on Network X or downstream from Network X.) 72 247.33 T
(MOSPF has two mechanisms to eliminate this replication of multicast datagrams. First, a system administrator can) 72 223.33 T
(con\336gure certain networks to forward multicast datagrams as data-link unicasts instead of data-link multicasts. This) 72 211.33 T
-0.26 (is done by setting the) 72 199.33 P
1 F
-0.26 (IPMulticastForwarding) 158.19 199.33 P
0 F
-0.26 ( parameter to) 259.85 199.33 P
1 F
-0.26 (data-link unicast) 314.33 199.33 P
0 F
-0.26 ( on those router interfaces attaching to) 386.03 199.33 P
-0.18 (the network \050see Section B.2\051. As an example, in Figure 13 the routers in AS #2 could be con\336gured so that Router C) 72 187.33 P
-0.01 (would send the multicast datagram out onto Network X as a data-link unicast addressed directly to Router D. Router) 72 175.33 P
(D would accept this data-link unicast, but would reject any data-link multicast forwarded by Router A. This would) 72 163.33 T
-0.1 (eliminate replication of multicast datagrams downstream from Network X. In addition, if the IPMulticastForwarding) 72 151.33 P
(parameter is set to data-link unicast on Network X, group membership will not be monitored on the network. This) 72 139.33 T
(will prevent group members attached directly to Network X from receiving multiple datagram copies, since group) 72 127.33 T
(membership on the boundary network will be monitored from only one AS \050AS #1 in our example\051.) 72 115.33 T
FMENDPAGE
%%EndPage: "28" 28
%%Page: "29" 29
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 29]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(It should be noted that forwarding IP multicasts as data-link unicasts has some disadvantages when three or more) 72 342.32 T
(MOSPF routers are attached to the network. First of all, it is more work for a router to send multiple unicasts than a) 72 330.32 T
-0.13 (single multicast. Second, the multiple unicasts consume more network bandwidth than a single multicast. And last, it) 72 318.32 P
(increases the delay for some group members since multiple unicasts also take longer to send than a single multicast.) 72 306.32 T
1 12 Q
(6.5  Recommended system con\336guration) 72 274.98 T
0 10 Q
(In order to make MOSPF\325) 72 250.32 T
(s selection of routes more predictable, it is recommended that all routers in any particular) 176.44 250.32 T
(OSPF area have the same multicast and T) 72 238.32 T
(OS capabilities.Keeping areas homogeneous ensures that IP multicast) 238.74 238.32 T
(packets will follow relatively the same path as IP unicasts. In contrast, while heterogeneous areas will function, and) 72 226.32 T
(will probably be necessary at least during the initial introduction of multicast routing, such areas may produce) 72 214.32 T
(seemingly sub-optimal and unexpected routes. For example, see Section 6.1 above for a detailed description of the) 72 202.32 T
(possible pitfalls when mixing multicast and non-multicast routers.) 72 190.32 T
(As for the other options presented above, to achieve the most predictable results it is recommended that a router) 72 166.32 T
(interface\325) 72 154.32 T
(s) 109.76 154.32 T
1 F
(IPMulticastForwarding) 116.15 154.32 T
0 F
(parameter be set to a value other than) 220.31 154.32 T
1 F
(data-link multicast) 372.49 154.32 T
0 F
( only when either a\051) 453.33 154.32 T
(multiple IP networks have been assigned to a single physical wire or b\051 multiple multicast routing protocols are) 72 142.32 T
(running on the attached network.) 72 130.32 T
72 108 540 684 C
72 348.98 540 684 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
70.88 348.98 541.12 684 R
7 X
0 0 0 1 0 0 0 K
V
125.72 628 M
 167.2 630.96 213.86 627.57 255.84 614.47 D
 272.94 609.14 290.09 586.79 284.48 563 D
 271.31 507.14 315.75 427.8 269.18 400.16 D
 217.96 369.77 164.76 387.42 113.34 381.33 D
6 X
V
0.5 H
2 Z
0 X
N
146.68 496.33 183.34 513.83 R
7 X
V
N
484.88 628 M
 444.61 640.28 395.59 637.59 355.01 611.68 D
 294.55 573.09 327.93 479.66 336.81 413 D
 342.76 368.35 394.9 359.73 434.18 360.95 D
 452.03 361.51 470.94 352.36 487.51 363.83 D
6 X
V
0 X
N
214.88 538 250.88 574 R
7 X
V
0 X
N
304.88 610 304.88 385 2 L
4 H
N
214.88 430 250.88 466 R
7 X
V
0.5 H
0 X
N
358.88 538 394.88 574 R
7 X
V
0 X
N
358.88 430 394.88 466 R
7 X
V
0 X
N
0 11 Q
(R) 221.45 553.34 T
(T) 228.13 553.34 T
(A) 233.97 553.34 T
(R) 222.51 444.67 T
(TB) 229.19 444.67 T
(R) 367.51 553 T
(TC) 374.19 553 T
(R) 365.84 444.67 T
(TD) 372.52 444.67 T
250.84 556.33 304.18 556.33 2 L
N
358.88 556 304.88 556 2 L
N
250.88 448 304.88 448 2 L
N
358.88 448 304.88 448 2 L
N
(AS #1) 153.34 502.17 T
423.34 488.83 456.68 505.5 R
7 X
V
N
0 X
(AS #2) 426.68 493 T
401.01 391.1 420.01 382.17 399.16 379.67 400.08 385.39 4 Y
11 X
V
391.68 638.83 M
 396.07 597.39 352.41 589.04 323.34 562.56 D
 301.84 542.97 315.6 496.34 322.53 457.17 D
 327.23 430.62 354.37 410.65 380.01 397.21 D
 386.8 393.64 393.29 388.74 400.08 385.37 D
3 H
N
208.39 407.73 187.51 405.5 204.04 418.46 206.21 413.09 4 Y
V
197.51 641.33 M
 189.19 619.51 203.92 589.34 228.34 583.92 D
 253.71 578.29 296.6 572.56 289.78 537.16 D
 283.04 502.2 312.83 447.38 279.18 439.31 D
 254.58 433.42 229.68 422.78 206.23 413.08 D
N
0 X
(Datagram Path) 261.68 627.17 T
215.36 631.15 204.17 635.5 215.96 637.73 215.66 634.44 4 Y
V
258.34 630.5 215.66 634.44 2 L
0.5 H
N
372.38 637.71 384.18 635.5 373 631.13 372.69 634.42 4 Y
V
330.84 630.5 372.69 634.42 2 L
N
1 10 Q
(Figur) 222.01 662 T
(e 13: Networks on AS boundaries) 245.72 662 T
0 11 Q
(Network X) 275.01 371 T
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "29" 29
%%Page: "30" 30
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 30]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 14 Q
0 X
(7  Basic implementation r) 72 674.67 T
(equir) 224.96 674.67 T
(ements) 256.6 674.67 T
0 10 Q
-0.34 (An implementation of MOSPF requires the following pieces of system support. Note that this support is in addition to) 72 649.33 P
(that required for the base OSPF implementation as outlined in Section 4.4 of [OSPF].) 72 637.33 T
(\245) 72 619.33 T
1 F
-0.26 (Pr) 85.54 619.33 P
-0.26 (omiscuous multicast r) 95.91 619.33 P
-0.26 (eception.) 188.53 619.33 P
0 F
-0.26 ( In a multicast router) 226.58 619.33 P
-0.26 (, it is necessary to receive all IP multicasts at the data-link) 308.45 619.33 P
(level. On those interfaces where IP multicast datagrams are encapsulated by a wide range of data-link multicast) 85.54 607.33 T
(destination addresses \050e.g, ethernet and FDDI\051, this is most easily accomplished by disabling any hardware) 85.54 595.33 T
(\336ltering of multicast destinations \050i.e., by \322opening up\323 the interface\325) 85.54 583.33 T
(s multicast \336lter\051.) 361.62 583.33 T
(\245) 72 565.33 T
1 F
(Data-link multicast/br) 85.54 565.33 T
(oadcast detection.) 180.64 565.33 T
0 F
( T) 256.74 565.33 T
(o avoid unwanted replication of multicast datagrams in certain) 264.65 565.33 T
-0.01 (exceptional conditions, it is necessary for the multicast router to determine whether a datagram was received as a) 85.54 553.33 P
(data-link multicast/broadcast or as a data-link unicast, for later use by the MOSPF forwarding mechanism. See) 85.54 541.33 T
(Section 6.4 for more details.) 85.54 529.33 T
(\245) 72 511.33 T
1 F
(An implementation of IGMP) 85.54 511.33 T
(.) 207.67 511.33 T
0 F
( MOSPF uses the Internet Group Management Protocol \050IGMP) 210.17 511.33 T
(, documented in) 462.37 511.33 T
([RFC 1) 85.54 499.33 T
(1) 114.9 499.33 T
(12]\051 to monitor multicast group membership. See Section 9 for details.) 119.53 499.33 T
1 14 Q
(8  Pr) 72 460.67 T
(otocol data structur) 100.52 460.67 T
(es) 218.47 460.67 T
0 10 Q
(The MOSPF protocol is described herein in terms of its operation on various protocol data structures. These data) 72 435.33 T
(structures are included for explanatory uses only) 72 423.33 T
(, and are not intended to constrain a MOSPF implementation.) 265.75 423.33 T
(Besides the data structures listed below) 72 411.33 T
(, this speci\336cation will also reference the various data structures \050e.g., OSPF) 228.83 411.33 T
(interfaces and neighbors\051 de\336ned in [OSPF].) 72 399.33 T
-0.08 (In a MOSPF router) 72 375.33 P
-0.08 (, the following items are added to the list of global OSPF data structures described in Section 5 of) 148.29 375.33 P
([OSPF]:) 72 363.33 T
(\245) 72 345.33 T
1 F
(Local gr) 85.54 345.33 T
(oup database.) 121.19 345.33 T
0 F
( This database describes the group membership on all attached networks for which the) 180.09 345.33 T
(router is either Designated Router or Backup Designated Router) 85.54 333.33 T
(. This in turn determines the group-membership-) 341.61 333.33 T
(LSAs that the router will originate, and the local delivery of multicast datagrams \050see Sections 2.3.1 and 10\051.) 85.54 321.33 T
(\245) 72 303.33 T
1 F
(Forwarding cache.) 85.54 303.33 T
0 F
( Each entry in the forwarding cache describes the path of a multicast datagram having a) 165.53 303.33 T
-0.12 (particular [source net, multicast destination, T) 85.54 291.33 P
-0.12 (OS] combination. These cache entries are calculated when building) 268.9 291.33 P
(the datagram shortest-path trees. See Sections 2.3.4 and 1) 85.54 279.33 T
(1 for more details.) 315.41 279.33 T
(\245) 72 261.33 T
1 F
(Multicast r) 85.54 261.33 T
(outing capability) 132.85 261.33 T
(.) 204.26 261.33 T
0 F
( Indicates whether the router is running the multicast extensions de\336ned in this) 206.76 261.33 T
(memo. A router running the multicast extensions must still run the base OSPF algorithm as set forth in [OSPF].) 85.54 249.33 T
(Such a router will continue to interoperate with non-multicast-capable OSPF routers when forwarding IP unicast) 85.54 237.33 T
(traf) 85.54 225.33 T
(\336c.) 99.24 225.33 T
(\245) 72 207.33 T
1 F
(Inter) 85.54 207.33 T
(-ar) 106.83 207.33 T
(ea multicast forwarder) 119.42 207.33 T
(.) 216.25 207.33 T
0 F
( Indicates whether the router will forward IP multicasts from one OSPF area to) 218.75 207.33 T
(another) 85.54 195.33 T
(. Such a router declares itself a wild-card multicast receiver in its non-backbone area router) 114.98 195.33 T
(-LSAs \050see) 479.39 195.33 T
(Section 14.6\051, and also summarizes its attached areas\325 group membership to the backbone in group-membership-) 85.54 183.33 T
(LSAs. When building inter) 85.54 171.33 T
(-area datagram shortest-path trees, it is these routers that appear immediately adjacent) 193.67 171.33 T
(to the datagram source at the root of the tree \050see Section 3.2\051. Not all multicast-capable area border routers need) 85.54 159.33 T
(be con\336gured as inter) 85.54 147.33 T
(-area multicast forwarders. However) 171.71 147.33 T
(, whenever both ends of a virtual link are multicast-) 317.92 147.33 T
(capable, they must both be con\336gured as inter) 85.54 135.33 T
(-area multicast forwarders \050see Section 14.1) 269.2 135.33 T
(1\051.) 444.89 135.33 T
FMENDPAGE
%%EndPage: "30" 30
%%Page: "31" 31
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 31]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(\245) 72 677.33 T
1 F
(Inter) 85.54 677.33 T
(-AS multicast forwarder) 106.83 677.33 T
(.) 210.33 677.33 T
0 F
( Indicates whether the router will forward IP multicasts between Autonomous) 212.83 677.33 T
(Systems. Such a router declares itself a wild-card multicast receiver in its router) 85.54 665.33 T
(-LSAs \050see Section 14.6\051. These) 405 665.33 T
(routers are also assumed to be running some kind of inter) 85.54 653.33 T
(-AS multicast protocol. They mark all external routes) 314.75 653.33 T
-0.37 (that they import into the OSPF domain as to whether they provide multicast connectivity \050see Section 14.9\051. When) 85.54 641.33 P
(building inter) 85.54 629.33 T
(-AS multicast datagram trees, it is these routers that appear immediately adjacent to the datagram) 139.51 629.33 T
(source at the root of the tree.) 85.54 617.33 T
1 12 Q
(8.1  Additions to the OSPF ar) 72 586 T
(ea structur) 222.79 586 T
(e) 278.89 586 T
0 10 Q
-0.12 (The OSPF area data structure is described in Section 6 of [OSPF]. In a MOSPF router) 72 561.33 P
-0.12 (, the following item is added to) 413.63 561.33 P
(the OSPF area structure:) 72 549.33 T
(\245) 72 531.33 T
1 F
(List of gr) 85.54 531.33 T
(oup-membership-LSAs.) 124.8 531.33 T
0 F
( These link state advertisements describe the location of the area\325) 226.75 531.33 T
(s multicast) 487.25 531.33 T
(group members. Group-membership-LSAs are \337ooded throughout a single area only) 85.54 519.33 T
(. Area border routers also) 423.17 519.33 T
-0.16 (summarize their attached areas\325 membership by originating group-membership-LSAs into the backbone area. For) 85.54 507.33 P
(more information, see Sections 3.1 and 10.) 85.54 495.33 T
1 12 Q
(8.2  Additions to the OSPF interface structur) 72 464 T
(e) 301.76 464 T
0 10 Q
-0.05 (The OSPF interface structure is described in Section 9 of [OSPF]. In a MOSPF router) 72 439.33 P
-0.05 (, the following items are added) 413.93 439.33 P
-0.18 (to the OSPF interface structure. Note that the IPMulticastForwarding parameter is really a description of the attached) 72 427.33 P
(network. As such, it should be con\336gured identically on all routers attached to a common network; otherwise) 72 415.33 T
(incorrect routing of multicast datagrams may result) 72 403.33 T
0 8 Q
(13) 276.97 407.33 T
0 10 Q
(.) 284.97 403.33 T
(\245) 72 385.33 T
1 F
(IPMulticastForwarding.) 85.54 385.33 T
0 F
( This con\336gurable parameter indicates whether IP multicasts should be forwarded over) 189.7 385.33 T
(the attached network, and if so, how the forwarding should be done. The parameter can assume one of three) 85.54 373.33 T
(possible values:) 85.54 361.33 T
1 F
(disabled) 151.65 361.33 T
0 F
(,) 187.22 361.33 T
1 F
(data-link multicast) 192.22 361.33 T
0 F
( and) 273.06 361.33 T
1 F
(data-link unicast) 292.5 361.33 T
0 F
(. When set to disabled, IP multicast) 364.46 361.33 T
-0.12 (datagrams will not be forwarded out the interface. When set to data-link multicast, IP multicast datagrams will be) 85.54 349.33 P
-0.24 (forwarded as data-link multicasts. When set to data-link unicast, IP multicast datagrams will be forwarded as data-) 85.54 337.33 P
(link unicasts. The default value for this parameter is data-link multicast. The other two settings are for use in the) 85.54 325.33 T
-0.21 (special circumstances described in Sections 6.3 and 6.4. When set to disabled or to data-link unicast, IGMP group) 85.54 313.33 P
(membership is not monitored on the attached network.) 85.54 301.33 T
(\245) 72 283.33 T
1 F
(IGMPPollingInterval.) 85.54 283.33 T
0 F
(When the router is actively monitoring group membership on the attached network, it) 182.21 283.33 T
(periodically sends IGMP Host Membership Queries. IGMPPollingInterval is a con\336gurable parameter indicating) 85.54 271.33 T
(the number of seconds between IGMP Host Membership Queries. The router actively monitors group) 85.54 259.33 T
-0.05 (membership on the attached network when both a\051 the interface\325) 85.54 247.33 P
-0.05 (s IPMulticastForwarding parameter is set to data-) 342.54 247.33 P
(link multicast and b\051 the router has been elected Designated Router on the attached network. See Section 9 for) 85.54 235.33 T
(details.) 85.54 223.33 T
(\245) 72 205.33 T
1 F
-0.04 (IGMPT) 85.54 205.33 P
-0.04 (imeout.) 119.25 205.33 P
0 F
-0.04 (This con\336gurable parameter indicates the length of time \050in seconds\051 that a local group database) 153.65 205.33 P
(entry associated with this interface will persist without another matching IGMP Host Membership Report being) 85.54 193.33 T
(received. See Section 9 for details.) 85.54 181.33 T
72 129 540 149.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 136.99 203.98 136.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(13.  Synchronization of the IPMulticastForwarding interface parameter is not enforced by the MOSPF protocol, since it is not included in the) 72 123.67 T
(contents of a MOSPF router) 72 114.67 T
(\325) 162.51 114.67 T
(s Hello packets.) 164.74 114.67 T
FMENDPAGE
%%EndPage: "31" 31
%%Page: "32" 32
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 32]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(\245) 72 677.33 T
1 F
-0.1 (IGMP polling timer) 85.54 677.33 P
-0.1 (.) 169.41 677.33 P
0 F
-0.1 (The \336ring of this interval timer causes an IGMP Host Membership Query to be sent out the) 174.3 677.33 P
(interface. The length of this timer is the con\336gurable parameter IGMPPollingInterval.) 85.54 665.33 T
(See Section 9 for details) 431.32 665.33 T
2 F
(.) 528.53 665.33 T
1 12 Q
(8.3  Additions to the OSPF neighbor structur) 72 634 T
(e) 302.46 634 T
0 10 Q
(The OSPF neighbor structure is de\336ned in Section 10 of [OSPF]. In a MOSPF router) 72 609.33 T
(, the following items are added) 411.31 609.33 T
(to the OSPF neighbor structure:) 72 597.33 T
(\245) 72 579.33 T
1 F
-0.05 (Neighbor Options.) 85.54 579.33 P
0 F
-0.05 ( This \336eld was already de\336ned in the OSPF speci\336cation. However) 164.38 579.33 P
-0.05 (, in MOSPF there is a new) 432.04 579.33 P
(option which indicates the neighbor) 85.54 567.33 T
(\325) 229.23 567.33 T
(s multicast capability) 232.01 567.33 T
(. This new option is learned in the Database Exchange) 316.36 567.33 T
(process through reception of the neighbor) 85.54 555.33 T
(\325) 252.82 555.33 T
(s Database Description packets, and determines whether group-) 255.6 555.33 T
(membership-LSAs are \337ooded to the neighbor) 85.54 543.33 T
(. See the items concerning \337ooding in Section 14 for a more) 270.8 543.33 T
(detailed explanation.) 85.54 531.33 T
1 12 Q
(8.4  The local gr) 72 500 T
(oup database) 154.12 500 T
0 10 Q
(The local group database has already been introduced in Section 2.3.1. The current section attempts a more precise) 72 475.33 T
-0.35 (de\336nition. The local group database tracks the group membership of the router) 72 463.33 P
-0.35 (\325) 382.9 463.33 P
-0.35 (s directly attached networks. Database) 385.68 463.33 P
-0.03 (entries are created and maintained by the IGMP protocol. Database entries can cause group-membership-LSAs to be) 72 451.33 P
(originated, which in turn enable the pruning of datagram shortest-path trees. The local group database also dictates) 72 439.33 T
(the router) 72 427.33 T
(\325) 110.97 427.33 T
(s responsibility for the delivery of multicast datagrams to directly attached group members.) 113.75 427.33 T
(Each entry in the local group database has three components: the multicast group, the attached network and the) 72 403.33 T
(entry\325) 72 391.33 T
(s age. A database entry is indexed by the \336rst two components: multicast group and attached network. A) 95.33 391.33 T
(database lookup function is assumed to exist, so that given a [multicast group, attached network] pair) 72 379.33 T
(, the matching) 476.27 379.33 T
-0.03 (database entry \050if any\051 can be discovered. A database entry for [Group A, Network N1] exists if and only if there are) 72 367.33 P
(Group A members currently located on Network N1.) 72 355.33 T
(The three components of a local group database entry are de\336ned as follows:) 72 331.33 T
(\245) 72 313.33 T
1 F
(MulticastGr) 85.54 313.33 T
(oup) 138.13 313.33 T
0 F
(. The multicast group whose members are being tracked by this entry) 154.25 313.33 T
(. Each multicast group is) 430.22 313.33 T
(represented as a class D IP address. For the semantics of multicast group membership, see [RFC 1) 85.54 301.33 T
(1) 477.89 301.33 T
(12].) 482.52 301.33 T
(\245) 72 283.33 T
1 F
(AttachedNetwork.) 85.54 283.33 T
0 F
(Each database entry is concerned with the group members belonging to a single attached) 166.63 283.33 T
(network. T) 85.54 271.33 T
(o get a complete picture of the local group membership \050when for example building a group-) 128.72 271.33 T
-0.01 (membership-LSA\051, it may be necessary to consult multiple database entries, one for each attached network. Note) 85.54 259.33 P
(that a router is only required to maintain entries for those attached networks on which the router has been elected) 85.54 247.33 T
(Designated Router or Backup Designated Router \050see Section 9\051.) 85.54 235.33 T
(\245) 72 217.33 T
1 F
(Age.) 85.54 217.33 T
0 F
( Indicates the number of seconds since an IGMP Host Membership Report for multicast Group A has been) 104.7 217.33 T
-0.35 (seen on Network N1. If the age \336eld hits Network N1\325) 85.54 205.33 P
-0.35 (s con\336gured) 299.45 205.33 P
1 F
-0.35 (IGMPT) 350.4 205.33 P
-0.35 (imeout) 384.11 205.33 P
0 F
-0.35 ( value, the local group database) 413.55 205.33 P
(entry is removed \050i.e., the entry has \322aged out\323\051. See Sections 9.2 and 9.3 for more information.) 85.54 193.33 T
1 12 Q
(8.5  The forwarding cache) 72 162 T
0 10 Q
-0.21 (The forwarding cache has already been de\336ned in Section 2.3. The current section attempts a more precise de\336nition.) 72 137.33 P
(Each entry in the forwarding cache indicates how a multicast datagram having a particular [source network,) 72 125.33 T
FMENDPAGE
%%EndPage: "32" 32
%%Page: "33" 33
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 33]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(destination multicast group, IP T) 72 677.33 T
(OS] will be forwarded. A forwarding cache entry is built on demand from the local) 203.21 677.33 T
(group database and the datagram\325) 72 665.33 T
(s shortest-path tree. For more details, consult Sections 2.3.4 and 12.) 206.41 665.33 T
(Each entry in the forwarding cache has six components: the multicast datagram\325) 72 641.33 T
(s source network, the destination) 392.22 641.33 T
-0.21 (multicast group, the IP T) 72 629.33 P
-0.21 (OS, the upstream node, the list of downstream interfaces and \050possibly\051 a list of downstream) 170.7 629.33 P
(neighbors. A forwarding cache entry is indexed by source network, destination multicast group and IP T) 72 617.33 T
(OS. A) 489.25 617.33 T
(lookup function is assumed to exist, so that given a multicast datagram with a particular [IP source, destination) 72 605.33 T
(multicast group, IP T) 72 593.33 T
(OS], a matching cache entry \050if any\051 can be found.) 156.82 593.33 T
(The six components of a forwarding cache entry are de\336ned as follows:) 72 569.33 T
(\245) 72 551.33 T
1 F
(Sour) 85.54 551.33 T
(ce network) 105.92 551.33 T
0 F
(. The datagram\325) 152.85 551.33 T
(s source network is described by a network/subnet/supernet number and its) 215.89 551.33 T
(corresponding mask. The source network for a datagram is discovered via a routing table/database lookup of the) 85.54 539.33 T
(datagram\325) 85.54 527.33 T
(s IP source address, as described in Section 1) 125.53 527.33 T
(1.2.) 305.96 527.33 T
(\245) 72 509.33 T
1 F
(Destination multicast gr) 85.54 509.33 T
(oup) 188.13 509.33 T
0 F
(. The destination group to which matching datagrams are being forwarded. For the) 204.25 509.33 T
(semantics of multicast group membership, see [RFC 1) 85.54 497.33 T
(1) 302.38 497.33 T
(12].) 307.01 497.33 T
(\245) 72 479.33 T
1 F
(IP T) 85.54 479.33 T
(OS.) 104.53 479.33 T
0 F
( The IP T) 120.37 479.33 T
(ype of Service speci\336ed by matching datagrams. Note that this means that the path of the) 157.72 479.33 T
(multicast datagram depends on its T) 85.54 467.33 T
(OS classi\336cation.) 230.07 467.33 T
(\245) 72 449.33 T
1 F
-0.26 (Upstr) 85.54 449.33 P
-0.26 (eam node.) 109.8 449.33 P
0 F
-0.26 ( The attached network/neighboring router from which the datagram must be received. If received) 152.87 449.33 P
(from a dif) 85.54 437.33 T
(ferent attached network/neighboring router) 125.35 437.33 T
(, the matching datagram is dropped instead of forwarded.) 296.85 437.33 T
(This prevents unwanted replication of multicast datagrams. It is possible that the upstream node is unspeci\336ed) 85.54 425.33 T
(\050i.e., set to NULL\051. In this case, matching datagrams will always be dropped, no matter where they are received) 85.54 413.33 T
(from. It is also possible that the upstream node is speci\336ed as the placeholder EXTERNAL. This means that the) 85.54 401.33 T
(datagram must be received on a non-MOSPF interface in order to be forwarded.) 85.54 389.33 T
(\245) 72 371.33 T
1 F
(List of downstr) 85.54 371.33 T
(eam interfaces.) 150.36 371.33 T
0 F
(These are the router interfaces that the matching datagram should be forwarded) 217.28 371.33 T
(out of \050assuming that the datagram was received from) 85.54 359.33 T
2 F
(upstr) 303.55 359.33 T
(eam node) 323.74 359.33 T
0 F
(\051. Each interface is also listed with a) 362.34 359.33 T
1 F
(TTL) 509.81 359.33 T
0 F
(value.) 85.54 347.33 T
(The TTL value is the minimum number of hops necessary to reach the closest \050in terms of router hops\051) 112.2 347.33 T
(group member) 85.54 335.33 T
(. This allows the router to drop datagrams that have no chance of reaching a destination group) 143.59 335.33 T
(member) 85.54 323.33 T
(.) 117.76 323.33 T
(\245) 72 305.33 T
1 F
-0.33 (List of downstr) 85.54 305.33 P
-0.33 (eam neighbors.) 149.7 305.33 P
0 F
-0.33 ( When the datagram is to be forwarded out a non-broadcast multi-access network,) 214.37 305.33 P
(or if the interface\325) 85.54 293.33 T
(s IPMulticastForwarding parameter is set to data-link unicast, the datagram must be forwarded) 157.46 293.33 T
(separately to each downstream neighbor \050see Sections 2.3.3 and 6.4\051. As done for downstream interfaces, each) 85.54 281.33 T
(downstream neighbor is speci\336ed together with the smallest) 85.54 269.33 T
1 F
(TTL) 327.74 269.33 T
0 F
( that will actually reach a group member) 347.75 269.33 T
(.) 509.11 269.33 T
1 14 Q
(9  Interaction with the IGMP pr) 72 230.67 T
(otocol) 263.84 230.67 T
0 10 Q
(MOSPF uses the IGMP protocol \050see [RFC 1) 72 205.33 T
(1) 253.02 205.33 T
(12]\051 to monitor multicast group membership. In short, the Designated) 257.65 205.33 T
-0.26 (Router on a network periodically sends IGMP Host Membership Queries \050see Section 9.1\051, which in turn elicit IGMP) 72 193.33 P
(Host Membership Reports from the network\325) 72 181.33 T
(s multicast group members. These Host Membership Reports are then) 252.26 181.33 T
(recorded in the Designated Router) 72 169.33 T
(\325) 209.56 169.33 T
(s and Backup Designated Router) 212.34 169.33 T
(\325) 343.8 169.33 T
(s) 346.58 169.33 T
1 F
(local gr) 352.97 169.33 T
(oup databases) 384.73 169.33 T
0 F
( \050see Section 9.2\051.) 445.02 169.33 T
FMENDPAGE
%%EndPage: "33" 33
%%Page: "34" 34
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 34]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 12 Q
0 X
(9.1  Sending IGMP Host Membership Queries) 72 676 T
0 10 Q
(Only the network\325) 72 651.33 T
(s Designated Router sends Host Membership Queries. This minimizes the amount of group) 144.77 651.33 T
(membership information on the network, both in terms of queries and responses.) 72 639.33 T
(When a MOSPF router becomes Designated Router on a network, it checks to see that the network\325) 72 615.33 T
(s) 469.99 615.33 T
1 F
-0.34 (IPMulticastForwarding) 72 603.33 P
0 F
-0.34 ( parameter is set to data-link multicast \050see Section B.2\051. If so, it starts the interface\325) 173.66 603.33 P
-0.34 (s) 504.58 603.33 P
1 F
-0.34 (IGMP) 510.62 603.33 P
(polling timer) 72 591.33 T
0 F
(. Then, whenever the timer \336res \050every) 126.73 591.33 T
1 F
(IGMPPollingInterval) 284.74 591.33 T
0 F
( seconds\051, the MOSPF router sends a) 376.41 591.33 T
-0.03 (Host Membership Query out the interface. The destination of the query is the IP address 224.0.0.1. For the format of) 72 579.33 P
(the query) 72 567.33 T
(, see [RFC 1) 108.84 567.33 T
(1) 158.47 567.33 T
(12]. If/when the MOSPF router ceases to be the network\325) 163.1 567.33 T
(s Designated Router) 391.95 567.33 T
(, the IGMP) 472.65 567.33 T
(polling timer is disabled and no more Hosts Membership Queries are sent.) 72 555.33 T
-0.34 (Unusual behavior can result when multiple IP networks are assigned to a single physical network. MOSPF treats each) 72 531.33 P
(such IP network separately) 72 519.33 T
(, electing \050possibly\051 a dif) 179.38 519.33 T
(ferent Designated Router for each network. However) 278.91 519.33 T
(, IGMP) 490.94 519.33 T
(operates on a physical network basis only: when a Host Membership Query is sent, all group members on the) 72 507.33 T
-0.26 (physical network respond, regardless of their IP addresses. So unless the) 72 495.33 P
1 F
-0.26 (IPMulticastForwarding) 361.6 495.33 P
0 F
-0.26 ( parameter is set to) 463.26 495.33 P
(a value other than data-link multicast on all but one of the physical network\325) 72 483.33 T
(s IP networks, excess multicast) 377.24 483.33 T
(membership reporting will result.) 72 471.33 T
1 12 Q
(9.2  Receiving IGMP Host Membership Reports) 72 440 T
0 10 Q
-0.04 (Received Host Membership Reports are processed by both the network\325) 72 415.33 P
-0.04 (s Designated Router and Backup Designated) 359.13 415.33 P
(Router) 72 403.33 T
(. It is the Designated Router) 98.67 403.33 T
(\325) 211.25 403.33 T
(s responsibility to distribute the network\325) 214.03 403.33 T
(s group membership information) 378.2 403.33 T
(throughout the routing domain, by originating group-membership-LSAs \050see Section 10\051. The Backup Designated) 72 391.33 T
(Router processes Reports so that it too has a complete picture of the network\325) 72 379.33 T
(s group membership, enabling a quick) 381.68 379.33 T
(cutover upon Designated Router failure.) 72 367.33 T
(An IGMP Host Membership Report concerns membership in a single IP multicast group \050call it Group A\051. The) 72 343.33 T
(Report is sent to the Group A address so that other group members may see the Report and avoid sending duplicates) 72 331.33 T
(\050see [RFC 1) 72 319.33 T
(1) 119.96 319.33 T
(12] for details\051. When an IGMP Host Membership Report, sent on Network N) 124.59 319.33 T
0 8 Q
(14) 437.32 323.33 T
0 10 Q
(, is received by a) 445.32 319.33 T
(MOSPF router) 72 307.33 T
(, the following steps are executed:) 130.77 307.33 T
(1.) 72 289.33 T
(If the router is neither the Designated Router nor the Backup Designated Router on the network, the Report is) 85.54 289.33 T
(discarded and processing stops.) 85.54 277.33 T
(2.) 72 259.33 T
(If the Report concerns a multicast group in the range 224.0.0.1 - 224.0.0.255, the Report is discarded and) 85.54 259.33 T
(processing stops. This range of multicast groups are for local use \050single hop\051 only) 85.54 247.33 T
(, and datagrams sent to these) 415.4 247.33 T
(destinations are never forwarded by multicast routers.) 85.54 235.33 T
(3.) 72 217.33 T
-0.29 (Locate the entry for [Group A, Network N] in the) 85.54 217.33 P
1 F
-0.29 (local gr) 283.42 217.33 P
-0.29 (oup database) 314.89 217.33 P
0 F
-0.29 (. If no such entry exists, create one. In any) 371 217.33 P
-0.27 (case, set the age of the entry to 0. Note that even if multiple hosts attached to Network N report membership in the) 85.54 205.33 P
(same group, only a single local group database entry will be formed. See Section 8.4 for more details concerning) 85.54 193.33 T
(the local group database.) 85.54 181.33 T
72 138 540 158.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 145.99 203.98 145.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
-0.21 (14.  Actually) 72 132.67 P
-0.21 (, when multiple IP networks have been assigned to the same physical network, the \336rst thing that needs to be done is to associate an IP) 112.61 132.67 P
-0.14 (network with the received Host Membership Report. This is done in the same way that a receiving interface is associated with a received multicast) 72 123.67 P
(datagram; see Section 1) 72 114.67 T
(1.1.) 147.91 114.67 T
FMENDPAGE
%%EndPage: "34" 34
%%Page: "35" 35
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 35]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(4.) 72 677.33 T
-0.25 (If the router is the network\325) 85.54 677.33 P
-0.25 (s Designated Router) 193.98 677.33 P
-0.25 (, and a local group database entry was created in the previous step,) 274.17 677.33 P
(it may be necessary to originate a new group-membership-LSA. See Section 10 for details.) 85.54 665.33 T
1 12 Q
(9.3  Aging local gr) 72 634 T
(oup database entries) 164.78 634 T
0 10 Q
(Every local database entry has an age \336eld. Suppose that there is a database entry for [Group A, Network N1]. The) 72 609.33 T
(age \336eld then indicates the length of time \050in seconds\051 since the last Host Membership Report for Group A was) 72 597.33 T
(received on Network N1. If the age of the entry reaches Network N1\325) 72 585.33 T
(s con\336gured IGMPT) 349.41 585.33 T
(imeout value \050see Section) 431.83 585.33 T
(B.2\051, the entry is considered invalid and is removed from the database.) 72 573.33 T
-0.15 (Note that when a router) 72 549.33 P
-0.15 (, after having been either Network N1\325) 165.4 549.33 P
-0.15 (s Designated Router or Backup Designated Router) 319.16 549.33 P
-0.15 (, but) 520.03 549.33 P
(now being neither) 72 537.33 T
(, will \050after IGMPT) 143.81 537.33 T
(imeout seconds\051 automatically age out all of its local group database entries) 221.78 537.33 T
(associated with Network N1. For this reason, it is not necessary to pur) 72 525.33 T
(ge local group database entries on OSPF) 352.34 525.33 T
(interface state changes.) 72 513.33 T
1 12 Q
(9.4  Receiving IGMP Host Membership Queries) 72 482 T
0 10 Q
(If a MOSPF router has internal multicast applications, and if the applications have bound themselves to certain) 72 457.33 T
(interfaces \050using the RFC 1) 72 445.33 T
(1) 181.62 445.33 T
(12 representation described in Section 5\051, then the MOSPF router responds to received) 186.25 445.33 T
-0.02 (Host Membership Queries by issuing Host Membership Reports. Identical to the operation of any IP host supporting) 72 433.33 P
(multicast applications, the exact procedure for issuing these Host Membership Reports is speci\336ed in [RFC 1) 72 421.33 T
(1) 508.26 421.33 T
(12].) 512.89 421.33 T
(Note that in this case, if the router has been elected Designated Router on a network, it must receive its own Host) 72 409.33 T
(Membership Reports and Host Membership Queries.) 72 397.33 T
(If instead all of its applications have joined groups in an interface-independent fashion \050using the MOSPF-speci\336c) 72 373.33 T
-0.25 (representation described in Section 5\051, the MOSPF router does not respond to Host Membership Queries. Instead, the) 72 361.33 P
-0.25 (MOSPF router communicates this membership information by originating appropriate group-membership-LSAs \050see) 72 349.33 P
(Section 10.1\051.) 72 337.33 T
1 14 Q
(10  Gr) 72 298.67 T
(oup-membership-LSAs) 109.86 298.67 T
0 10 Q
-0.3 (Group-membership-LSAs provide the means of distributing membership information throughout the MOSPF routing) 72 273.33 P
(domain. Group-membership-LSAs are speci\336c to a single OSPF area \050see Section 3.1\051. Each group-membership-) 72 261.33 T
(LSA concerns a single multicast group. Essentially) 72 249.33 T
(, the group-membership-LSA lists those networks which are) 275.5 249.33 T
(directly connected to the LSA) 72 237.33 T
(\325) 190.87 237.33 T
(s originator and which contain one or more group members. For more details on how) 193.65 237.33 T
(the group-membership-LSA augments the OSPF link state database, see Section 2.3.1.) 72 225.33 T
(The creation of group-membership-LSAs is discussed in Section 10.1. The format of the group-membership-LSA is) 72 201.33 T
(described in Section A.3. A router will originate a group membership-LSA for multicast group A when one or more) 72 189.33 T
(of the following conditions hold:) 72 177.33 T
(1.) 72 159.33 T
(The router is Designated Router on a network \050call it Network X\051, the interface to Network X has its) 85.54 159.33 T
(IPMulticastForwarding parameter set to data-link multicast \050see Section B.2\051, and Network X contains one or) 85.54 147.33 T
(more members of Group A.) 85.54 135.33 T
FMENDPAGE
%%EndPage: "35" 35
%%Page: "36" 36
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 36]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(2.) 72 677.33 T
(The router is an inter) 85.54 677.33 T
(-area multicast forwarder \050see Section B.1\051, and one or more of the router) 169.21 677.33 T
(\325) 463.93 677.33 T
(s attached non-) 466.71 677.33 T
(backbone areas contain Group A members. In this case, the router will originate a group-membership-LSA for) 85.54 665.33 T
(Group A into the backbone. This is the way group membership is conveyed between areas \050see Section 3.1\051.) 85.54 653.33 T
(3.) 72 635.33 T
-0.12 (The router itself has applications that are requesting membership in Group A, in an interface-independent fashion) 85.54 635.33 P
(\050see Section 5\051.) 85.54 623.33 T
(As for all other types of OSPF link state advertisements \050e.g, router) 72 599.33 T
(-LSAs, network-LSAs, etc.\051, group-membership-) 341.49 599.33 T
(LSAs are aged as they are held in a router) 72 587.33 T
(\325) 239.82 587.33 T
(s link state database. T) 242.6 587.33 T
(o prevent valid advertisements from \322aging out\323, a) 332.72 587.33 T
-0.25 (router must refresh its self-originated group-membership-LSAs every LSRefreshT) 72 575.33 P
-0.25 (ime interval, by incrementing their) 399.58 575.33 P
(LS sequence numbers and reissuing them. In addition, when an event occurs that would alter one of the router) 72 563.33 T
(\325) 512.29 563.33 T
(s self-) 515.07 563.33 T
-0.2 (originated group-membership-LSAs, a new instance of the LSA is issued with an updated \050i.e., incremented by 1\051 LS) 72 551.33 P
-0.31 (sequence number) 72 539.33 P
-0.31 (. Note however that a router is not allowed to originate two new instances of the same advertisement) 140.85 539.33 P
(within MinLSInterval seconds. For that reason, occasionally advertisement originations will need to be deferred.) 72 527.33 T
(Also, an event may occur that makes it inappropriate for the router to continue to originate a particular LSA. In that) 72 515.33 T
(case, the router \337ushes the advertisement from the routing domain by \322premature aging\323. For more information) 72 503.33 T
(concerning the maintenance of LSAs, see Sections 12, 12.4, 14 and 14.1 of [OSPF].) 72 491.33 T
(When one of the following events occurs, it may be necessary for a router to \050re\051issue one or more group-) 72 467.33 T
(membership-LSAs:) 72 455.33 T
(1.) 72 437.33 T
(One of the router) 85.54 437.33 T
(\325) 154.5 437.33 T
(s interfaces changes state. For example, the router may have become Designated Router on a) 157.28 437.33 T
(particular network, causing the router to start advertising the network\325) 85.54 425.33 T
(s group membership to the rest of the) 365.49 425.33 T
(MOSPF system in group-membership-LSAs.) 85.54 413.33 T
(2.) 72 395.33 T
(The router receives an IGMP Host Membership Report, causing a new local group database entry to be formed) 85.54 395.33 T
(\050see Section 9.2\051.) 85.54 383.33 T
(3.) 72 365.33 T
(One of the router) 85.54 365.33 T
(\325) 154.5 365.33 T
(s local group database entries \322ages out\323, because it is no longer being refreshed by received) 157.28 365.33 T
(IGMP Host Membership Reports \050see Section 9.3\051.) 85.54 353.33 T
(4.) 72 335.33 T
(The router is an inter) 85.54 335.33 T
(-area multicast forwarder) 169.21 335.33 T
(, and the group membership of one of the router) 269.88 335.33 T
(\325) 461.88 335.33 T
(s attached non-) 464.66 335.33 T
(backbone areas changes. This is detected by the reception of a new) 85.54 323.33 T
(, or the \337ushing of an old, group-membership-) 352.59 323.33 T
(LSA into/from the non-backbone area\325) 85.54 311.33 T
(s link state database.) 240.51 311.33 T
(5.) 72 293.33 T
(The group membership of one of the router) 85.54 293.33 T
(\325) 258.93 293.33 T
(s internal applications changes.) 261.71 293.33 T
1 12 Q
(10.1  Constructing gr) 72 262 T
(oup-membership-LSAs) 180.44 262 T
0 10 Q
-0.07 (This section details how to build a group-membership-LSA. The format of a group-membership-LSA is described in) 72 237.33 P
-0.11 (Section A.3. Each group-membership-LSA concerns a single multicast group. The body of the advertisement is a list) 72 225.33 P
-0.28 (of the local transit nodes \050the router itself and directly attached transit networks\051 that contain group members. Section) 72 213.33 P
(10 listed the conditions requiring the \050re\051origination of a group-membership-LSA. Note that if the router is an area) 72 201.33 T
(border router) 72 189.33 T
(, it may be necessary to originate a separate group-membership-LSA for each attached area.) 124.08 189.33 T
-0.35 (The following de\336nes the contents of a group-membership-LSA, as originated by Router X into Area A. It is assumed) 72 165.33 P
(that the group-membership-LSA is to report membership in multicast group G:) 72 153.33 T
(\245) 72 135.33 T
-0.15 (The advertisement \336elds that are not type-speci\336c \050) 85.54 135.33 P
1 F
-0.15 (LS age) 289.71 135.33 P
0 F
-0.15 (,) 318.72 135.33 P
1 F
-0.15 (LS sequence number) 323.57 135.33 P
0 F
-0.15 (,) 412.32 135.33 P
1 F
-0.15 (LS checksum) 417.16 135.33 P
0 F
-0.15 ( and) 473.96 135.33 P
1 F
-0.15 (length) 493.1 135.33 P
0 F
-0.15 (\051 are) 519.77 135.33 P
(set according to Section 12.1 of [OSPF].) 85.54 123.33 T
FMENDPAGE
%%EndPage: "36" 36
%%Page: "37" 37
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 37]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(\245) 72 677.33 T
-0.09 (The) 85.54 677.33 P
1 F
-0.09 (Options) 103.5 677.33 P
0 F
-0.09 ( \336eld of a group-membership-LSA is not processed on receipt. However) 137.4 677.33 P
-0.09 (, for consistency) 425.26 677.33 P
-0.09 (, the Option) 490.26 677.33 P
(\336eld in these advertisements should have its MC-bit set, T) 85.54 665.33 T
(-bit clear) 317.39 665.33 T
(, and the E-bit should match the con\336guration) 352.81 665.33 T
(of Area A \050i.e., set if and only if Area A is not a stub area\051. The rest of the Options \336eld is set to 0.) 85.54 653.33 T
(\245) 72 635.33 T
(The) 85.54 635.33 T
1 F
(Link State ID) 103.59 635.33 T
0 F
( is set to the group whose membership is being reported \050Group G\051.) 161.93 635.33 T
(\245) 72 617.33 T
(The Advertising Router is set to the OSPF Router ID of the router originating the advertisement \050Router X\051.) 85.54 617.33 T
(\245) 72 599.33 T
(The body of the advertisement is a list of local transit vertices that should be labelled with Group G membership) 85.54 599.33 T
(\050see Section 2.3.1\051. This list may include the advertising router itself, and any of the transit networks that are) 85.54 587.33 T
-0.22 (directly attached to said router) 85.54 575.33 P
-0.22 (. The following steps determine which of these transit vertices are actually included) 205.74 575.33 P
(in the group-membership-LSA. Note that any particular vertex should be listed at most once, even though the) 85.54 563.33 T
-0.15 (following may indicate multiple reasons for a particular vertex to be listed. Also note that if no transit vertices are) 85.54 551.33 P
(listed by the advertisement, the advertisement should not be \050re\051originated; if an instance of the advertisement) 85.54 539.33 T
-0.29 (already exists, it should then be \337ushed from the link state database using the premature aging procedure speci\336ed) 85.54 527.33 P
(in Section 14.1 of [OSPF].) 85.54 515.33 T
(a.) 85.54 497.33 T
(Consider those entries in the local group database that describe Group G membership \050see Section 8.4\051.) 99.07 497.33 T
(Consider each such entry in turn. Each entry references one of Router X\325) 99.07 485.33 T
(s attached networks \050call it Network) 390.38 485.33 T
(N\051. If either Network N does not belong to Area A, or if Router X is not Network N\325) 99.07 473.33 T
(s Designated Router) 437.34 473.33 T
0 8 Q
(15) 518.44 477.33 T
0 10 Q
(,) 526.44 473.33 T
-0.33 (Network N should not be added to the group-membership-LSA, and the next local group database entry should) 99.07 461.33 P
-0.02 (be examined. Otherwise, if N is a stub network \050e.g., Router X is the only OSPF router attached to N\051, Router) 99.07 449.33 P
(X adds itself to the advertisement by adding a vertex with V) 99.07 437.33 T
(ertex type set to 1 \050router\051 and V) 338.76 437.33 T
(ertex ID set to) 468.45 437.33 T
-0.18 (Router X\325) 99.07 425.33 P
-0.18 (s OSPF Router ID. Otherwise, N is a transit network. In this case, Network N should be added to the) 138.61 425.33 P
(advertisement by adding a vertex with V) 99.07 413.33 T
(ertex type set to 2 \050network\051 and V) 260.71 413.33 T
(ertex ID set to the IP address of) 399.29 413.33 T
(Network N\325) 99.07 401.33 T
(s Designated Router \050i.e., Router X\325) 146.56 401.33 T
(s IP interface address on Network N\051.) 290.43 401.33 T
(b.) 85.54 383.33 T
(If Router X itself has applications requesting Group G membership on an interface-independent basis \050see) 99.07 383.33 T
(Section 5\051, it should add itself to the advertisement by adding a vertex with V) 99.07 371.33 T
(ertex type set to 1 \050router\051 and) 408.21 371.33 T
(V) 99.07 359.33 T
(ertex ID set to Router X\325) 105.18 359.33 T
(s OSPF Router ID.) 204.33 359.33 T
(c.) 85.54 341.33 T
(If Router X is an inter) 99.07 341.33 T
(-area multicast forwarder \050see Section 3.1\051, Area A is the backbone area \050Area ID) 186.91 341.33 T
(0.0.0.0\051, and at least one of Router X\325) 99.07 329.33 T
(s attached non-backbone areas has Group G members \050indicated by the) 249.88 329.33 T
-0 (presence of one or more advertisements in the areas\325 link state databases having Link State ID set to Group G) 99.07 317.33 P
(and LS age set to a value other than MaxAge) 99.07 305.33 T
0 8 Q
(16) 279.31 309.33 T
0 10 Q
(\051, then Router X should add itself to the advertisement by) 287.31 305.33 T
(adding a vertex with V) 99.07 293.33 T
(ertex type set to 1 \050router\051 and V) 189.61 293.33 T
(ertex ID set to Router X\325) 319.3 293.33 T
(s OSPF Router ID.) 418.45 293.33 T
-0.18 (Consider as an example the network con\336guration in Figure 4. Suppose that Router R) 72 269.33 P
-0.18 (T2 has been elected Designated) 411.78 269.33 P
(Router for Network N3. Router R) 72 257.33 T
(T2 would then originate \050into Area 1\051 the following group-membership-LSA for) 206.38 257.33 T
(Group B:) 72 245.33 T
3 F
(     ; RT2's group-membership-LSA for Group B) 86.4 226 T
(       LS age = 0                     ;always true on origination) 72 213.33 T
(       Options = \050E-bit|MC-bit\051) 72 201.33 T
(       LS type = 6                    ;group-membership-LSA) 72 189.33 T
72 159 540 179.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 166.99 203.98 166.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
-0.01 (15.  For this reason when a transit network has both MOSPF routers and non-multicast OSPF routers attached, care should be taken to ensure that) 72 153.67 P
(a MOSPF router is elected Designated Router) 72 144.67 T
(. This can be accomplished through proper setting of the routers\325 con\336gured Router Priority) 218.21 144.67 T
(.) 511.42 144.67 T
(16.  Note that just because these advertisements exist in the link state database, it does not mean that the Group G members are reachable.) 72 132.67 T
(Reachability does not enter into the building of the transit vertex list, in order to simplify the calculation. This is a trade-of) 72 123.67 T
(f. As a result, some) 463.6 123.67 T
(multicast datagrams may be forwarded further than necessary) 72 114.67 T
(, when the described Group G members actually are unreachable.) 268.54 114.67 T
FMENDPAGE
%%EndPage: "37" 37
%%Page: "38" 38
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 38]) 501.4 74.33 T
72 108 540 684 R
7 X
V
3 F
0 X
(       Link State ID = Group B) 72 677.33 T
(       Advertising Router = RT2's Router ID) 72 665.33 T
(               Vertex type = 1        ;RT2 itself \050for stub N2\051) 72 653.33 T
(               Vertex ID = RT2's Router ID) 72 641.33 T
(               Vertex type = 2        ;Network N3 \050since RT2 is DR\051) 72 629.33 T
(               Vertex ID = RT2's IP interface address on N3) 72 617.33 T
1 12 Q
(10.2  Flooding gr) 72 586 T
(oup-membership-LSAs) 158.46 586 T
0 10 Q
(When MOSPF routers and non-multicast OSPF routers are mixed together in a routing domain, the group-) 72 561.33 T
(membership-LSAs are not \337ooded to the non-multicast routers) 72 549.33 T
0 8 Q
(17) 322.81 553.33 T
0 10 Q
(. As a general design principle, optional OSPF) 330.81 549.33 T
(advertisements are only \337ooded to those routers that understand them.) 72 537.33 T
(A MOSPF router learns of its neighbor) 72 513.33 T
(\325) 228.47 513.33 T
(s multicast-capability at the beginning of the \322Database Exchange Process\323) 231.25 513.33 T
-0.09 (\050see Section 10.6 of [OSPF], receiving Database Description packets from a neighbor in state Exstart\051. A neighbor is) 72 501.33 P
(multicast-capable if and only if it sets the MC-bit in the Options \336eld of its Database Description packets. Then, in) 72 489.33 T
(the next step of the Database Exchange process, group-membership-LSAs are included in the) 72 477.33 T
1 F
(Database summary) 448.03 477.33 T
(list) 72 465.33 T
0 F
(sent to the neighbor \050see Sections 7.2 and 10.3 of [OSPF]\051 if and only if the neighbor is multicast-capable.) 87.28 465.33 T
(When \337ooding group-membership-LSAs to adjacent neighbors, a MOSPF router looks at the neighbor) 72 441.33 T
(\325) 482.61 441.33 T
(s multicast-) 485.39 441.33 T
-0.14 (capability) 72 429.33 P
-0.14 (. Group-membership-LSAs are only \337ooded to multicast-capable neighbors. T) 110.79 429.33 P
-0.14 (o be more precise, in Section) 422.25 429.33 P
(13.3 of [OSPF], group-membership-LSAs are only placed on the) 72 417.33 T
1 F
(Link state r) 333.91 417.33 T
(etransmission lists) 383.73 417.33 T
0 F
( of multicast-) 461.79 417.33 T
(capable neighbors) 72 405.33 T
0 8 Q
(18) 144.48 409.33 T
0 10 Q
(. Note however that when sending Link State Update packets as multicasts, a non-multicast) 152.48 405.33 T
(neighbor may \050inadvertently\051 receive group-membership-LSAs. The non-multicast router will then simply discard) 72 393.33 T
(the LSA \050see Section 13 of [OSPF], receiving LSAs having unknown LS types\051.) 72 381.33 T
1 14 Q
(1) 72 342.67 T
(1  Detailed description of multicast datagram forwarding) 78.23 342.67 T
0 10 Q
(This section describes in detail the way MOSPF forwards a multicast datagram. The forwarding process has already) 72 317.33 T
(been informally presented in Section 2.2. However) 72 305.33 T
(, there are several obscure con\336guration options \050e.g., the) 275.45 305.33 T
(IPMulticastForwarding interface parameter\051 that have been presented elsewhere in this document, which may) 72 293.33 T
(in\337uence the forwarding process. This section gathers together all the in\337uencing factors into a single algorithm.) 72 281.33 T
(It is assumed in the following that the datagram under consideration has actually be received on one of the router) 72 257.33 T
(\325) 524.23 257.33 T
(s) 527.01 257.33 T
(interfaces. Locally generated datagrams \050i.e., originated by one of the router) 72 245.33 T
(\325) 376.73 245.33 T
(s internal applications\051 are handled) 379.51 245.33 T
(instead by the algorithm in Section 1) 72 233.33 T
(1.3.) 218.85 233.33 T
(Assume that the datagram\325) 72 209.33 T
(s IP destination is Group G. The forwarding process then consists of the following steps:) 178.93 209.33 T
(1.) 72 191.33 T
(Upon reception of the datagram, the MOSPF router notes the following parameters. These parameters are) 85.54 191.33 T
(examined in later steps, to determine whether the datagram should be forwarded.) 85.54 179.33 T
72 141 540 161.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 148.99 203.98 148.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(17.  Since the Designated Router controls \337ooding on the network, this is another reason to ensure that a MOSPF router is elected as Designated) 72 135.67 T
(Router) 72 126.67 T
(.) 93.34 126.67 T
(18.  In other words, group-membership-LSAs will never be retransmitted to non-multicast routers.) 72 114.67 T
FMENDPAGE
%%EndPage: "38" 38
%%Page: "39" 39
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 39]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(a.) 85.54 677.33 T
(The) 99.07 677.33 T
2 F
(r) 117.12 677.33 T
(eceiving MOSPF interface) 120.64 677.33 T
0 F
( associated with the datagram. Based on the receiving physical interface, the) 227.28 677.33 T
(receiving MOSPF interface is selected by the algorithm in Section 1) 99.07 665.33 T
(1.1.) 371.45 665.33 T
(b.) 85.54 647.33 T
(Whether the datagram was received as a link-level multicast/broadcast or as a link-level unicast. This) 99.07 647.33 T
(information is used later in Step 7 to help determine whether the datagram should be forwarded.) 99.07 635.33 T
(2.) 72 617.33 T
(A copy of the datagram should be passed to each internal application that has joined Group G on the receiving) 85.54 617.33 T
(MOSPF interface \050see Section 5\051.) 85.54 605.33 T
(3.) 72 587.33 T
-0.16 (If the datagram\325) 85.54 587.33 P
-0.16 (s IP source address matches the receiving MOSPF interface\325) 149.09 587.33 P
-0.16 (s IP address, the datagram should not) 389.45 587.33 P
-0.18 (be forwarded further) 85.54 575.33 P
-0.18 (, and should instead be discarded, completing the forwarding process. This keeps the router) 167.51 575.33 P
-0.18 (\325) 531.01 575.33 P
-0.18 (s) 533.79 575.33 P
(own locally originated datagrams from being mistakenly replicated, in those cases where the receiving MOSPF) 85.54 563.33 T
(interface receives its own multicast transmissions.) 85.54 551.33 T
(4.) 72 533.33 T
(If Group G falls into the range 224.0.0.1 through 224.0.0.255 inclusive, the datagram should not be forwarded) 85.54 533.33 T
(further) 85.54 521.33 T
(. This range of addresses has been dedicated for use on a local network segment only) 112.2 521.33 T
(.) 451.47 521.33 T
(5.) 72 503.33 T
(Associate a source network \050SourceNet\051 with the multicast datagram, as described in Section 1) 85.54 503.33 T
(1.2. If SourceNet) 464.54 503.33 T
(cannot be determined \050i.e., there is no available unicast route back to the datagram source\051, the datagram should) 85.54 491.33 T
(not be forwarded further) 85.54 479.33 T
(.) 183.01 479.33 T
(6.) 72 461.33 T
(Look up the) 85.54 461.33 T
1 F
(forwarding cache) 136.37 461.33 T
0 F
( entry \050see Section 8.5\051 matching the datagram\325) 211.08 461.33 T
(s [SourceNet, Group G, T) 400.49 461.33 T
(OS]) 503.62 461.33 T
(combination. If the cache entry does not yet exist, one is built by the calculation in Section 12. In order for the) 85.54 449.33 T
-0.19 (datagram to be forwarded, the contents of the forwarding cache entry must be further veri\336ed against the received) 85.54 437.33 P
(datagram\325) 85.54 425.33 T
(s characteristics as follows:) 125.53 425.33 T
(a.) 85.54 407.33 T
(If the forwarding cache entry\325) 99.07 407.33 T
(s) 218.47 407.33 T
1 F
( upstr) 222.36 407.33 T
(eam node) 247.46 407.33 T
0 F
(is unspeci\336ed \050i.e., NULL\051, then the datagram should not be) 290.79 407.33 T
(forwarded further) 99.07 395.33 T
(.) 169.32 395.33 T
(b.) 85.54 377.33 T
(Otherwise, suppose that the forwarding cache entry\325) 99.07 377.33 T
(s upstream node is set to EXTERNAL. In this case, the) 307.63 377.33 T
-0 (datagram is forwarded further if and only if the receiving MOSPF interface is set to NULL \050i.e., if and only if) 99.07 365.33 P
(the datagram was received on a non-MOSPF interface\051.) 99.07 353.33 T
(c.) 85.54 335.33 T
(Otherwise, if the datagram\325) 99.07 335.33 T
(s receiving MOSPF interface does not attach to the forwarding cache entry\325) 208.49 335.33 T
(s) 510.37 335.33 T
(upstream node, the datagram should not be forwarded further) 99.07 323.33 T
(.) 343.74 323.33 T
(7.) 72 305.33 T
(If the receiving MOSPF interface\325) 85.54 305.33 T
(s IPMulticastForwarding parameter is set to) 222.18 305.33 T
1 F
(data-link unicast) 399.94 305.33 T
0 F
(, the datagram) 471.9 305.33 T
(should be forwarded further only if it was received as a data-link unicast.) 85.54 293.33 T
(8.) 72 275.33 T
-0.3 (At this point the datagram is eligible for further forwarding. Before forwarding, the router checks to see whether it) 85.54 275.33 P
(has any internal applications that have joined Group G on an interface-independent basis. If so, a copy of the) 85.54 263.33 T
(datagram should be passed to each such requesting application process.) 85.54 251.33 T
(9.) 72 233.33 T
(Examine each of the) 85.54 233.33 T
1 F
(downstr) 169.96 233.33 T
(eam interfaces) 204.78 233.33 T
0 F
( listed in the forwarding cache entry) 266.7 233.33 T
(. If the TTL in the datagram is) 410.46 233.33 T
(greater than or equal to the TTL speci\336ed for the downstream interface, a copy of the datagram should be) 85.54 221.33 T
(forwarded out the downstream interface. Before forwarding the datagram copy) 85.54 209.33 T
(, the copy\325) 400.35 209.33 T
(s TTL should be) 442.29 209.33 T
(decremented by 1. On most interfaces, the datagram is forwarded as a data-link multicast/broadcast. The exact) 85.54 197.33 T
(data-link encapsulation is dependent on the attached network\325) 85.54 185.33 T
(s type:) 332.44 185.33 T
(\245) 85.54 167.33 T
(On) 99.07 167.33 T
1 F
( ethernet) 111.29 167.33 T
0 F
( and) 149.33 167.33 T
1 F
(IEEE 802.3) 168.77 167.33 T
0 F
( networks, the datagram is forwarded as a data-link multicast. The destination) 217.67 167.33 T
(data-link multicast address is selected as an algorithmic translation of the IP multicast destination. See [RFC) 99.07 155.33 T
(1) 99.07 143.33 T
(1) 103.7 143.33 T
(12] for details.) 108.33 143.33 T
(\245) 85.54 125.33 T
(On) 99.07 125.33 T
1 F
( FDDI) 111.29 125.33 T
0 F
( networks, the datagram is forwarded as a data-link multicast. The destination data-link multicast) 138.23 125.33 T
(address is selected as an algorithmic translation of the IP multicast destination. See [RFC 1390] for details.) 99.07 113.33 T
FMENDPAGE
%%EndPage: "39" 39
%%Page: "40" 40
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 40]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(\245) 85.54 677.33 T
(On) 99.07 677.33 T
1 F
( SMDS) 111.29 677.33 T
0 F
(networks, the datagram is forwarded using the same SMDS address that is used by IP broadcast) 144.07 677.33 T
(datagrams. See [RFC 1209] for details.) 99.07 665.33 T
(\245) 85.54 647.33 T
(On networks that support broadcast, but not multicast \050e.g., the Experimental Ethernet\051, the datagram is) 99.07 647.33 T
(forwarded as a data-link broadcast. See [RFC 1) 99.07 635.33 T
(1) 288.1 635.33 T
(12] for details.) 292.73 635.33 T
(\245) 85.54 617.33 T
-0.28 (On) 99.07 617.33 P
1 F
-0.28 ( point-to-point) 111.29 617.33 P
0 F
-0.28 ( networks, the datagram is forwarded in the same way that unicast datagrams are forwarded.) 172.96 617.33 P
(See [RFC 1) 99.07 605.33 T
(1) 145.37 605.33 T
(12] for details.) 150 605.33 T
(10.) 72 587.33 T
(Examine each of the) 85.54 587.33 T
1 F
(downstr) 169.96 587.33 T
(eam neighbors) 204.78 587.33 T
0 F
( listed in the forwarding cache entry) 267.28 587.33 T
(. If the TTL in the datagram is) 411.04 587.33 T
(greater than or equal to the TTL speci\336ed for the downstream neighbor) 85.54 575.33 T
(, a copy of the datagram should be) 369.8 575.33 T
(forwarded to the downstream neighbor \050as a data-link unicast\051. Before forwarding the datagram copy) 85.54 563.33 T
(, the copy\325) 489.23 563.33 T
(s) 531.16 563.33 T
(TTL should be decremented by 1.) 85.54 551.33 T
(ICMP error messages are never generated in response to received IP multicasts. In particular) 72 527.33 T
(, ICMP destination) 442.06 527.33 T
(unreachables and ICMP TTL expired messages are not generated by the above procedure if the router refuses to) 72 515.33 T
(forward a multicast datagram.) 72 503.33 T
1 12 Q
(1) 72 472 T
(1.1  Associating a MOSPF interface with a r) 77.34 472 T
(eceived datagram) 302.1 472 T
0 10 Q
(A MOSPF interface must be associated with a received multicast datagram before it is forwarded \050see Step 1a of) 72 447.33 T
(Section 1) 72 435.33 T
(1\051, and with received IGMP Host Membership Reports before they are processed \050see Section 9.2\051.) 109.13 435.33 T
(When there is only a single IP network assigned to the physical interface that received the datagram, the choice of) 72 411.33 T
(receiving MOSPF interface is clear) 72 399.33 T
(. When there are multiple logical IP networks attached to the receiving physical) 212.53 399.33 T
-0.32 (interface, the receiving MOSPF interface is selected as follows. Examine all of the MOSPF interfaces associated with) 72 387.33 P
(the receiving physical interface. Discard those interfaces whose IPMulticastForwarding parameter has been set to) 72 375.33 T
(disabled. The) 72 363.33 T
2 F
(r) 128.38 363.33 T
(eceiving MOSPF interface) 131.9 363.33 T
0 F
( is then the remaining interface having the highest IP interface address \050or) 238.54 363.33 T
(NULL if there are no remaining interfaces\051) 72 351.33 T
0 8 Q
(19) 244.72 355.33 T
0 10 Q
(.) 252.72 351.33 T
1 12 Q
(1) 72 320 T
(1.2  Locating the sour) 77.34 320 T
(ce network) 188.12 320 T
0 10 Q
(MOSPF forwarding cache entries are indexed by the datagram\325) 72 295.33 T
(s source IP network/subnet/supernet. For this reason,) 324.72 295.33 T
-0.28 (whenever an IP multicast datagram is received, the IP network belonging to the datagram\325) 72 283.33 P
-0.28 (s IP source address must be) 428.9 283.33 P
(found. This is accomplished by the following algorithm:) 72 271.33 T
(Look up the OSPF T) 72 247.33 T
(OS 0 routing table entry) 155.16 247.33 T
0 8 Q
(20) 251.82 251.33 T
0 10 Q
( corresponding to the datagram\325) 259.82 247.33 T
(s IP source address, as described in) 387.02 247.33 T
(Section 1) 72 235.33 T
(1.1 of [OSPF]. If this routing table entry describes an OSPF intra-area or inter) 109.13 235.33 T
(-area route, the source) 420.83 235.33 T
-0.3 (network is set to be the network de\336ned by the routing table entry\325) 72 223.33 P
-0.3 (s Destination ID and Address Mask \050see Section 1) 334.48 223.33 P
-0.3 (1) 532.8 223.33 P
(of [OSPF]\051. Otherwise \050i.e., the  routing table entry speci\336es an external route, or there is no matching routing table) 72 211.33 T
(entry\051, the list of matching AS external-link-LSAs is examined. A matching AS external-link-LSA is one that) 72 199.33 T
-0.01 (describes a network which contains the datagram\325) 72 187.33 P
-0.01 (s IP source address. The list of matching AS external-link-LSAs is) 271.31 187.33 P
(pruned in the following steps to determine the source network:) 72 175.33 T
72 132 540 152.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 139.99 203.98 139.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(19.  This last step will not be necessary if the con\336guration guidelines presented in Section 6.5 are followed.) 72 126.67 T
(20.  The T) 72 114.67 T
(OS 0 routing table entry is examined regardless of the T) 105.18 114.67 T
(OS speci\336ed by the multicast datagram.) 284.57 114.67 T
FMENDPAGE
%%EndPage: "40" 40
%%Page: "41" 41
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 41]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(1.) 72 677.33 T
-0.03 (Those AS external-link-LSAs with MC-bit clear \050see Section A.1\051, or with LS age set to MaxAge, or which have) 85.54 677.33 P
(been originated by unreachable AS boundary routers are discarded.) 85.54 665.33 T
(2.) 72 647.33 T
(AS external-link-LSAs specifying T) 85.54 647.33 T
(ype 1 external metrics are always preferred over those specifying T) 230.1 647.33 T
(ype 2) 498.76 647.33 T
(external metrics.) 85.54 635.33 T
(3.) 72 617.33 T
-0.34 (If there are still multiple AS external-link-LSAs remaining, those specifying the best matching \050i.e., most speci\336c\051) 85.54 617.33 P
(network are selected. The source network is then set to the network/subnet/supernet \050possibly even the default) 85.54 605.33 T
(route\051 described by the best matching AS external-link-LSAs. Note that AS external-link-LSAs specifying a cost) 85.54 593.33 T
(of LSIn\336nity are eligible for this best match, as long as their MC-bit is set.) 85.54 581.33 T
0 8 Q
(21) 383.86 585.33 T
0 10 Q
(It is possible that two dif) 72 557.33 T
(ferent MOSPF routers may calculate the same multicast datagram\325) 170.99 557.33 T
(s source network) 437.06 557.33 T
-0.29 (dif) 72 545.33 P
-0.29 (ferently) 82.93 545.33 P
-0.29 (. For example, consider the network con\336guration shown in Figure 4. When calculating the source network) 113.38 545.33 P
(for a datagram whose source is Network N10 and destination is Group Ma, Router R) 72 533.33 T
(T1) 410.51 533.33 T
(1 would calculate the source) 421.25 533.33 T
-0.15 (network as Network N10 itself, while Router R) 72 521.33 P
-0.15 (T10 would calculate the source network as the aggregate of Networks) 259.77 521.33 P
-0.32 (N9-N1) 72 509.33 P
-0.32 (1 and Host H1 \050advertised in a single summary-link-LSA by Router R) 99.4 509.33 P
-0.32 (T1) 376.06 509.33 P
-0.32 (1\051. However) 386.8 509.33 P
-0.32 (, despite the possibility of) 436.05 509.33 P
(routers selecting dif) 72 497.33 T
(ferent source networks, all routers will still agree on the datagram\325) 151.25 497.33 T
(s shortest-path tree.) 417.03 497.33 T
(External sources are treated dif) 72 473.33 T
(ferently in the above calculation since it is likely that the Internet will have separate) 196.22 473.33 T
(multicast and unicast topologies for some time to come. When the multicast and unicast topologies do mer) 72 461.33 T
(ge, the) 498.18 461.33 T
-0.14 (MC-bit will be set on all AS external-link-LSAs and the above use of the LSIn\336nity metric \050to indicate a route that is) 72 449.33 P
-0.03 (to be used for multicast traf) 72 437.33 P
-0.03 (\336c, but not unicast traf) 181.93 437.33 P
-0.03 (\336c\051, will no longer be necessary) 271.89 437.33 P
-0.03 (. At that time, the determination of) 398.84 437.33 P
(source network for external sources will revert to the same simple routing table lookup that is used for internal) 72 425.33 T
(sources.) 72 413.33 T
(As an example of the logic for external sources, suppose a multicast datagram is received having the IP source) 72 389.33 T
(address 10.1.1.1. Suppose also that the three AS external-link-LSAs shown in T) 72 377.33 T
(able 3: are in the router) 390.99 377.33 T
(\325) 484.39 377.33 T
(s OSPF) 487.17 377.33 T
(database. The OSPF routing table lookup would yield the network 10.1.1.0 with a mask of 255.255.255.0, however) 72 365.33 T
-0.03 (the above calculation would choose a source network of 10.1.0.0 with a mask of 255.255.0.0, despite the fact that its) 72 353.33 P
(matching LSA has a cost of LSIn\336nity) 72 341.33 T
(.) 225.79 341.33 T
1 12 Q
(1) 72 222 T
(1.3  Forwarding locally originated multicasts) 77.34 222 T
0 10 Q
(This section describes how a MOSPF router forwards a multicast datagram that has been originated by one of the) 72 197.33 T
(router) 72 185.33 T
(\325) 96.25 185.33 T
(s own internal applications. The process begins with one of the router) 99.03 185.33 T
(\325) 377.69 185.33 T
(s internal applications formatting and) 380.47 185.33 T
(addressing the datagram. Forwarding the locally originated multicast then consists of the following steps:) 72 173.33 T
72 129 540 149.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 136.99 203.98 136.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(21.  It is assumed that a MOSPF router that wants to stop advertising a route to an external destination will use the premature aging procedure) 72 123.67 T
(speci\336ed in Section 14.1 of [OSPF], rather than setting the AS external-link-LSA) 72 114.67 T
(\325) 331.31 114.67 T
(s cost to LSIn\336nity) 333.54 114.67 T
(.) 394.14 114.67 T
2 10 Q
-0 (Network) 191.04 315.33 S
(Mask) 236.91 315.33 T
(Cost) 306.38 315.33 T
-0 (MC-bit) 392.09 315.33 S
0 F
(10.1.1.0) 191.04 299.33 T
-0 (255.255.255.0) 236.91 299.33 S
(T) 306.38 299.33 T
(ype 1: 10) 311.79 299.33 T
(clear) 392.09 299.33 T
(10.1.0.0) 191.04 285.33 T
(255.255.0.0) 236.91 285.33 T
-0.02 (T) 306.38 285.33 P
-0.02 (ype 2: LSIn\336nity) 311.79 285.33 P
(set) 392.09 285.33 T
(10.0.0.0) 191.04 271.33 T
(255.0.0.0) 236.91 271.33 T
(T) 306.38 271.33 T
(ype 2: 1) 311.79 271.33 T
(set) 392.09 271.33 T
1 F
(T) 222.01 253.33 T
(able 3: Sample AS external-link-LSAs) 227.76 253.33 T
185.04 325.75 185.04 266.25 2 L
V
0.5 H
0 Z
N
230.91 326.25 230.91 265.75 2 L
V
N
300.38 326.25 300.38 265.75 2 L
V
N
386.09 326.25 386.09 265.75 2 L
V
N
426.96 325.75 426.96 266.25 2 L
V
N
184.79 326 427.21 326 2 L
V
N
185.29 309.25 426.71 309.25 2 L
V
N
185.29 306.75 426.71 306.75 2 L
V
N
184.79 266 427.21 266 2 L
V
N
FMENDPAGE
%%EndPage: "41" 41
%%Page: "42" 42
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 42]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(1.) 72 677.33 T
-0.25 (Find the router interface whose IP address matches the datagram\325) 85.54 677.33 P
-0.25 (s source address. Multicast the datagram out that) 344.57 677.33 P
(interface, according to the Host extensions for IP multicasting speci\336ed in [RFC 1) 85.54 665.33 T
(1) 413.75 665.33 T
(12].) 418.38 665.33 T
(2.) 72 647.33 T
-0.37 (If the router interface found in the previous step has been con\336gured for MOSPF) 85.54 647.33 P
-0.37 (, and if its IPMulticastForwarding) 403.51 647.33 P
(parameter is not equal to disabled, then set the receiving MOSPF interface to that interface. Otherwise, set the) 85.54 635.33 T
(receiving MOSPF interface to NULL.) 85.54 623.33 T
(3.) 72 605.33 T
(Execute the MOSPF forwarding process described in Section 1) 85.54 605.33 T
(1, beginning with its Step 4.) 337.91 605.33 T
(The above algorithm amounts to the router always multicasting the datagram out the source interface, and the) 72 581.33 T
(executing the basic forwarding algorithm \050in Section 1) 72 569.33 T
(1\051 as if the datagram had actually been received on the source) 290.21 569.33 T
-0.08 (interface. In those cases where the router receives its own multicast transmissions, unwanted replication is prevented) 72 557.33 P
-0.36 (by Step 3 of Section 1) 72 545.33 P
-0.36 (1. In fact, this speci\336cation has purposely presented the forwarding algorithm \050both for received) 158.44 545.33 P
(and for locally originated datagrams\051 so that the correct forwarding actions are taken independent of whether the) 72 533.33 T
(router receives its own multicast transmissions.) 72 521.33 T
1 14 Q
(12  Construction of forwarding cache entries) 72 482.67 T
0 10 Q
-0.22 (This section details the building of a MOSPF forwarding cache entry) 72 457.33 P
-0.22 (. A high level discussion of this construction has) 345.28 457.33 P
-0.25 (already been presented in Sections 2.3, 2.3.1, 2.3.2, 3.2, and 4.1. Forwarding cache entries are built on demand, when) 72 445.33 P
(a multicast datagram is received and no matching forwarding cache entry is found \050see Step 6 of Section 1) 72 433.33 T
(1\051. The) 497.1 433.33 T
(parameters passed to the forwarding cache entry build process are: the datagram\325) 72 421.33 T
(s source network \050see Section 1) 395.52 421.33 T
(1.2\051) 521.51 421.33 T
(and its destination group address. These two parameters are called) 72 409.33 T
1 F
(Sour) 339.44 409.33 T
(ceNet) 359.82 409.33 T
0 F
( and) 383.69 409.33 T
1 F
(Gr) 403.13 409.33 T
(oup G) 415.17 409.33 T
0 F
( in the following) 441.57 409.33 T
(algorithm. The main steps in the build process are the following:) 72 397.33 T
(1.) 72 379.33 T
-0.16 (Allocate the forwarding cache entry) 85.54 379.33 P
-0.16 (. Initialize its Source network to SourceNet, its Destination multicast group to) 228.08 379.33 P
(Group G and its IP T) 85.54 367.33 T
(OS \336eld to match the multicast datagram\325) 169.52 367.33 T
(s T) 336.18 367.33 T
(OS. Initialize its upstream node and list of) 348.5 367.33 T
(downstream interfaces to NULL.) 85.54 355.33 T
(2.) 72 337.33 T
(For each Area A to which the calculating router is attached:) 85.54 337.33 T
(a.) 85.54 319.33 T
(Calculate Area A) 99.07 319.33 T
(\325) 167.38 319.33 T
(s datagram shortest-path tree. This calculation is described in Section 12.2 below) 170.16 319.33 T
(. In many) 493.63 319.33 T
-0.3 (ways it is similar to the calculation of OSPF\325) 99.07 307.33 P
-0.3 (s intra-area routes, described in Section 16.1 of [OSPF]. The main) 276.12 307.33 P
(dif) 99.07 295.33 T
(ferences between the multicast datagram shortest-path tree calculation and OSPF\325) 110 295.33 T
(s intra-area unicast) 436.88 295.33 T
(calculation are listed in Section 12.2.9 below) 99.07 283.33 T
(. As a product of each area\325) 278.4 283.33 T
(s datagram shortest-path tree, the) 388.08 283.33 T
(forwarding cache entry\325) 99.07 271.33 T
(s list of outgoing interfaces is \050possibly\051 updated.) 194.59 271.33 T
-0.13 (Area A) 99.07 253.33 P
-0.13 (\325) 126.98 253.33 P
-0.13 (s datagram shortest-path tree is dependent on the datagram\325) 129.76 253.33 P
-0.13 (s IP T) 366.43 253.33 P
-0.13 (OS. Section 12.2 describes the T) 389.88 253.33 P
-0.13 (OS 0) 519.85 253.33 P
1.54 (datagram shortest-path tree. The modi\336cations necessary for non-zero T) 99.07 241.33 P
1.54 (OS values are detailed in Section) 399.79 241.33 P
(12.2.8.) 99.07 229.33 T
(b.) 85.54 211.33 T
(Possibly set the forwarding cache entry\325) 99.07 211.33 T
(s upstream node. Only one of the calculating router) 259.32 211.33 T
(\325) 464.93 211.33 T
(s attached areas) 467.71 211.33 T
(will determine the forwarding cache entry\325) 99.07 199.33 T
(s upstream node. This area is called the datagram\325) 269.86 199.33 T
(s RootArea. The) 469.54 199.33 T
(RootArea is initially set to NULL. After completing Area A) 99.07 187.33 T
(\325) 337.93 187.33 T
(s datagram shortest-path tree, the calculation in) 340.71 187.33 T
(Section 12.2.7 will determine whether Area A is the datagram\325) 99.07 175.33 T
(s RootArea.) 349.86 175.33 T
(3.) 72 157.33 T
(Update the forwarding cache entry\325) 85.54 157.33 T
(s list of outgoing interfaces, according to the contents of the local group) 227.16 157.33 T
(database. This ensures multicast delivery to group members residing on the calculating router) 85.54 145.33 T
(\325) 460.02 145.33 T
(s directly attached) 462.8 145.33 T
(networks. This process is described in Section 12.3.) 85.54 133.33 T
FMENDPAGE
%%EndPage: "42" 42
%%Page: "43" 43
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 43]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
-0.33 (These main steps are described in more detail below) 72 677.33 P
-0.33 (. The detailed description begins with an explanation of the major) 278.11 677.33 P
(data structure used by the datagram shortest-path tree calculation: The V) 72 665.33 T
(ertex data structure.) 361.38 665.33 T
1 12 Q
(12.1  The V) 72 634 T
(ertex data structur) 129.56 634 T
(e) 225.98 634 T
0 10 Q
(A datagram shortest-path tree is built by the) 72 609.33 T
1 F
(Dijkstra) 250.31 609.33 T
0 F
( or) 285.86 609.33 T
1 F
(SPF) 299.19 609.33 T
0 F
( algorithm. The algorithm is stated herein using graph-) 316.97 609.33 T
(oriented language: vertices and links. V) 72 597.33 T
(ertices are the area\325) 229.75 597.33 T
(s routers and transit networks, and links are the router) 307.21 597.33 T
(interfaces and point-to-point lines that connect them. Each vertex has the following state information attached to it.) 72 585.33 T
(Basically) 72 573.33 T
(, this information indicates the current best path from the SourceNet to the vertex, and the position of the) 108.57 573.33 T
-0.29 (vertex relative to the calculating router) 72 561.33 P
-0.29 (. Note that a separate datagram shortest-path tree is built for each area, and that) 225.25 561.33 P
(the vertices described below are also speci\336c to a single area \050called Area A\051.) 72 549.33 T
(\245) 72 531.33 T
1 F
(V) 85.54 531.33 T
(ertex type) 91.84 531.33 T
0 F
(. Set to 1 for routers, 2 for transit networks. Note that this coding matches the coding for vertices) 134.32 531.33 T
(listed in the group-membership-LSA \050see Section A.3\051.) 85.54 519.33 T
(\245) 72 501.33 T
1 F
-0.2 (V) 85.54 501.33 P
-0.2 (ertex ID) 91.84 501.33 P
0 F
-0.2 (. A 32-bit identi\336er for the vertex. For routers, set to the router) 126.89 501.33 P
-0.2 (\325) 375.04 501.33 P
-0.2 (s OSPF Router ID. For transit networks,) 377.82 501.33 P
-0.11 (set the IP address of the network\325) 85.54 489.33 P
-0.11 (s Designated Router) 218.17 489.33 P
-0.11 (. Note that this coding matches the coding for vertices listed) 298.49 489.33 P
(in the group-membership-LSA \050see Section A.3\051.) 85.54 477.33 T
(\245) 72 459.33 T
1 F
(LSA) 85.54 459.33 T
0 F
(. The link state advertisement describing the vertex\325 immediate neighborhood. Can be discovered by) 104.99 459.33 T
(performing a database lookup in Area A) 85.54 447.33 T
(\325) 245.5 447.33 T
(s link state database \050see Section 12.2 of [OSPF]\051, with LS type set to) 248.28 447.33 T
(V) 85.54 435.33 T
(ertex type and Link State ID set to V) 91.65 435.33 T
(ertex ID.) 237.74 435.33 T
(\245) 72 417.33 T
1 F
(Par) 85.54 417.33 T
(ent) 100.91 417.33 T
0 F
(. In the current best path from SourceNet to the vertex, the router/transit network immediately preceding) 114.24 417.33 T
(the vertex. Note that the parent can change as better and better paths are found, up until the vertex is installed on) 85.54 405.33 T
(the shortest-path tree.) 85.54 393.33 T
(\245) 72 375.33 T
1 F
(IncomingLinkT) 85.54 375.33 T
(ype) 152.6 375.33 T
0 F
(. This parameter is set to the type of link that led to V) 167.6 375.33 T
(ertex\325) 380.36 375.33 T
(s inclusion on the shortest-path) 403.13 375.33 T
-0.28 (tree. Listed in order of decreasing preference) 85.54 363.33 P
0 8 Q
-0.22 (22) 263.54 367.33 P
0 10 Q
-0.28 (, the possible types are: IL) 271.54 363.33 P
-0.28 (V) 374.78 363.33 P
-0.28 (irtual \050virtual links\051, ILDirect \050vertex is) 381.4 363.33 P
-0.28 (directly attached to SourceNet\051, ILNormal \050either router) 85.54 351.33 P
-0.28 (-to-router or router) 308.31 351.33 P
-0.28 (-to-network links\051, ILSummary \050OSPF) 383.08 351.33 P
(summary links\051, ILExternal \050OSPF AS external links\051, or ILNone \050the vertex is not on the shortest-path tree\051.) 85.54 339.33 T
(\245) 72 321.33 T
1 F
-0.33 (AssociatedInterface/Neighbor) 85.54 321.33 P
0 F
-0.33 (. If the current best path from SourceNet to the vertex goes through the calculating) 212.19 321.33 P
(router) 85.54 309.33 T
(, this parameter indicates the calculating router) 109.02 309.33 T
(\325) 296.85 309.33 T
(s interface \050or neighbor\051 which leads to the vertex.) 299.63 309.33 T
(\245) 72 291.33 T
1 F
-0.17 (Cost) 85.54 291.33 P
0 F
-0.17 (.) 104.98 291.33 P
-0.17 ( The cost, in terms of the OSPF link state metric, of the current best path from SourceNet to the vertex. Note) 107.48 291.33 P
-0.19 (that if the cost of the path is a combination of both external type 2 and internal OSPF metrics, that the vertex\325 cost) 85.54 279.33 P
(parameter re\337ects both cost components. Remember that the type 2 cost component is always more signi\336cant) 85.54 267.33 T
(than the type 1 component.) 85.54 255.33 T
(\245) 72 237.33 T
1 F
(TTL) 85.54 237.33 T
0 F
(. If the current best path from SourceNet to vertex goes through the calculating router) 105.55 237.33 T
(, TTL is set to the) 447.02 237.33 T
-0.09 (number of routers between the calculating router and the vertex. This includes the calculating router) 85.54 225.33 P
-0.09 (, but does not) 483.99 225.33 P
(include the vertex itself.) 85.54 213.33 T
72 120 540 140.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 127.99 203.98 127.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(22.  This preference ordering is used in Step 5c of Section 12.2.) 72 114.67 T
FMENDPAGE
%%EndPage: "43" 43
%%Page: "44" 44
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 44]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 12 Q
0 X
(12.2  The SPF calculation) 72 676 T
0 10 Q
(This section details the construction of datagram shortest-path trees. Such a tree describes the path of a multicast) 72 651.33 T
(datagram as it traverses an OSPF area. For a given datagram, each router in an OSPF area builds an identical tree. A) 72 639.33 T
(router connected to multiple areas builds a separate datagram shortest-path tree for each area.) 72 627.33 T
(The datagram shortest-path tree is built by the) 72 603.33 T
1 F
(Dijkstra) 258.64 603.33 T
0 F
( or) 294.19 603.33 T
1 F
(SPF) 307.52 603.33 T
0 F
( algorithm, which is the same algorithm used to) 325.3 603.33 T
-0.17 (discover OSPF\325) 72 591.33 P
-0.17 (s intra-area unicast routes \050see Section 16.1 of [OSPF]\051. The algorithm is stated herein and in [OSPF]) 134.89 591.33 P
(using graph-oriented language: vertices and links. V) 72 579.33 T
(ertices are the area\325) 280.02 579.33 T
(s routers and transit networks, and links are) 357.48 579.33 T
(the router interfaces and point-to-point lines that connect them. Basically) 72 567.33 T
(, the algorithm manipulates two lists of) 363.53 567.33 T
(vertices: the) 72 555.33 T
1 F
(candidate list) 123.1 555.33 T
0 F
( and the forming shortest-path tree. The candidate list consists of those vertices to which) 180.05 555.33 T
-0.24 (paths have been discovered, but for which the optimality of the discovered paths is yet unknown. At each cycle of the) 72 543.33 P
(algorithm, the vertex closest to the tree\325) 72 531.33 T
(s root, yet still remaining on the candidate list, is moved from the candidate) 230.59 531.33 T
(list to the shortest-path tree. Then the neighbors of the just processed vertex are examined for possible addition to/) 72 519.33 T
(modi\336cation of the candidate list. The algorithm terminates when the candidate list is empty) 72 507.33 T
(.) 440.21 507.33 T
(The datagram shortest-path tree for Area A is constructed in the following steps. The datagram\325) 72 483.33 T
(s SourceNet and its) 454.42 483.33 T
(destination group G are inputs to the calculation \050see Step 6 of Section 1) 72 471.33 T
(1\051. The datagram shortest-path tree also) 361.32 471.33 T
(depends on the IP T) 72 459.33 T
(ype of service speci\336ed in the datagrams\325 IP Header) 151.29 459.33 T
(. However) 359.57 459.33 T
(, a discussion of T) 400.82 459.33 T
(OS is deferred) 473.69 459.33 T
(until Section 12.2.8; all calculations and costs in the current section concern T) 72 447.33 T
(OS 0 only) 384.56 447.33 T
(. Call the router performing) 424.47 447.33 T
-0.33 (the calculation Router R) 72 435.33 P
-0.33 (TX. At each step \050and in the subordinate Sections 12.2.1 through 12.2.8\051 LSAs from Area A) 167.89 435.33 P
-0.33 (\325) 531.16 435.33 P
-0.33 (s) 533.94 435.33 P
-0.23 (link state database are examined. In all cases, any LSA having LS age equal to MaxAge is ignored. The main body of) 72 423.33 P
(the calculation is in Steps 4 and 5, which are repeated until the candidate list becomes empty:) 72 411.33 T
(1.) 72 393.33 T
1 F
-0.04 (Initialize the algorithm\325) 85.54 393.33 P
-0.04 (s data structur) 186.74 393.33 P
-0.04 (es.) 249.24 393.33 P
0 F
-0.04 ( Clear the shortest-path tree. Initialize the state of each vertex in Area) 260.08 393.33 P
(A \050i.e., the area\325) 85.54 381.33 T
(s routers and transit networks\051 to: Parent set to NULL, IncomingLinkT) 149.96 381.33 T
(ype set to ILNone and) 432.84 381.33 T
(AssociatedInterface/Neighbor set to NULL.) 85.54 369.33 T
(2.) 72 351.33 T
1 F
(Initialize the candidate list.) 85.54 351.33 T
0 F
( One or more vertices are initially placed on the candidate list, depending on the) 201.1 351.33 T
-0.08 (location of SourceNet with respect to Area A and Router R) 85.54 339.33 P
-0.08 (TX. This breaks down into the following cases \050which) 320.75 339.33 P
(are named for later reference\051:) 85.54 327.33 T
(\245) 85.54 309.33 T
1 F
(Case Sour) 99.07 309.33 T
(ceIntraAr) 142.5 309.33 T
(ea:) 185.08 309.33 T
0 F
( SourceNet belongs to Area A. In this case, the candidate list is initialized as in) 197.85 309.33 T
(Section 12.2.1.) 99.07 297.33 T
(\245) 85.54 279.33 T
1 F
(Case Sour) 99.07 279.33 T
(ceInterAr) 142.5 279.33 T
(ea1:) 184.52 279.33 T
0 F
( SourceNet belongs to an OSPF area that is not directly attached to Router R) 202.29 279.33 T
(TX. In) 507.77 279.33 T
(this case, the candidate list is initialized as in Section 12.2.2.) 99.07 267.33 T
(\245) 85.54 249.33 T
1 F
(Case Sour) 99.07 249.33 T
(ceInterAr) 142.5 249.33 T
(ea2:) 184.52 249.33 T
0 F
( SourceNet does not belong to Area A, but it still belongs to an OSPF area that is) 202.29 249.33 T
(directly attached to Router R) 99.07 237.33 T
(TX. In this case, the candidate list is initialized as in Section 12.2.3.) 214.01 237.33 T
(\245) 85.54 219.33 T
1 F
(Case Sour) 99.07 219.33 T
(ceExternal:) 142.5 219.33 T
0 F
( SourceNet is external to the OSPF routing domain, and Area A is not an OSPF stub) 191.93 219.33 T
(area. In this case, the candidate list is initialized as in Section 12.2.4.) 99.07 207.33 T
(\245) 85.54 189.33 T
1 F
(Case Sour) 99.07 189.33 T
(ceStubExternal:) 142.5 189.33 T
0 F
( SourceNet is external to the OSPF routing domain, and Area A is an OSPF stub) 211.94 189.33 T
(area. In this case, the candidate list is initialized as in Section 12.2.5.) 99.07 177.33 T
-0.21 (T) 85.54 161.33 P
-0.21 (wo dif) 90.95 161.33 P
-0.21 (ferent routers in Area A may select dif) 116.39 161.33 P
-0.21 (ferent initialization cases above. For example, consider the network) 268.87 161.33 P
(con\336guration shown in Figure 4. When calculating the Area 3 datagram shortest-path tree for a datagram whose) 85.54 149.33 T
(source is Network N7 \050e.g., from Host H5\051 and destination is Group Ma, Router R) 85.54 137.33 T
(T1) 414.34 137.33 T
(1 would initialize the candi-) 425.08 137.33 T
(date list using Case SourceInterArea2 while Router R) 85.54 125.33 T
(T9 would use Case SourceInterArea1. Likewise, if Area 3) 299.63 125.33 T
-0.35 (were con\336gured as an OSPF stub area and the datagram source was the external network N12, Router R) 85.54 113.33 P
-0.35 (T1) 494.96 113.33 P
-0.35 (1 would) 505.7 113.33 P
FMENDPAGE
%%EndPage: "44" 44
%%Page: "45" 45
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 45]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
-0.26 (use Case SourceStubExternal while Router R) 85.54 677.33 P
-0.26 (T9 would use Case SourceInterArea1! However) 265.02 677.33 P
-0.26 (, despite the possibil-) 455.77 677.33 P
(ity of routers selecting dif) 85.54 665.33 T
(ferent cases, all routers in an area will still initialize the candidate list \050and in fact, run) 188.68 665.33 T
(the rest of the SPF calculation\051 identically) 85.54 653.33 T
(.) 253.21 653.33 T
(3.) 72 635.33 T
1 F
(If the candidate list is empty) 85.54 635.33 T
(,) 205.82 635.33 T
(the algorithm terminates) 210.82 635.33 T
0 F
(.) 316.91 635.33 T
(4.) 72 617.33 T
1 F
-0.37 (Move the closest candidate vertex to the shortest-path tr) 85.54 617.33 P
-0.37 (ee.) 321.83 617.33 P
0 F
-0.37 ( Select the vertex on the candidate list that is closest) 333.2 617.33 P
(to SourceNet \050i.e., has the smallest Cost value\051. If there are multiple possibilities, select transit networks over) 85.54 605.33 T
(routers. If there are still multiple possibilities remaining, select the vertex having the highest V) 85.54 593.33 T
(ertex ID. Call the) 463.28 593.33 T
(chosen vertex V) 85.54 581.33 T
(ertex V) 149.41 581.33 T
(. Remove V) 177.83 581.33 T
(ertex V from the candidate list, and install it on the shortest-path tree.) 224.77 581.33 T
(Next, determine whether V) 85.54 565.33 T
(ertex V has been labelled with the Destination multicast Group G. If so, it may cause) 193.29 565.33 T
(the forwarding cache entry\325) 85.54 553.33 T
(s list of outgoing interfaces/neighbors to be updated. See Section 12.2.6 for details.) 195.78 553.33 T
(5.) 72 535.33 T
1 F
(Examine V) 85.54 535.33 T
(ertex V\325) 132.12 535.33 T
(s neighbors for possible inclusion in the candidate list.) 166.45 535.33 T
0 F
(Consider V) 398.71 535.33 T
(ertex V\325) 443.43 535.33 T
(s LSA. Each) 475.92 535.33 T
(link in the LSA describes a connection to a neighboring router/network. If the link connects to a stub network,) 85.54 523.33 T
(examine the next link in the LSA. Otherwise, the link \050Link L\051 connects to a neighboring transit node. Call this) 85.54 511.33 T
(node V) 85.54 499.33 T
(ertex W) 113.59 499.33 T
(. Perform the following steps on V) 144.6 499.33 T
(ertex W) 282.09 499.33 T
(:) 313.65 499.33 T
(a.) 85.54 481.33 T
-0.19 (If W is already on the shortest-path tree, or if W\325) 99.07 481.33 P
-0.19 (s LSA does not contain a link back to vertex V) 292.44 481.33 P
-0.19 (, or if W\325) 476.49 481.33 P
-0.19 (s LSA) 512.59 481.33 P
(has LS age of MaxAge, or if W is not multicast-capable \050indicated by the MC-bit in the LSA) 99.07 469.33 T
(\325) 469.58 469.33 T
(s Options \336eld\051,) 472.36 469.33 T
(examine the next link in V\325) 99.07 457.33 T
(s LSA.) 208.23 457.33 T
(b.) 85.54 439.33 T
(Otherwise determine the cost to associate with the link from V to W) 99.07 439.33 T
(. If SourceNet belongs to Area A \050Case) 370.89 439.33 T
(SourceIntraArea in Step 2\051, use the cost listed for Link L in V\325) 99.07 427.33 T
(s LSA. Otherwise, use the link\325) 349.31 427.33 T
(s reverse cost:) 474.58 427.33 T
-0.21 (Examine W\325) 99.07 415.33 P
-0.21 (s LSA, and \336nd the cost listed for the link connecting back to V) 149.13 415.33 P
-0.21 (. Actually) 400.12 415.33 P
-0.21 (, when V and W are both) 438.7 415.33 P
-0.22 (routers, there may be multiple links between them. In this case, use the smallest cost listed in W\325) 99.07 403.33 P
-0.22 (s LSA for any) 481.99 403.33 P
(of the links connecting back to V and having the same T) 99.07 391.33 T
(ype \050as speci\336ed in the Router) 324.17 391.33 T
(-LSA; must be either:) 445.34 391.33 T
(point-to-point connection or virtual link\051 as Link L) 99.07 379.33 T
0 8 Q
(23) 302.67 383.33 T
0 10 Q
(.) 310.67 379.33 T
(c.) 85.54 361.33 T
(Calculate the cost from SourceNet to W) 99.07 361.33 T
(, when using Link L. It is the sum of the cost of SourceNet to V \050i.e.,) 258.12 361.33 T
(V\325) 99.07 349.33 T
(s Cost parameter\051 plus the link cost calculated in Step 5b. Let this sum be Cost C. If W is not yet on the) 109.07 349.33 T
(candidate list, install W on the candidate list, modifying its parameters as speci\336ed below \050Step 5d\051.) 99.07 337.33 T
(Otherwise, W is on the candidate list already) 99.07 325.33 T
(. In this case, if:) 277.83 325.33 T
(\245) 99.07 307.33 T
(C is less than W\325) 112.61 307.33 T
(s current Cost, update W\325) 180.39 307.33 T
(s parameters on the candidate list as speci\336ed below \050Step 5d\051.) 282.32 307.33 T
(\245) 99.07 289.33 T
-0.1 (C is equal to W\325) 112.61 289.33 P
-0.1 (s current Cost, then the following tiebreakers are invoked. The type of Link L is compared) 177.21 289.33 P
(to W\325) 112.61 277.33 T
(s current) 135.11 277.33 T
1 F
(IncomingLinkT) 172.32 277.33 T
(ype,) 239.38 277.33 T
0 F
( and whichever link has the preferred type is chosen \050the preference) 256.88 277.33 T
(order of link types is listed in Section 12.1\325) 112.61 265.33 T
(s de\336nition of) 285.11 265.33 T
1 F
(IncomingLinkT) 343.17 265.33 T
(ype) 410.23 265.33 T
0 F
(\051. If the link types are the) 425.23 265.33 T
(same, then a link whose Parent is a transit network is preferred over one whose Parent is a router) 112.61 253.33 T
(. If the) 498.92 253.33 T
(links are still equivalent, the link whose Parent has the higher V) 112.61 241.33 T
(ertex ID is chosen. Whenever Link L is) 367.03 241.33 T
(chosen, W\325) 112.61 229.33 T
(s parameters are modi\336ed as below \050Step 5d\051. Whenever the previously discovered link is) 157.6 229.33 T
(chosen, the next link in V\325) 112.61 217.33 T
(s LSA is examined instead.) 218.16 217.33 T
(\245) 99.07 199.33 T
(C is greater than W\325) 112.61 199.33 T
(s current Cost, examine the next link in V\325) 193.15 199.33 T
(s LSA.) 362.86 199.33 T
(d.) 85.54 181.33 T
-0.25 (At this point, a better candidate path has been found to V) 99.07 181.33 P
-0.25 (ertex W) 323.5 181.33 P
-0.25 (, using Link L. Modify V) 354.26 181.33 P
-0.25 (ertex W\325) 453.28 181.33 P
-0.25 (s parameters) 487.74 181.33 P
(accordingly) 99.07 169.33 T
(. W\325) 145.63 169.33 T
(s) 162.85 169.33 T
1 F
(Par) 169.24 169.33 T
(ent) 184.61 169.33 T
0 F
( is set to V) 197.94 169.33 T
(ertex V) 239.61 169.33 T
(. W\325) 268.03 169.33 T
(s) 285.25 169.33 T
1 F
(IncomingLinkT) 291.64 169.33 T
(ype) 358.7 169.33 T
0 F
( is set to IL) 373.7 169.33 T
(V) 417.78 169.33 T
(irtual if Link L is a virtual) 424.4 169.33 T
(link, otherwise IncomingLinkT) 99.07 157.33 T
(ype is set to ILNormal. W\325) 223.64 157.33 T
(s) 330.85 157.33 T
1 F
(Cost) 337.24 157.33 T
0 F
( parameter is set to C. W\325) 356.68 157.33 T
(s TTL and) 458.61 157.33 T
(AssociatedInterface/Neighbor parameters are set according to one of the following cases:) 99.07 145.33 T
72 120 540 140.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 127.99 203.98 127.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(23.  No attempt is made to match the links\325 two halves. See Step 5d.) 72 114.67 T
FMENDPAGE
%%EndPage: "45" 45
%%Page: "46" 46
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 46]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(\245) 99.07 677.33 T
(V) 112.61 677.33 T
(ertex V is the calculating router itself. In this case, W\325) 118.72 677.33 T
(s) 334.79 677.33 T
1 F
( TTL) 338.68 677.33 T
0 F
( parameter is set to 1. If Link L is a virtual) 361.19 677.33 T
-0.23 (link, W\325) 112.61 665.33 P
-0.23 (s) 145.16 665.33 P
1 F
-0.23 (AssociatedInterface/Neighbor) 151.32 665.33 P
0 F
-0.23 ( is set to NULL. Otherwise, W\325) 278.52 665.33 P
-0.23 (s AssociatedInterface/Neighbor is) 402.67 665.33 P
(set to the non-virtual interface connecting the calculating router to W which has the smallest cost value.) 112.61 653.33 T
(Note that, in the reverse cost \050inter) 112.61 641.33 T
(-area and inter) 250.99 641.33 T
(-AS multicast\051 cases, this may not be the interface) 308.54 641.33 T
(corresponding to Link L. However) 112.61 629.33 T
(, since W is only concerned with the node it is receiving the datagram) 251.35 629.33 T
(from \050the) 112.61 617.33 T
1 F
(upstr) 152.6 617.33 T
(eam node) 175.2 617.33 T
0 F
(; see Section 1) 216.03 617.33 T
(1\051, and not with the particular interface the datagram is received) 273.71 617.33 T
(on, the calculating router is free to pick the sending interface when there are multiple connecting links.) 112.61 605.33 T
(\245) 99.07 587.33 T
(V) 112.61 587.33 T
(ertex V is upstream of the calculating router \050i.e., V\325) 118.72 587.33 T
(s AssociatedInterface/Neighbor is equal to NULL\051.) 328.12 587.33 T
(In this case, V) 112.61 575.33 T
(ertex W\325) 168.71 575.33 T
(s TTL parameter is set to 0, and its) 203.42 575.33 T
1 F
(AssociatedInterface/Neighbor) 345.07 575.33 T
0 F
( is set to NULL.) 472.27 575.33 T
(\245) 99.07 557.33 T
-0.19 (V is a transit network, and is directly downstream from the calculating router \050i.e., V\325) 112.61 557.33 P
-0.19 (s AssociatedInterface/) 451.61 557.33 P
-0.26 (Neighbor is non-NULL and V\325) 112.61 545.33 P
-0.26 (s TTL is set to 1\051. W is then one of the calculating router) 235.44 545.33 P
-0.26 (\325) 459.64 545.33 P
-0.26 (s neighbors. In this) 462.42 545.33 P
(case, W\325) 112.61 533.33 T
(s) 147.04 533.33 T
1 F
(TTL) 153.43 533.33 T
0 F
( parameter is also set to 1. If network V has been con\336gured for) 173.44 533.33 T
1 F
(data-link unicasting) 430.88 533.33 T
0 F
( \050see) 516.18 533.33 T
(Section B.2\051 or if V is a non-broadcast network,) 112.61 521.33 T
1 F
(W\325) 307.3 521.33 T
(s AssociatedInterface/Neighbor) 320.26 521.33 T
0 F
( is set to W itself \050a) 453.85 521.33 T
(neighbor of the calculating router\051. Otherwise, W\325) 112.61 509.33 T
(s AssociatedInterface/Neighbor is set to the calculating) 313.12 509.33 T
(router) 112.61 497.33 T
(\325) 136.86 497.33 T
(s interface to Network V) 139.64 497.33 T
(.) 237.21 497.33 T
(\245) 99.07 479.33 T
-0.21 (V) 112.61 479.33 P
-0.21 (ertex V is downstream from the calculating router \050i.e., V\325) 118.72 479.33 P
-0.21 (s AssociatedInterface/Neighbor is non-NULL\051,) 349.52 479.33 P
(and either a\051 V is a router or b\051 V\325) 112.61 467.33 T
(s TTL parameter is greater than 1. In these cases, W\325) 248.96 467.33 T
(s) 460.01 467.33 T
1 F
-0.33 (AssociatedInterface/Neighbor) 112.61 455.33 P
0 F
-0.33 ( parameter is copied directly from V) 239.81 455.33 P
-0.33 (. If V is a router) 382.06 455.33 P
-0.33 (, W\325) 443.88 455.33 P
-0.33 (s) 460.77 455.33 P
1 F
-0.33 (TTL) 466.83 455.33 P
0 F
-0.33 ( parameter is) 486.84 455.33 P
(set to V\325) 112.61 443.33 T
(s TTL parameter incremented by one. If V is a transit network, W\325) 146.5 443.33 T
(s TTL parameter is set directly) 412.55 443.33 T
(to V\325) 112.61 431.33 T
(s TTL parameter) 132.89 431.33 T
(.) 199.54 431.33 T
(6.) 72 395.33 T
1 F
(If the candidate list is non-empty) 85.54 395.33 T
(, go to Step 4.) 225.27 395.33 T
0 F
( Otherwise, the algorithm terminates.) 282.49 395.33 T
-0.09 (After the datagram shortest-path tree for Area A is complete, the calculating router \050R) 72 371.33 P
-0.09 (TX\051 must decide whether Area) 414.08 371.33 P
-0.14 (A, out of all of R) 72 359.33 P
-0.14 (TX\325) 139.03 359.33 P
-0.14 (s attached areas, determines the forwarding cache entry\325) 155.14 359.33 P
-0.14 (s) 378.52 359.33 P
1 F
-0.14 (upstr) 384.77 359.33 P
-0.14 (eam node) 407.37 359.33 P
0 F
-0.14 (. This determination is) 448.06 359.33 P
(described in Section 12.2.7.) 72 347.33 T
(Examples of the above SPF calculation, with particular emphasis on the tiebreaking rules, are given in Appendix C.) 72 323.33 T
1 12 Q
(12.2.1  Candidate list Initialization: Case Sour) 72 292 T
(ceIntraAr) 307.8 292 T
(ea) 358.9 292 T
0 10 Q
(In this case, SourceNet belongs to Area A. The candidate list is then initialized as follows. Start with the LSA listed) 72 267.33 T
(as Link State Origin in the matching OSPF routing table entry) 72 255.33 T
(. If this LSA is not multicast-capable \050i.e, its Options) 319.68 255.33 T
(\336eld has the MC-bit clear\051 the candidate list should be set to NULL. Otherwise, the vertex identi\336ed by the LSA is) 72 243.33 T
-0.13 (installed on the candidate list, setting its vertex parameters as follows: IncomingLinkT) 72 231.33 P
-0.13 (ype set to ILDirect, Cost set to) 415.93 231.33 P
(0, Parent to NULL and AssociatedInterface/Neighbor to NULL.) 72 219.33 T
(As a consequence of this initialization, note that if SourceNet is a stub network, then the datagram shortest-path tree) 72 195.33 T
(will not actually be rooted at the datagram source, but will instead be rooted at the MOSPF router that attaches the) 72 183.33 T
(stub network to the rest of the MOSPF system. For example, consider the network con\336guration shown in Figure 4.) 72 171.33 T
-0.27 (When calculating the Area 2 datagram shortest-path tree for a datagram whose source is Network N7 \050e.g., from Host) 72 159.33 P
-0.31 (H5\051 and destination is Group Ma, Router R) 72 147.33 P
-0.31 (T1) 242.55 147.33 P
-0.31 (1 \050and all other routers attached to Area 2\051 will begin with the candidate) 253.29 147.33 P
(list set to Router R) 72 135.33 T
(T8. As another example, the datagram shortest-path tree pictured in Figure 3 is really rooted at) 146.41 135.33 T
(Router R) 72 123.33 T
(T3 instead of Network N4.) 107.79 123.33 T
FMENDPAGE
%%EndPage: "46" 46
%%Page: "47" 47
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 47]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 12 Q
0 X
(12.2.2  Candidate list Initialization: Case Sour) 72 676 T
(ceInterAr) 307.8 676 T
(ea1) 358.22 676 T
0 10 Q
(In this case, SourceNet belongs to an OSPF area that is not directly attached to the calculating router \050R) 72 651.33 T
(TX\051. The) 486.06 651.33 T
-0.33 (candidate list is then initialized as follows. Examine the Area A summary-link-LSAs advertising SourceNet. For each) 72 639.33 P
-0.22 (such summary-link-LSA: if both a\051 the MC-bit is set in the LSA) 72 627.33 P
-0.22 (\325) 325.45 627.33 P
-0.22 (s Options \336eld and b\051 the advertised cost is not equal) 328.23 627.33 P
(to LSIn\336nity) 72 615.33 T
(, then the vertex representing the LSA) 122.75 615.33 T
(\325) 274.11 615.33 T
(s advertising area border router is added to the candidate list. An) 276.89 615.33 T
-0.19 (added vertex\325 state is initialized as: IncomingLinkT) 72 603.33 P
-0.19 (ype set to ILSummary) 276.81 603.33 P
-0.19 (, Cost to whatever is advertised in the LSA,) 364.76 603.33 P
(Parent to NULL and AssociatedInterface/Neighbor to NULL.) 72 591.33 T
(For example, consider the network con\336guration shown in Figure 4. When calculating the Area 1 datagram shortest-) 72 567.33 T
-0.02 (path tree for a datagram whose source is Network N7 \050e.g., from Host H5\051 and destination is Group Ma, Router R) 72 555.33 P
-0.02 (T2) 526.41 555.33 P
-0.04 (would initialize the candidate list to contain the two area border routers R) 72 543.33 P
-0.04 (T3 \050with a cost of 20\051 and R) 365.27 543.33 P
-0.04 (T4 \050with a cost) 477.4 543.33 P
(of 19\051. See Figure 6 for more details.) 72 531.33 T
1 12 Q
(12.2.3  Candidate list Initialization: Case Sour) 72 500 T
(ceInterAr) 307.8 500 T
(ea2) 358.22 500 T
0 10 Q
(In this case, SourceNet belongs to an OSPF area other than Area A, but one that is still directly attached to the) 72 475.33 T
(calculating router \050R) 72 463.33 T
(TX\051. The candidate list is then initialized in the following two steps:) 154.16 463.33 T
(1.) 72 445.33 T
(Find the Area A summary-link-LSA that best matches SourceNet, excluding those summary-link-LSAs) 85.54 445.33 T
(specifying cost LSIn\336nity or having unreachable Advertising Routers) 85.54 433.33 T
0 8 Q
(24) 364.12 437.33 T
0 10 Q
(. A matching summary-link-LSA is one) 372.12 433.33 T
(that advertises a range of addresses containing SourceNet; the best matching is as usual the most speci\336c match.) 85.54 421.33 T
(Let SourceRange be the network described by the best matching summary-link-LSA.) 85.54 409.33 T
(2.) 72 391.33 T
(Similar to the logic in the SourceInterArea1 case, examine all the Area A summary-link-LSAs which advertise) 85.54 391.33 T
(SourceRange. For each such summary-link-LSA: if both a\051 the MC-bit is set in the LSA) 85.54 379.33 T
(\325) 436.9 379.33 T
(s Options \336eld, b\051 the) 439.68 379.33 T
(advertised cost is not equal to LSIn\336nity and c\051 the Advertising Router is reachable, then the vertex representing) 85.54 367.33 T
(the LSA) 85.54 355.33 T
(\325) 118.04 355.33 T
(s Advertising Router is added to the candidate list. An added vertex\325 state is initialized as:) 120.82 355.33 T
(IncomingLinkT) 85.54 343.33 T
(ype set to ILSummary) 148.17 343.33 T
(, Cost to whatever is advertised in the LSA, Parent to NULL and) 236.68 343.33 T
(AssociatedInterface/Neighbor to NULL.) 85.54 331.33 T
(The reason why SourceRange is used, instead of simply using SourceNet \050as was done in case SourceInterArea1\051, is) 72 307.33 T
-0.19 (that routing information may have been collapsed at area boundaries. In order for Area A) 72 295.33 P
-0.19 (\325) 425.07 295.33 P
-0.19 (s area border routers and its) 427.85 295.33 P
(internal routers to construct the same Area A datagram shortest-path tree, they must both start at SourceRange \321) 72 283.33 T
-0.18 (Area A) 72 271.33 P
-0.18 (\325) 99.86 271.33 P
-0.18 (s internal routers know nothing about SourceNet. Note that SourceRange is not discovered simply by looking) 102.64 271.33 P
(at the calculating router) 72 259.33 T
(\325) 167.07 259.33 T
(s con\336gured set of area address ranges, in order to avoid dependence on the con\336gured area) 169.85 259.33 T
(address ranges being synchronized across all area border routers.) 72 247.33 T
(For example, consider the network con\336guration shown in Figure 4. When calculating the Area 2 datagram shortest-) 72 223.33 T
(path tree for a datagram whose source is Network N1) 72 211.33 T
(1 and destination is Group Ma, Router R) 285.18 211.33 T
(T1) 447.35 211.33 T
(1 would calculate) 458.09 211.33 T
(SourceRange to be the collection: Networks N9-N1) 72 199.33 T
(1 and Host H1. It would then initialize the candidate list to) 278.26 199.33 T
-0.05 (contain itself \050R) 72 187.33 P
-0.05 (T1) 135.75 187.33 P
-0.05 (1\051 only) 146.49 187.33 P
-0.05 (, with an associated Cost of 1 \050since R) 174.4 187.33 P
-0.05 (T1) 326.46 187.33 P
-0.05 (1 is advertising Networks N9-N1) 337.2 187.33 P
-0.05 (1 and Host H1 in) 469.4 187.33 P
(a summary-link-LSA with a cost of 1\051.) 72 175.33 T
72 120 540 140.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 127.99 203.98 127.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(24.  However) 72 114.67 T
(, a summary-link-LSA is eligible for matching even if the MC-bit in its Options \336eld is clear) 115 114.67 T
(.) 410.77 114.67 T
FMENDPAGE
%%EndPage: "47" 47
%%Page: "48" 48
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 48]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 12 Q
0 X
(12.2.4  Candidate list Initialization: Case Sour) 72 676 T
(ceExternal) 307.8 676 T
0 10 Q
(In this case, SourceNet is external to the OSPF routing domain, and Area A is not an OSPF stub area. The candidate) 72 651.33 T
(list is then initialized as follows. Note that an attempt may be made to add a V) 72 639.33 T
(ertex W to the candidate list when W) 383.92 639.33 T
(already belongs to the candidate list. When this happens, W\325) 72 627.33 T
(s vertex parameters are updated if the Cost parameter it) 313.91 627.33 T
(would be added with is better) 72 615.33 T
0 8 Q
(25) 190.04 619.33 T
0 10 Q
( \050closer to SourceNet\051 than its previous value. When the costs are the same, W\325) 198.04 615.33 T
(s) 514.64 615.33 T
(parameters are still modi\336ed if the IncomingLinkT) 72 603.33 T
(ype it would be added with is better \050see IncomingLinkT) 274.61 603.33 T
(ype\325) 501.38 603.33 T
(s) 518.6 603.33 T
(de\336nition in Section 12.1\051 than its previous value.) 72 591.33 T
(For each AS external-link-LSA advertising SourceNet, the following steps are performed:) 72 567.33 T
(\245) 72 549.33 T
(If the AS external-link-LSA) 85.54 549.33 T
(\325) 196.91 549.33 T
(s MC-bit is clear or if its advertising router is not reachable, then the AS external-) 199.69 549.33 T
(link-LSA is not used. AS external-link-LSAs having their MC-bit set and advertising a cost of LSIn\336nity can be) 85.54 537.33 T
(used; these LSAs describe paths that can be used for multicast, but not unicast, data traf) 85.54 525.33 T
(\336c \050see Section 1) 436.14 525.33 T
(1.2\051.) 504.37 525.33 T
(\245) 72 507.33 T
-0.37 (If the AS external-link-LSA) 85.54 507.33 P
-0.37 (\325) 195.79 507.33 P
-0.37 (s Forwarding address \336eld is 0.0.0.0, the following vertices are added to the candidate) 198.57 507.33 P
(list. If the Advertising AS boundary router \050call it ASBR\051 belongs to Area A, the vertex representing the AS) 85.54 495.33 T
(boundary router is added to the candidate list using parameters: IncomingLinkT) 85.54 483.33 T
(ype set to ILExternal, Cost to) 404.24 483.33 T
-0.25 (whatever is advertised in the LSA, Parent to NULL and AssociatedInterface/Neighbor to NULL. Then, regardless) 85.54 471.33 P
(of whether ASBR belongs to Area A, all Area A area border routers that are advertising reachable multicast-) 85.54 459.33 T
-0.04 (capable \050MC-bit set\051 type 4 summary-link-LSAs for ASBR are added to the candidate list. Each such area border) 85.54 447.33 P
(router is added with the parameters: IncomingLinkT) 85.54 435.33 T
(ype set to ILSummary) 294.25 435.33 T
(, Cost to the sum of whatever is) 382.76 435.33 T
(advertised in the type 4 summary-link-LSA plus the value in the original AS external-link-LSA, Parent to NULL) 85.54 423.33 T
(and AssociatedInterface/Neighbor to NULL.) 85.54 411.33 T
(\245) 72 393.33 T
(If the AS external-link-LSA) 85.54 393.33 T
(\325) 196.91 393.33 T
(s Forwarding address \336eld is non-zero, the Forwarding address is looked up in the) 199.69 393.33 T
(OSPF routing table. Then processing breaks into one of the following cases:) 85.54 381.33 T
(\245) 85.54 363.33 T
(The Forwarding address is not usable. In this case, nothing is added to the candidate list. The Forwarding) 99.07 363.33 T
(address is not usable if either it has no matching routing table entry) 99.07 351.33 T
(, or if the matching routing table entry is) 367.28 351.33 T
(neither of type intra-area nor of type inter) 99.07 339.33 T
(-area.) 265.21 339.33 T
(\245) 85.54 321.33 T
(The Forwarding address belongs to Area A) 99.07 321.33 T
0 8 Q
(26) 271.81 325.33 T
0 10 Q
(: the Forwarding address\325 matching routing table entry has Path-) 279.81 321.33 T
(type of intra-area and its Associated area is Area A. In this case, the vertex represented by the matching) 99.07 309.33 T
-0.19 (routing table entry\325) 99.07 297.33 P
-0.19 (s Link State Origin \336eld is added to the candidate list \050assuming that the vertex is multicast-) 175.34 297.33 P
-0.2 (capable\051. The vertex is added with the parameters: IncomingLinkT) 99.07 285.33 P
-0.2 (ype set to ILExternal, Cost to whatever was) 364.17 285.33 P
-0.1 (advertised in the original AS external-link-LSA, Parent to NULL and AssociatedInterface/Neighbor to NULL.) 99.07 273.33 P
(\245) 85.54 255.33 T
(The Forwarding address belongs to an area that is not attached to Router R) 99.07 255.33 T
(TX) 397.59 255.33 T
0 8 Q
(27) 410.92 259.33 T
0 10 Q
(: the Forwarding address\325) 418.92 255.33 T
-0.12 (matching routing table entry has Path-type of inter) 99.07 243.33 P
-0.12 (-area. Call the network represented by the matching routing) 299.98 243.33 P
(table entry ForwardNet. For each reachable multicast-capable summary-link-LSA \050in Area A\051 advertising) 99.07 231.33 T
(ForwardNet, add the LSA) 99.07 219.33 T
(\325) 201.83 219.33 T
(s advertising area border router to the candidate list using parameters:) 204.61 219.33 T
(IncomingLinkT) 99.07 207.33 T
(ype set to ILSummary) 161.7 207.33 T
(, Cost to the sum of whatever is advertised in the summary-link-LSA) 250.21 207.33 T
(plus the value in the original AS external-link-LSA, Parent to NULL and AssociatedInterface/Neighbor to) 99.07 195.33 T
(NULL.) 99.07 183.33 T
72 144 540 164.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 151.99 203.98 151.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(25.  Costs may have both a T) 72 138.67 T
(ype 2 and a T) 164.77 138.67 T
(ype 1 component; the T) 207.75 138.67 T
(ype 2 component is always most signi\336cant.) 283.18 138.67 T
(26.  This case mirrors the SourceIntraArea candidate list initialization in Section 12.2.1.) 72 126.67 T
(27.  This case mirrors the SourceInterArea1 candidate list initialization in Section 12.2.2.) 72 114.67 T
FMENDPAGE
%%EndPage: "48" 48
%%Page: "49" 49
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 49]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(\245) 85.54 677.33 T
(The Forwarding address belongs to another one of Router R) 99.07 677.33 T
(TX\325) 338.71 677.33 T
(s attached areas) 354.82 677.33 T
0 8 Q
(28) 417.57 681.33 T
0 10 Q
(: the Forwarding address\325) 425.57 677.33 T
(matching routing table entry has Path-type of intra-area and its associated Area is other than Area A. Call the) 99.07 665.33 T
-0.38 (network represented by the matching routing table entry ForwardNet. First \336nd the Area A summary-link-LSA) 99.07 653.33 P
(that best matches ForwardNet, excluding those summary-link-LSAs specifying cost LSIn\336nity or having) 99.07 641.33 T
-0.18 (unreachable Advertising Routers. Let ForwardRange be the network described by the best matching summary-) 99.07 629.33 P
(link-LSA. Then, for each reachable multicast-capable summary-link-LSA \050in Area A\051 advertising) 99.07 617.33 T
(ForwardRange, add the LSA) 99.07 605.33 T
(\325) 212.94 605.33 T
(s advertising area border router to the candidate list using parameters:) 215.72 605.33 T
(IncomingLinkT) 99.07 593.33 T
(ype set to ILSummary) 161.7 593.33 T
(, Cost to the sum of whatever is advertised in the summary-link-LSA) 250.21 593.33 T
(plus the value in the original AS external-link-LSA, Parent to NULL and AssociatedInterface/Neighbor to) 99.07 581.33 T
(NULL.) 99.07 569.33 T
(The above calculation can be restated as follows. Each of Area A) 72 545.33 T
(\325) 331.92 545.33 T
(s inter) 334.7 545.33 T
(-area multicast forwarders and inter) 359.22 545.33 T
(-AS) 501.75 545.33 T
(multicast forwarders are examined. Those that have multicast-capable paths to SourceNet \050represented as either a) 72 533.33 T
(multicast-capable AS external link or the concatenation of a T) 72 521.33 T
(ype 4 summary link and a multicast-capable AS) 319.86 521.33 T
(external link\051 are added to the candidate list as router vertices. \050It is possible that, when considering a router that is) 72 509.33 T
(both an inter) 72 497.33 T
(-area multicast forwarder and an inter) 122.35 497.33 T
(-AS multicast forwarder) 272.93 497.33 T
(, two equal cost paths exist to SourceNet,) 369.73 497.33 T
-0.14 (one an AS external link and the other a concatenation of a T) 72 485.33 P
-0.14 (ype 4 summary link and an AS external link. In this case,) 310.08 485.33 P
-0.07 (the concatenation of the T) 72 473.33 P
-0.07 (ype 4 summary link and the AS external link is preferred\051. The added vertex\325 state is set as) 175.45 473.33 P
-0.19 (follows: IncomingLinkT) 72 461.33 P
-0.19 (ype set to ILSummary if the path is represented as a concatenation of a T) 169.72 461.33 P
-0.19 (ype 4 summary link) 458.54 461.33 P
-0.17 (and an AS external link, IncomingLinkT) 72 449.33 P
-0.17 (ype set to ILExternal otherwise, Cost set to the cost of the shortest path from) 233.19 449.33 P
(vertex to SourceNet, Parent set to NULL and AssociatedInterface/Neighbor set to NULL.) 72 437.33 T
(For example, consider the network con\336guration shown in Figure 4. When calculating the Area 2 datagram shortest-) 72 413.33 T
(path tree for a datagram whose source is Network N14 and destination is Group Ma, the candidate list would be) 72 401.33 T
(initialized to the two routers R) 72 389.33 T
(T7 at a cost of 14 and R) 193.34 389.33 T
(T10 at a cost of 19. This assumes that the external costs) 288.56 389.33 T
(pictured in Figure 4 are external type 1s.) 72 377.33 T
1 12 Q
(12.2.5  Candidate list Initialization: Case Sour) 72 346 T
(ceStubExternal) 307.8 346 T
0 10 Q
(In this case, SourceNet is external to the OSPF routing domain, and Area A is an OSPF stub area. The candidate list) 72 321.33 T
(is then initialized similarly to case SourceInterArea1. The Area A summary-link-LSAs advertising) 72 309.33 T
(DefaultDestination are examined. For each such summary-link-LSA having both its MC-bit set and its advertised) 72 297.33 T
-0.21 (cost not equal to LSIn\336nity) 72 285.33 P
-0.21 (, the vertex representing the LSA) 179.95 285.33 P
-0.21 (\325) 310.52 285.33 P
-0.21 (s advertising area border router is added to the candidate) 313.3 285.33 P
(list. An added vertex\325 state is initialized as: IncomingLinkT) 72 273.33 T
(ype set to ILSummary) 309.89 273.33 T
(, Cost to whatever is advertised in) 398.4 273.33 T
(the LSA, Parent to NULL and AssociatedInterface/Neighbor to NULL.) 72 261.33 T
(The most likely outcome of the above is that all of stub Area A) 72 237.33 T
(\325) 323.36 237.33 T
(s inter) 326.14 237.33 T
(-area multicast forwarders will be installed on) 350.66 237.33 T
(the candidate list, with appropriate costs.) 72 225.33 T
1 12 Q
(12.2.6  Pr) 72 194 T
(ocessing labelled vertices) 120.44 194 T
0 10 Q
(When encountered during the SPF calculation, vertices labelled with the destination multicast group \050Group G\051 may) 72 169.33 T
(cause the forwarding cache entry\325) 72 157.33 T
(s list of downstream interfaces/neighbors to be modi\336ed. A V) 206.95 157.33 T
(ertex V in Area A is) 452.48 157.33 T
(labelled with Group G if and only if at least one of the following holds:) 72 145.33 T
72 120 540 140.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 127.99 203.98 127.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(28.  This case mirrors the SourceInterArea2 candidate list initialization in Section 12.2.3.) 72 114.67 T
FMENDPAGE
%%EndPage: "49" 49
%%Page: "50" 50
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 50]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(1.) 72 677.33 T
(V is a router) 85.54 677.33 T
(, and its router) 134.85 677.33 T
(-LSA indicates that it is a wild-card multicast receiver \050i.e., bit W in its router) 192.42 677.33 T
(-LSA is) 503.01 677.33 T
(set\051. This may be true when V is an inter) 85.54 665.33 T
(-area or inter) 248.09 665.33 T
(-AS multicast forwarder) 299.53 665.33 T
(.) 396.18 665.33 T
(2.) 72 647.33 T
(V is listed in the body of a group membership-LSA. In particular) 85.54 647.33 T
(, \336nd the originator of V) 345.11 647.33 T
(ertex V\325) 441.77 647.33 T
(s LSA; call it) 474.26 647.33 T
-0.11 (Router Y) 85.54 635.33 P
-0.11 (. Then \336nd the group-membership-LSA in Area A) 121.08 635.33 P
-0.11 (\325) 320.29 635.33 P
-0.11 (s link state database which has Link State ID = Group) 323.07 635.33 P
-0.06 (G and Advertising Router = Router Y \050see Section A.3\051. If this group-membership-LSA exists, and if V) 85.54 623.33 P
-0.06 (ertex V is) 498.8 623.33 P
(listed in the body of the LSA \050see Sections 10 and A.3\051, then V) 85.54 611.33 T
(ertex V is labelled with Group G.) 337.46 611.33 T
(When V) 72 587.33 T
(ertex V is added to the shortest-path tree in Step 4 of Section 12.2, and if V) 104.49 587.33 T
(ertex V is both downstream from) 404.45 587.33 T
(the calculating router \050i.e., V) 72 575.33 T
(ertex V\325) 186.14 575.33 T
(s) 218.63 575.33 T
1 F
(AssociatedInterface/Neighbor) 225.02 575.33 T
0 F
( is non-NULL\051 and labelled with Group G,) 352.22 575.33 T
(then V) 72 563.33 T
(ertex V\325) 97.83 563.33 T
(s AssociatedInterface/Neighbor is added to the forwarding cache entry\325) 130.32 563.33 T
(s) 415.24 563.33 T
1 F
(list of downstr) 421.63 563.33 T
(eam) 482.56 563.33 T
(interfaces/neighbors) 72 551.33 T
0 F
(. In addition, V) 158.66 551.33 T
(ertex V\325) 218.38 551.33 T
(s TTL value is attached to the added downstream interface/neighbor) 250.87 551.33 T
(. If) 522.76 551.33 T
(the particular interface/neighbor had already been added to the list of downstream interfaces/neighbors, the list is) 72 539.33 T
-0.22 (simply modi\336ed by setting the downstream interface/neighbor) 72 527.33 P
-0.22 (\325) 319.92 527.33 P
-0.22 (s TTL value to the minimum of its existing TTL value) 322.7 527.33 P
(and V) 72 515.33 T
(ertex V\325) 95.05 515.33 T
(s TTL value.) 127.54 515.33 T
1 12 Q
(12.2.7  Merging datagram shortest-path tr) 72 484 T
(ees) 288.08 484 T
0 10 Q
-0.09 (After the datagram shortest-path tree for Area A is complete, the calculating router \050R) 72 459.33 P
-0.09 (TX\051 must decide whether Area) 414.08 459.33 P
-0.35 (A, out of all of its attached areas, determines the forwarding cache entry\325) 72 447.33 P
-0.35 (s) 359.38 447.33 P
1 F
-0.35 (upstr) 365.42 447.33 P
-0.35 (eam node) 388.02 447.33 P
0 F
-0.35 (. This is done by examining) 428.5 447.33 P
(R) 72 435.33 T
(TX\325) 78.07 435.33 T
(s position on the Area A datagram shortest-path tree, which is in turn described by R) 94.18 435.33 T
(TX\325) 432.42 435.33 T
(s Area A V) 448.53 435.33 T
(ertex data) 492.68 435.33 T
(structure. If R) 72 423.33 T
(TX\325) 127.22 423.33 T
(s V) 143.33 423.33 T
(ertex parameter IncomingLinkT) 155.83 423.33 T
(ype is either ILNone \050R) 283.43 423.33 T
(TX is not on the tree\051, IL) 377.81 423.33 T
(V) 477.15 423.33 T
(irtual or) 483.77 423.33 T
(ILSummary) 72 411.33 T
(, then some area other than Area A will determine the upstream node. Otherwise, Area A might possibly) 119.68 411.33 T
(determine the upstream node \050i.e., may be selected the RootArea\051, depending on the following tiebreakers) 72 399.33 T
0 8 Q
(29) 495.8 403.33 T
0 10 Q
(:) 503.8 399.33 T
(\245) 72 381.33 T
-0.31 (If RootArea has not been set, then set RootArea to Area A. Otherwise, compare the present RootArea to Area A in) 85.54 381.33 P
(the following:) 85.54 369.33 T
(\245) 72 351.33 T
(Choose the area that is \322nearest to the source\323. Nearest to the source depends on each area\325) 85.54 351.33 T
(s candidate list) 449.04 351.33 T
(initialization case, as it occurs in Step 2 of Section 12.2. The initialization cases, listed in order of decreasing) 85.54 339.33 T
(preference \050or nearest to farthest\051 are: SourceIntraArea, SourceInterArea1, SourceExternal and) 85.54 327.33 T
(SourceStubExternal. Areas whose candidate list initialization falls into case SourceInterArea2 are never used as) 85.54 315.33 T
(the RootArea. As an example, consider the network con\336guration shown in Figure 4. When calculating the) 85.54 303.33 T
(datagram shortest-path tree for a datagram whose source is Network N7 \050e.g., from Host H5\051 and destination is) 85.54 291.33 T
(Group Ma, Router R) 85.54 279.33 T
(T1) 167.71 279.33 T
(1 would set its RootArea to Area 2 \050Case SourceIntraArea\051 instead of Area 3 \050Case) 178.45 279.33 T
(SourceInterArea2\051 or the backbone Area 0 \050Case SourceInterArea\051.) 85.54 267.33 T
(\245) 72 249.33 T
(If there are still two equally good areas, and one of them is the backbone, set RootArea to the backbone \050Area 0\051.) 85.54 249.33 T
(\245) 72 231.33 T
(If there are still two equally good areas, set RootArea to the area whose datagram shortest-path tree provides the) 85.54 231.33 T
(shortest path from SourceNet to R) 85.54 219.33 T
(TX. This is a comparison of R) 221.87 219.33 T
(TX\325) 342.65 219.33 T
(s V) 358.76 219.33 T
(ertex parameter Cost in the two areas.) 371.26 219.33 T
(\245) 72 201.33 T
(If there are still two equally good areas, set RootArea to one with the highest OSPF Area ID.) 85.54 201.33 T
-0.05 (If the above has set the RootArea to be Area A, the forwarding cache entry\325) 72 177.33 P
-0.05 (s upstream node must be set accordingly) 373.77 177.33 P
-0.05 (.) 535.04 177.33 P
(This setting depends on the IncomingLinkT) 72 165.33 T
(ype in R) 246.57 165.33 T
(TX\325) 279.86 165.33 T
(s Area A V) 295.97 165.33 T
(ertex structure. If IncomingLinkT) 340.12 165.33 T
(ype is equal to) 474.39 165.33 T
72 138 540 158.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 145.99 203.98 145.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
-0.13 (29.  Note that selecting the upstream node in this manner enforces the inter) 72 132.67 P
-0.13 (-area routing architecture outlined in Section 3.1. Namely) 310.09 132.67 P
-0.13 (, the multicast) 493.28 132.67 P
(datagram is forwarded from the source area, over the backbone and then into the non-backbone areas. This is similar to the \322hub and spoke\323) 72 123.67 T
(architecture for unicast forwarding described in Section 3.2 of [OSPF].) 72 114.67 T
FMENDPAGE
%%EndPage: "50" 50
%%Page: "51" 51
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 51]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(ILDirect, the upstream node is set to the appropriate directly-connected stub network. If equal to ILNormal, the) 72 677.33 T
-0.24 (upstream node is set to the Parent \336eld in R) 72 665.33 P
-0.24 (TX\325) 243.43 665.33 P
-0.24 (s Area A V) 259.54 665.33 P
-0.24 (ertex structure. If equal to ILExternal, the upstream node is) 302.98 665.33 P
(set to the placeholder EXTERNAL.) 72 653.33 T
1 12 Q
(12.2.8  T) 72 622 T
(OS considerations) 115.79 622 T
0 10 Q
(The previous sections 12.2 through 12.2.7 described the construction of a T) 72 597.33 T
(OS 0 \050default T) 374 597.33 T
(OS\051 datagram shortest-) 436.31 597.33 T
(path tree. However) 72 585.33 T
(, in a T) 147.96 585.33 T
(OS-capable router) 176.11 585.33 T
(, a separate tree may be built for each T) 248.74 585.33 T
(OS. If a T) 406.84 585.33 T
(OS-capable router) 446.65 585.33 T
(receives a multicast datagram that speci\336es a non-zero T) 72 573.33 T
(OS X, it \336rst builds the T) 298.43 573.33 T
(OS 0 datagram shortest-path tree.) 399.65 573.33 T
(Then, if all the routers on the pruned tree are T) 72 561.33 T
(OS-capable, a separate T) 259.27 561.33 T
(OS X datagram shortest-path tree is) 359.05 561.33 T
(calculated) 72 549.33 T
0 8 Q
(30) 112.54 553.33 T
0 10 Q
(. Otherwise, the T) 120.54 549.33 T
(OS 0 tree is used for all datagrams, regardless of their speci\336ed T) 192.29 549.33 T
(OS.) 454 549.33 T
(T) 72 525.33 T
(o determine whether there are any T) 77.41 525.33 T
(OS-incapable routers on the pruned T) 222.18 525.33 T
(OS 0 tree, the following additions are) 372.8 525.33 T
(made to Section 12.2\325) 72 513.33 T
(s tree calculation:) 159.22 513.33 T
(\245) 72 495.33 T
(A new piece of state information is added to each vertex:) 85.54 495.33 T
1 F
( T) 313.82 495.33 T
(OS-capable path) 322.81 495.33 T
0 F
(. This indicates whether the present) 394.21 495.33 T
(path from SourceNet to vertex, as represented on the datagram shortest-path tree, contains only T) 85.54 483.33 T
(OS-capable) 474.72 483.33 T
(routers.) 85.54 471.33 T
(\245) 72 453.33 T
(The) 85.54 453.33 T
1 F
(T) 103.59 453.33 T
(OS-capable path) 110.08 453.33 T
0 F
( parameter is calculated when the vertex is \336rst added to the candidate list and) 181.48 453.33 T
-0.04 (recalculated when/if the vertex\325 position on the candidate list is modi\336ed \050see Section 12.2\325) 85.54 441.33 P
-0.04 (s Step 2 and Step 5d\051.) 450.52 441.33 P
(The parameter is set to TRUE if both the vertex itself is T) 85.54 429.33 T
(OS-capable and the vertex\325 parent has its T) 316.44 429.33 T
(OS-capable) 489.27 429.33 T
(path parameter set to TRUE; otherwise, T) 85.54 417.33 T
(OS-capable path is set to F) 252.83 417.33 T
(ALSE.) 359.58 417.33 T
(\245) 72 399.33 T
(All routers on the T) 85.54 399.33 T
(OS 0 datagram shortest-path tree are T) 164.24 399.33 T
(OS-capable if and only if, whenever a vertex labelled) 319.02 399.33 T
(with Group G is added to the shortest-path tree \050Section 12.2.6\051, the value of the vertex\325 T) 85.54 387.33 T
(OS-capable path) 446.13 387.33 T
(parameter is TRUE.) 85.54 375.33 T
(The source of the multicast datagram is always located using a T) 72 351.33 T
(OS 0 routing table lookup, regardless of the) 330.94 351.33 T
(datagram\325) 72 339.33 T
(s T) 111.99 339.33 T
(OS classi\336cation \050see Section 1) 124.31 339.33 T
(1.2\051. If the calculating router is not capable of T) 250.04 339.33 T
(OS-based routing, it) 441.76 339.33 T
(calculates only T) 72 327.33 T
(OS 0 datagram shortest-path trees, and uses them to route datagrams independent of T) 140.14 327.33 T
(OS value.) 484.9 327.33 T
(Otherwise, when calculating the T) 72 315.33 T
(OS X datagram shortest-path tree, the algorithm in Section 12.2 is used, with the) 209.29 315.33 T
(modi\336cations listed below) 72 303.33 T
(.) 176.91 303.33 T
(\245) 72 285.33 T
(When calculating RangeNet and ForwardRange in Sections 12.2.3 and 12.2.4 respectively) 85.54 285.33 T
(, only summary-link-) 445.94 285.33 T
(LSAs having T) 85.54 273.33 T
(OS 0 cost of LSIn\336nity are excluded \050no change from the T) 146.47 273.33 T
(OS 0 case\051. However) 384.86 273.33 T
(, when adding) 469.43 273.33 T
(vertices to the candidate list in Sections 12.2.2 through 12.2.5, the T) 85.54 261.33 T
(OS X cost of the summary links and/or AS) 358.12 261.33 T
(external links \050and not the T) 85.54 249.33 T
(OS 0 cost\051 are re\337ected in the added vertices\325 Cost parameter) 198.4 249.33 T
(.) 443.34 249.33 T
(\245) 72 231.33 T
(In Step 5 of Section 12.2, the T) 85.54 231.33 T
(OS X cost of Link L \050in the appropriate direction\051 is used, not the T) 210.63 231.33 T
(OS 0 cost.) 481.25 231.33 T
(\245) 72 213.33 T
(Non-T) 85.54 213.33 T
(OS-routers are not added to the candidate list, and are thus excluded from the trees.) 112.02 213.33 T
72 156 540 176.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 163.99 203.98 163.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(30.  This procedure seems backwards. One would expect that the T) 72 150.67 T
(OS X datagram tree would be built \336rst. However) 286.7 150.67 T
(, the SPF calculation must) 446.13 150.67 T
(ensure that all routers participating in the forwarding of that datagram, both T) 72 141.67 T
(OS-capable and non-T) 320.48 141.67 T
(OS-capable, build the same tree. Since it is) 392.76 141.67 T
-0.07 (known that the non-T) 72 132.67 P
-0.07 (OS-capable routers will use the T) 140.75 132.67 P
-0.07 (OS 0 tree, the only safe way to use the T) 247.58 132.67 P
-0.07 (OS X tree is when you are guaranteed that the non-) 376.73 132.67 P
(T) 72 123.67 T
(OS-capable routers will decline to forward the datagram. This guarantee is clearly met when there are only T) 76.74 123.67 T
(OS-capable routers on the T) 425.4 123.67 T
(OS 0) 515.46 123.67 T
(datagram tree.) 72 114.67 T
FMENDPAGE
%%EndPage: "51" 51
%%Page: "52" 52
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 52]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 12 Q
0 X
(12.2.9  Comparison to the unicast SPF calculation) 72 676 T
0 10 Q
-0.31 (There are many similarities between the construction of a multicast datagram\325) 72 651.33 P
-0.31 (s shortest-path trees in Section 12.2 and) 380.52 651.33 P
-0.19 (OSPF\325) 72 639.33 P
-0.19 (s intra-area route calculation for unicast traf) 98.68 639.33 P
-0.19 (\336c \050Section 16.1 of [OSPF]\051. Both have been described in terms of) 272.86 639.33 P
(Dijkstra\325) 72 627.33 T
(s algorithm. However) 107 627.33 T
(, there are some dif) 193.53 627.33 T
(ferences. The major dif) 270.27 627.33 T
(ferences are listed below:) 363.39 627.33 T
(\245) 72 609.33 T
(In the multicast case, the datagram SPF calculation is rooted at the datagram\325) 85.54 609.33 T
(s source. In the unicast case, each) 394.11 609.33 T
(router is the root of its own unicast intra-area SPF calculation.) 85.54 597.33 T
(\245) 72 579.33 T
-0.12 (In the multicast case, the datagram shortest-path tree is a true tree; i.e., between any two nodes on the tree there is) 85.54 579.33 P
-0.02 (one path. However) 85.54 567.33 P
-0.02 (, due to the provision for equal-cost multipath in [OSPF], the unicast SPF calculation may add) 160.9 567.33 P
(additional links to the shortest-path tree.) 85.54 555.33 T
(\245) 72 537.33 T
-0.26 (In order to avoid unwanted replication of multicast datagrams, MOSPF ensures that, for any given datagram, each) 85.54 537.33 P
(router builds the exact same datagram shortest-path tree. This forces two dif) 85.54 525.33 T
(ferences from the unicast SPF) 389.74 525.33 T
(calculation. First, it eliminates the possibility of equal-cost multipath. Secondly) 85.54 513.33 T
(, when the MOSPF system) 402.67 513.33 T
-0.37 (contains multiple alternate paths, the algorithm must ensure that each MOSPF router deterministically chooses the) 85.54 501.33 P
(same alternative. For this reason, tie-breaking mechanisms have been speci\336ed in Steps 2, 4 and 5b of Section) 85.54 489.33 T
(12.2.) 85.54 477.33 T
(\245) 72 459.33 T
(The calculation of datagram shortest path trees takes into account only those links that connect transit nodes \050i.e,) 85.54 459.33 T
(router to router or router to transit network links\051. The unicast SPF calculation in Section 16.1 of [OSPF] must) 85.54 447.33 T
(additionally examine links to stub networks, although this is done after all the transit links are examined.) 85.54 435.33 T
(\245) 72 417.33 T
(While both the multicast and unicast trees select shortest paths on the basis of the OSPF metric, the datagram) 85.54 417.33 T
(shortest-path trees also keep track of the TTL values between the root \050datagram source\051 and all destinations) 85.54 405.33 T
(\050group members\051. This enables more ef) 85.54 393.33 T
(\336cient implementation of IP multicast\325) 243.1 393.33 T
(s \322expanding ring search\323 \050see) 397.55 393.33 T
(Section 2.3.4\051.) 85.54 381.33 T
(\245) 72 363.33 T
-0.02 (In the multicast case, the algorithm is sometimes forced to use the link state cost for the reverse direction \050i.e, the) 85.54 363.33 P
(cost towards, instead of away from, the source\051. This is because the costs of OSPF summary-link-LSAs and AS) 85.54 351.33 T
(external-link-LSAs, which sometime form the base of the multicast datagram shortest-path trees, are speci\336ed in) 85.54 339.33 T
(the reverse direction \050from the multicast perspective\051.) 85.54 327.33 T
(\245) 72 309.33 T
(There are potentially many more datagram shortest-path trees that need to be calculated \050one for each source net,) 85.54 309.33 T
(destination group and T) 85.54 297.33 T
(OS combination\051, than the limited number of unicast SPF trees \050one per each T) 180.63 297.33 T
(OS\051. This) 497.08 297.33 T
-0.02 (is the main reason that the datagram shortest-path trees are calculated on demand; it is hoped that this will spread) 85.54 285.33 P
(the cost of the SPF calculations over time) 85.54 273.33 T
0 8 Q
(31) 251.92 277.33 T
0 10 Q
(.) 259.92 273.33 T
(\245) 72 255.33 T
(The way that the two algorithms handle T) 85.54 255.33 T
(OS is dif) 252.84 255.33 T
(ferent. In the multicast case, if a T) 288.22 255.33 T
(OS-incapable node is) 424.95 255.33 T
(encountered during the calculation of the T) 85.54 243.33 T
(OS 0 datagram shortest-path tree, the T) 258.1 243.33 T
(OS 0 datagram shortest-path) 415.39 243.33 T
(tree is used instead of trying to build the T) 85.54 231.33 T
(OS X tree \050see Section 12.2.8\051. In the unicast case, the T) 255.07 231.33 T
(OS X tree is) 481.23 231.33 T
(always used, only falling back on the T) 85.54 219.33 T
(OS 0 paths when a T) 242.56 219.33 T
(OS X path does not exist.) 325.98 219.33 T
72 129 540 149.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 136.99 203.98 136.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(31.  Indeed, there will also be those cases where the router) 72 123.67 T
(, not being on a particular datagram shortest-path tree, will never have to calculate the) 258.52 123.67 T
(particular tree, since the router will not receive the datagram in the \336rst place.) 72 114.67 T
FMENDPAGE
%%EndPage: "52" 52
%%Page: "53" 53
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 53]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 12 Q
0 X
(12.3  Adding local database entries to the forwarding cache) 72 676 T
0 10 Q
(After the datagram shortest-path trees have been built for each attached area, the forwarding cache has an upstream) 72 651.33 T
-0.08 (node and a list of downstream interfaces. In order to ensure the delivery of the multicast datagram to group members) 72 639.33 P
-0.35 (on directly attached networks, the local group database \050Section 8.4\051 must then be scanned for possible addition to the) 72 627.33 P
(list of downstream interfaces. All local group database entries having Group G as MulticastGroup are examined.) 72 615.33 T
-0.1 (Suppose [Group G, Network N] is one such entry) 72 603.33 P
-0.1 (. If the calculating router \050R) 268.56 603.33 P
-0.1 (TX\051 is Network N\325) 379.09 603.33 P
-0.1 (s Designated Router) 454.6 603.33 P
-0.1 (,) 535.1 603.33 P
(then R) 72 591.33 T
(TX\325) 97.79 591.33 T
(s Network N interface is added to the list of outgoing interfaces, with a TTL of 1. If the Network N) 113.9 591.33 T
(interface was already present in the list of outgoing interfaces, its TTL is simply set to 1.) 72 579.33 T
(For example, consider the network con\336guration shown in Figure 4 when calculating the forwarding cache entry for) 72 555.33 T
(a datagram whose source is Network N4 \050e.g., from Host H2\051 and destination is Group Mb. After calculating the) 72 543.33 T
(datagram shortest-path tree for Area 1, Router R) 72 531.33 T
(T2 would have set it upstream node to Network N3 and its list of) 265.24 531.33 T
(downstream interfaces to NULL. But then looking at its local group database, it would add its Network N2 interface) 72 519.33 T
(with a TTL of 1 to its list of downstream interfaces.) 72 507.33 T
1 14 Q
(13  Maintaining the forwarding cache) 72 468.67 T
0 10 Q
(A MOSPF router may) 72 443.33 T
(, for resource reasons, limit the size of its forwarding cache. At any time cache entries can be) 159.96 443.33 T
(pur) 72 431.33 T
(ged to make room for newer entries, since the pur) 85.15 431.33 T
(ged entries can always be rebuilt when necessary) 283.81 431.33 T
(. This memo) 479.49 431.33 T
(does not specify an algorithm to select which entries to pur) 72 419.33 T
(ge. However) 307.9 419.33 T
(, care should be taken to ensure that any) 358.59 419.33 T
(particular entry is not continually rebuilt and then pur) 72 407.33 T
(ged again \050i.e., thrashing should be avoided\051.) 286.24 407.33 T
-0.05 (The building of the forwarding cache has been previously described in Section 12. There are events that force one or) 72 383.33 P
-0.18 (more forwarding cache entries to be deleted; these events are described below) 72 371.33 P
-0.18 (. Note that deleted cache entries will be) 381.21 371.33 P
(rebuilt on an as-needed basis.) 72 359.33 T
(\245) 72 341.33 T
(When the internal topology of the MOSPF system changes,) 85.54 341.33 T
2 F
(all) 326.08 341.33 T
0 F
( forwarding cache entries must be deleted. This is) 336.64 341.33 T
(because internal topology changes may invalidate the previously calculated datagram shortest-path trees. Since) 85.54 329.33 T
(the multicast routing calculation depends on the result of the unicast routing calculations, the forwarding cache) 85.54 317.33 T
-0.02 (should be cleared) 85.54 305.33 P
2 F
-0.02 (after) 157.94 305.33 P
0 F
-0.02 ( the unicast routing table is rebuilt. Internal topology changes are indicated when both a\051 a) 176.83 305.33 P
(new instance of either a router) 85.54 293.33 T
(-LSA or a network-LSA is received and b\051 the contents of the new advertisement) 206.69 293.33 T
(\050other than the LS age, LS sequence number and LS checksum \336elds\051 are dif) 85.54 281.33 T
(ferent from the previous instance.) 392.52 281.33 T
(This covers routers and links going up or down, routers that change from being multicast-incapable to being) 85.54 269.33 T
(multicast-capable, etc.) 85.54 257.33 T
(\245) 72 239.33 T
(When a T) 85.54 239.33 T
(ype 3 summary-link-LSA \050network summary\051 changes, those forwarding cache entries specifying) 124.27 239.33 T
(datagram sources belonging to the range of addresses described by the updated summary-link-LSA must be) 85.54 227.33 T
(deleted. See Sections 12.2.3 and 12.2.5.) 85.54 215.33 T
(\245) 72 197.33 T
(Suppose that the content of an AS external-link-LSA changes. If the AS external-link-LSA describes an external) 85.54 197.33 T
(network N, then all forwarding cache entries specifying an external source network that is contained in N or that) 85.54 185.33 T
(contains N \050i.e., external sources that are a subset or a superset of N\051 must be deleted.) 85.54 173.33 T
(\245) 72 155.33 T
(When membership in a multicast group changes, all forwarding cache entries for the particular group must be) 85.54 155.33 T
(deleted. Group membership changes are indicated when either a\051 the content of a group-membership-LSA) 85.54 143.33 T
(changes or b\051 an entry in the local group database \050see Section 8.4\051 changes.) 85.54 131.33 T
FMENDPAGE
%%EndPage: "53" 53
%%Page: "54" 54
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 54]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(\245) 72 677.33 T
(When the cost to an AS boundary router or to a forwarding address speci\336ed by one or more AS external-link-) 85.54 677.33 T
-0.34 (LSAs changes, all forwarding cache entries specifying an external network as datagram source must be deleted. In) 85.54 665.33 P
(this case, potentially all inter) 85.54 653.33 T
(-AS datagram shortest-path trees have been invalidated. The forwarding cache) 200.61 653.33 T
(entries should be deleted after the new best cost to the AS boundary router/forwarding address has been) 85.54 641.33 T
(calculated.) 85.54 629.33 T
1 14 Q
(14  Other additions to the OSPF speci\336cation) 72 590.67 T
0 10 Q
-0.26 (MOSPF requires some modi\336cations to the base OSPF protocol. All these modi\336cations are backward-compatible. A) 72 565.33 P
(router running MOSPF will still interoperate with an OSPF router when forwarding unicast traf) 72 553.33 T
(\336c. Most of the) 453.73 553.33 T
(modi\336cations have been described earlier in this document. This section collects together those changes which have) 72 541.33 T
(yet to be mentioned, or) 72 529.33 T
(ganizing them by the af) 164.31 529.33 T
(fected Section of [OSPF].) 258.56 529.33 T
1 12 Q
(14.1  The Designated Router) 72 498 T
0 10 Q
-0.3 (This functionality is described in Section 7.3 of [OSPF]. In OSPF) 72 473.33 P
-0.3 (, a network\325) 331.02 473.33 P
-0.3 (s Designated Router has two specialized) 377.92 473.33 P
-0.25 (roles. First, it originates the network\325) 72 461.33 P
-0.25 (s network-LSA. Second, it controls the \337ooding on the network, in that all of the) 218.79 461.33 P
(routers on the network synchronize with the Designated Router \050and the Backup Designated Router\051 only) 72 449.33 T
(. For these) 493.5 449.33 T
(reasons) 72 437.33 T
0 8 Q
(32) 101.99 441.33 T
0 10 Q
(, when one or more of the network\325) 109.99 437.33 T
(s routers are running MOSPF) 251.07 437.33 T
(, the Designated Router should be running) 368.04 437.33 T
(MOSPF also. This can be ensured by assigning all non-multicast routers the Router Priority of 0.) 72 425.33 T
(In MOSPF) 72 401.33 T
(, the Designated Router also has the additional responsibility of monitoring the network\325) 114.82 401.33 T
(s multicast group) 468.41 401.33 T
(membership. This is done by periodically sending Host Membership Queries, and receiving Host Membership) 72 389.33 T
-0.1 (Reports in response \050see Section 9\051. This is yet another reason why the Designated Router must be multicast-capable.) 72 377.33 P
1 12 Q
(14.2  Sending Hello packets) 72 346 T
0 10 Q
(This functionality is described in Section 9.5 of [OSPF]. A MOSPF router sets the MC-bit in the Options \336eld of its) 72 321.33 T
(Hello packets. This indicates that the router is multicast-capable; it does not necessarily indicate the state of the) 72 309.33 T
(sending interface\325) 72 297.33 T
(s) 143.37 297.33 T
1 F
(IPMulticastForwarding) 149.76 297.33 T
0 F
( parameter \050see Section B.2\051. Setting the MC-bit in Hellos is done) 251.42 297.33 T
(strictly for informational purposes. Neighbors receiving the router) 72 285.33 T
(\325) 336.77 285.33 T
(s Hello packets do not act on the state of the MC-) 339.55 285.33 T
(bit. A neighbor) 72 273.33 T
(\325) 133.2 273.33 T
(s multicast-capability is learned instead during the Database Exchange Process \050see Section 14.4\051.) 135.98 273.33 T
1 12 Q
(14.3  The Neighbor state machine) 72 242 T
0 10 Q
(This functionality is described in Section 10.3 of [OSPF]. When a neighbor enters state) 72 217.33 T
1 F
(Exchange) 423.63 217.33 T
0 F
(, the neighbor) 465.3 217.33 T
1 F
(Database summary list) 72 205.33 T
0 F
( is initialized \050see the OSPF neighbor FSM entry for State: ExStart and Event:) 169.77 205.33 T
(NegotiationDone\051. This list describes of the portion of the router) 72 193.33 T
(\325) 330.67 193.33 T
(s link state database that needs to be synchronized) 333.45 193.33 T
(with the neighbor) 72 181.33 T
(. Group-membership-LSAs are included in the neighbor Database summary list if and only if the) 142 181.33 T
72 138 540 158.09 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 145.99 203.98 145.99 2 L
0.25 H
2 Z
0 X
0 0 0 1 0 0 0 K
N
0 0 612 792 C
0 8 Q
0 X
0 0 0 1 0 0 0 K
(32.  Group-membership-LSAs are not processed by non-multicast routers \050see Section 10.2\051. Also, if the Designated Router was not running the) 72 132.67 T
(multicast extensions, multicast datagrams would not be forwarded over the network because its network-LSA would have its MC-bit clear \050see) 72 123.67 T
(Step 5a in Section 12.2\051.) 72 114.67 T
FMENDPAGE
%%EndPage: "54" 54
%%Page: "55" 55
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 55]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(neighbor is multicast-capable. The neighbor) 72 677.33 T
(\325) 248.73 677.33 T
(s multicast capability is learned by examining the neighbor) 251.51 677.33 T
(\325) 487.97 677.33 T
(s Database) 490.75 677.33 T
(Description packets \050see Section 14.4\051.) 72 665.33 T
1 12 Q
(14.4  Receiving Database Description packets) 72 634 T
0 10 Q
(This functionality is described in Section 10.6 of [OSPF]. A neighbor) 72 609.33 T
(\325) 350.69 609.33 T
(s multicast-capability is learned through) 353.47 609.33 T
(received Database Description packets. When the Database Description packet is received that transitions the) 72 597.33 T
-0.26 (neighbor from ExStart to Exchange, the state of the MC-bit in the packet\325) 72 585.33 P
-0.26 (s Options \336eld is examined. The neighbor is) 362.96 585.33 P
(multicast-capable if and only if the MC-bit is set.) 72 573.33 T
(The neighbor) 72 549.33 T
(\325) 125.97 549.33 T
(s multicast capability controls whether group-membership-LSAs are summarized to the neighbor) 128.75 549.33 T
(during the Database Exchange process \050see Section 14.3\051, and whether group-membership-LSAs are \337ooded to the) 72 537.33 T
(neighbor during the \337ooding process \050see Section 10.2\051.) 72 525.33 T
1 12 Q
(14.5  Sending Database Description packets) 72 494 T
0 10 Q
-0.14 (This functionality is described in Section 10.8 of [OSPF]. A MOSPF router sets the MC-bit in the Options \336eld of its) 72 469.33 P
-0.08 (Database Description packets. This indicates to its adjacent neighbors that the router is multicast-capable; it does not) 72 457.33 P
(necessarily indicate the state of the sending interface\325) 72 445.33 T
(s) 285.56 445.33 T
1 F
(IPMulticastForwarding) 291.95 445.33 T
0 F
( parameter \050see Section B.2\051.) 393.61 445.33 T
-0.2 (When a router goes from being multicast-capable to multicast-incapable, or vice-versa, it must indicate this fact to its) 72 421.33 P
-0.34 (adjacent neighbors by restarting the Database Description process \050i.e., rolling back the state of all adjacent neighbors) 72 409.33 P
(to Exstart\051.) 72 397.33 T
1 12 Q
(14.6  Originating Router) 72 366 T
(-LSAs) 197.56 366 T
0 10 Q
(This functionality is described in Section 12.4.1 of [OSPF]. A MOSPF router sets the MC-bit in the Options \336eld of) 72 341.33 T
(its router) 72 329.33 T
(-LSA. This allows the router to be included in datagram shortest-path trees \050see Step 5a of Section 12.2\051.) 107.63 329.33 T
(In addition, MOSPF has introduced a new \337ag in the router) 72 305.33 T
(-LSA) 309.28 305.33 T
(\325) 330.39 305.33 T
(s) 333.17 305.33 T
1 F
(rtype) 339.56 305.33 T
0 F
( \336eld: the) 362.33 305.33 T
1 F
(W) 402.61 305.33 T
(-bit) 412.24 305.33 T
0 F
(. When the W) 427.24 305.33 T
(-bit is set, the) 482.23 305.33 T
-0.35 (router is included on all datagram shortest-path trees, regardless of multicast group \050see Section 12.2.6\051. Such a router) 72 293.33 P
(is called a wild-card multicast receiver) 72 281.33 T
(. The router sets the W) 226.13 281.33 T
(-bit when it wishes to receive all multicast datagrams,) 316.67 281.33 T
(regardless of destination. This will sometimes be true of inter) 72 269.33 T
(-area multicast forwarders \050see Section 3.1\051, and inter) 317.33 269.33 T
(-) 531.79 269.33 T
(AS multicast forwarders \050see Section 4\051.) 72 257.33 T
(A router must originate a new instance of its router) 72 233.33 T
(-LSA whenever an event occurs that would invalidate the LSA) 275.93 233.33 T
(\325) 526.16 233.33 T
(s) 528.94 233.33 T
(current contents. In particular) 72 221.33 T
(, if the router) 189.9 221.33 T
(\325) 242.48 221.33 T
(s multicast capability or its ability to function as either an inter) 245.26 221.33 T
(-area or) 495.88 221.33 T
(inter) 72 209.33 T
(-AS multicast forwarder changes, its router) 90.13 209.33 T
(-LSA must be reoriginated.) 262.67 209.33 T
1 12 Q
(14.7  Originating Network-LSAs) 72 178 T
0 10 Q
(This functionality is described in Section 12.4.2 of [OSPF]. In OSPF) 72 153.33 T
(, a transit network\325) 346.48 153.33 T
(s network-LSA is originated) 421.47 153.33 T
-0.12 (by the network\325) 72 141.33 P
-0.12 (s Designated Router) 134.52 141.33 P
-0.12 (. The Designated Router sets the MC-bit in the Options \336eld of the network-LSA) 214.82 141.33 P
(if and only if both a\051 the Designated Router is multicast-capable \050i.e., running MOSPF\051 and b\051 the Designated) 72 129.33 T
-0.25 (Router) 72 117.33 P
-0.25 (\325) 99.59 117.33 P
-0.25 (s interface\325) 102.37 117.33 P
-0.25 (s) 146.27 117.33 P
1 F
-0.25 ( IPMulticastForwarding) 150.16 117.33 P
0 F
-0.25 (parameter has been set to a value other than disabled) 256.33 117.33 P
-0.25 (\050see Section B.2\051.) 467.14 117.33 P
FMENDPAGE
%%EndPage: "55" 55
%%Page: "56" 56
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 56]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
-0.06 (When the network-LSA has the MC-bit set, the network can be included in datagram shortest-path trees \050see Section) 72 677.33 P
(12.2.6\051.) 72 665.33 T
-0.34 (It is intended that all routers attached to a common network agree on the network\325) 72 641.33 P
-0.34 (s IPMulticastForwarding capability) 395 641.33 P
-0.34 (.) 535.34 641.33 P
-0.25 (However) 72 629.33 P
-0.25 (, this agreement is not enforced. When there are disagreements, incorrect routing of multicast datagrams can) 108.25 629.33 P
(result.) 72 617.33 T
1 12 Q
(14.8  Originating Summary-link-LSAs) 72 586 T
0 10 Q
(This functionality is described in Section 12.4.3 of [OSPF]. Inter) 72 561.33 T
(-area multicast forwarders always set the MC-bit in) 331.23 561.33 T
-0.07 (the Options \336eld of their summary-link-LSAs, regardless of whether the path described by the summary-link-LSA is) 72 549.33 P
(actually multicast-capable. Indeed, it is possible that there is no multicast-capable path to the described destination.) 72 537.33 T
(All other area border routers \050ones that are not inter) 72 525.33 T
(-area multicast forwarders\051 clear the MC-bit in the Options \336eld) 278.13 525.33 T
(of their summary-link-LSAs.) 72 513.33 T
(If its MC-bit is clear) 72 489.33 T
(, the summary-link-LSA will not be used when initializing the candidate list in Sections 12.2.2,) 153.26 489.33 T
(12.2.3 and 12.2.5.) 72 477.33 T
1 12 Q
(14.9  Originating AS external-link-LSAs) 72 446 T
0 10 Q
(This functionality is described in Section 12.4.4 of [OSPF]. Unlike in summary-link-LSAs, an inter) 72 421.33 T
(-AS multicast) 469.84 421.33 T
-0.06 (forwarder should clear the MC-bit in the Options \336eld of one of its AS external-link-LSAs if it is known that there is) 72 409.33 P
(no multicast-capable path from the described destination to the router itself. This knowledge may possibly be) 72 397.33 T
(obtained, for example, from an inter) 72 385.33 T
(-AS multicast routing algorithm \050see Section 4\051. If the inter) 216.49 385.33 T
(-AS multicast) 453.49 385.33 T
-0.21 (forwarder is unsure of whether a multicast-capable path exists between the described destination and the router itself,) 72 373.33 P
(the MC-bit should be set in the AS external-link-LSA. All other AS boundary routers \050ones that are not inter) 72 361.33 T
(-AS) 505.92 361.33 T
(multicast forwarders\051 clear the MC-bit in the Options \336eld of their AS external-link-LSAs.) 72 349.33 T
-0.04 (If its MC-bit is clear) 72 325.33 P
-0.04 (, the AS external-link-LSA will not be used when initializing the candidate list in Section 12.2.4.) 153.1 325.33 P
(When multicast connectivity to an external destination exists, but no unicast connectivity) 72 301.33 T
(, an AS external-link-LSA) 427.99 301.33 T
-0.33 (can be originated having its MC-bit set and specifying a cost of LSIn\336nity) 72 289.33 P
-0.33 (. Such an AS external-link-LSA will still be) 364.59 289.33 P
(used by the multicast routing calculation \050see Section 12.2.4\051. As a result, when a MOSPF router wishes to stop) 72 277.33 T
(advertising an AS external destination, it must use the premature aging procedure speci\336ed in Section 14.1 of) 72 265.33 T
([OSPF], rather than simply setting the AS external-link-LSA) 72 253.33 T
(\325) 314.21 253.33 T
(s cost to LSIn\336nity) 316.99 253.33 T
(.) 392.74 253.33 T
1 12 Q
(14.10  Next step in the \337ooding pr) 72 222 T
(ocedur) 243.79 222 T
(e) 278.9 222 T
0 10 Q
(This functionality is described in Section 13.3 of [OSPF]. Group-membership-LSAs are speci\336c to a OSPF single) 72 197.33 T
-0.25 (area, and are \337ooded to multicast-capable routers only) 72 185.33 P
-0.25 (. When \337ooding a group-membership-LSA, Section 13.3 of the) 286.75 185.33 P
(OSPF speci\336cation is modi\336ed as follows: 1\051 The list of interfaces examined during \337ooding \050called the) 72 173.33 T
1 F
(eligible) 490.86 173.33 T
(interfaces) 72 161.33 T
0 F
( in Section 13.3 of [OSPF]\051 is the set of all interfaces attaching to Area A \050the area that the group-) 113.65 161.33 T
(membership-LSA is received from\051, just as for router) 72 149.33 T
(-LSAs, network-LSAs and summary-link-LSAs. 2\051 When) 285.09 149.33 T
(examining each interface, a group-membership-LSA is added to a neighbor) 72 137.33 T
(\325) 373.97 137.33 T
(s) 376.75 137.33 T
1 F
(link state r) 383.14 137.33 T
(etransmission list) 429.07 137.33 T
0 F
( if and) 503.24 137.33 T
-0.11 (only if both a\051 Step 1d of [OSPF]\325) 72 125.33 P
-0.11 (s Section 13.3 is reached for the neighbor and b\051 the neighbor is multicast-capable.) 207.65 125.33 P
(The neighbor) 72 113.33 T
(\325) 125.97 113.33 T
(s multicast capability is discovered during the Database Exchange process \050see Section 14.4\051.) 128.75 113.33 T
FMENDPAGE
%%EndPage: "56" 56
%%Page: "57" 57
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 57]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(Note that, since on broadcast networks Link State Update packets are sent initially as multicasts, non-multicast) 72 677.33 T
(routers may receive group-membership-LSAs. However) 72 665.33 T
(, non-multicast routers will simply drop the group-) 296.82 665.33 T
(membership-LSAs, for reasons of unrecognized LS type \050see Step 2 of [OSPF]\325) 72 653.33 T
(s Section 13\051. Link State) 390.84 653.33 T
-0.22 (acknowledgments for group-membership-LSAs are not expected from non-multicast routers, and group-membership-) 72 641.33 P
(LSAs will never be retransmitted to non-multicast routers, since the LSAs are not added to these routers\325 link state) 72 629.33 T
(retransmission lists \050see above paragraph\051.) 72 617.33 T
(For more information on \337ooding group-membership-LSAs, see Section 10.2.) 72 593.33 T
1 12 Q
(14.1) 72 562 T
(1  V) 92.34 562 T
(irtual links) 112.56 562 T
0 10 Q
-0.29 (This functionality is described in Section 15 of [OSPF]. When a MOSPF router \050i.e., multicast-capable router\051 is both) 72 537.33 P
-0.14 (an area border router and an endpoint of a virtual link whose other endpoint is also multicast capable, the router must) 72 525.33 P
(then also be an) 72 513.33 T
1 F
(inter) 134.21 513.33 T
(-ar) 154.39 513.33 T
(ea multicast forwarder) 166.98 513.33 T
0 F
(. This is necessary to ensure that multicast datagrams will \337ow) 264.18 513.33 T
(through the virtual link\325) 72 501.33 T
(s transit area, from one endpoint to the other) 167.28 501.33 T
(. When the backbone\325) 344.2 501.33 T
(s datagram shortest-path) 431.4 501.33 T
(tree is constructed in Section 12.1, it is assumed that virtual links are capable of forwarding multicast datagrams) 72 489.33 T
(whenever both endpoints are multicast-capable.) 72 477.33 T
FMENDPAGE
%%EndPage: "57" 57
%%Page: "58" 58
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 58]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 14 Q
0 X
(15  Refer) 72 674.67 T
(ences) 126.17 674.67 T
0 10 Q
([Bharath-Kumar]) 72 653.33 T
-0.26 (Bharath-Kumar) 144 653.33 P
-0.26 (, K. and J. Jaf) 206.36 653.33 P
-0.26 (fe,) 259.85 653.33 P
1 F
-0.26 (Routing to Multiple Destinations in Computer Networks,) 272.36 653.33 P
0 F
-0.26 ( IEEE) 513.86 653.33 P
(T) 144 641.33 T
(ransactions on Communications, COM-31[3], March 1983.) 149.76 641.33 T
([Deering]) 72 625.33 T
(Deering, S.,) 144 625.33 T
1 F
(Multicast Routing in Internetworks and Extended LANs) 194.27 625.33 T
0 F
(, SIGCOMM Summer) 435.39 625.33 T
(1988 Proceedings, August 1988.) 144 613.33 T
([Deering2]) 72 597.33 T
(Deering, S.,) 144 597.33 T
1 F
(Multicast Routing in a Datagram Internetwork,) 194.27 597.33 T
0 F
( Stanford T) 398.14 597.33 T
(echnical Report, ST) 442.99 597.33 T
(AN-) 521.9 597.33 T
(CS-92-1415, Department of Computer Science, Stanford University) 144 585.33 T
(, December 1991.) 415.54 585.33 T
([OSPF]) 72 569.33 T
(Moy) 144 569.33 T
(, J.,) 162.24 569.33 T
1 F
(OSPF V) 178.63 569.33 T
(ersion 2,) 212.99 569.33 T
0 F
( RFC 1583, Proteon, Inc., March 1994.) 249.1 569.33 T
([RFC 1075]) 72 553.33 T
(W) 144 553.33 T
(aitzman, D., Partridge, C., and S. Deering,) 152.64 553.33 T
1 F
(Distance V) 324.56 553.33 T
(ector Multicast Routing Pr) 370.02 553.33 T
(otocol,) 484.54 553.33 T
0 F
( RFC) 512.59 553.33 T
(1075, BBN STC, Stanford University) 144 541.33 T
(, November 1988.) 293.91 541.33 T
([RFC 1) 72 525.33 T
(1) 101.36 525.33 T
(12]) 105.99 525.33 T
(Deering, S.,) 144 525.33 T
1 F
( Host Extensions for IP Multicasting,) 191.77 525.33 T
0 F
( STD 5, RFC 1) 349.55 525.33 T
(1) 409.47 525.33 T
(12, Stanford University) 414.1 525.33 T
(, May) 507.61 525.33 T
(1988.) 144 513.33 T
([RFC 1209]) 72 497.33 T
(Piscitello, D., and J. Lawrence,) 144 497.33 T
1 F
(T) 271.2 497.33 T
(ransmission of IP Datagrams over the SMDS Service,) 277.13 497.33 T
0 F
( RFC) 504.88 497.33 T
(1209, Bell Communications Research, March 1991.) 144 485.33 T
([RFC 1340]) 72 469.33 T
(Reynolds, J. and J. Postel,) 144 469.33 T
1 F
( Assigned Numbers,) 248.45 469.33 T
0 F
( STD 2, RFC 1340, USC/Information Sciences) 333.73 469.33 T
(Institute, July 1992.) 144 457.33 T
([RFC 1390]) 72 441.33 T
-0.36 (Katz, D.,) 144 441.33 P
1 F
-0.36 (T) 181.88 441.33 P
-0.36 (ransmission of IP and ARP over FDDI Networks,) 187.81 441.33 P
0 F
-0.36 ( STD 36, RFC 1390, cisco Systems,) 395.83 441.33 P
(Inc., January 1993.) 144 429.33 T
FMENDPAGE
%%EndPage: "58" 58
%%Page: "59" 59
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 59]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 16 Q
0 X
(A  Data Formats) 72 673.33 T
0 10 Q
(This section documents the format of MOSPF protocol packets and link state advertisements \050LSAs\051. All changes) 72 647.33 T
(and additions made to the OSPF V) 72 635.33 T
(ersion 2 data formats have been made in a backward-compatible manner) 209.78 635.33 T
(. In other) 499.15 635.33 T
(words, multicast routers running MOSPF can interoperate with \050non-multicast\051 OSPF V) 72 623.33 T
(ersion 2 routers when) 423.37 623.33 T
(forwarding regular \050unicast\051 IP data traf) 72 611.33 T
(\336c.) 231.49 611.33 T
(The MOSPF packet formats are the same as for OSPF V) 72 587.33 T
(ersion 2 \050described in Appendix A of [OSPF]\051. One) 296.97 587.33 T
(additional option has been added to the) 72 575.33 T
1 F
(Options) 231.15 575.33 T
0 F
( \336eld that appears in OSPF Hello packets, Database Description) 265.05 575.33 T
(packets and all link state advertisements. This new option indicates a router) 72 563.33 T
(\325) 374.55 563.33 T
(s/network\325) 377.33 563.33 T
(s multicast capability) 419.55 563.33 T
(, and is) 503.9 563.33 T
(documented in Section A.1. The presence of this new option is ignored by all non-multicast routers.) 72 551.33 T
(T) 72 527.33 T
(o support MOSPF) 77.41 527.33 T
(, one of OSPF\325) 149.4 527.33 T
(s link state advertisements has been modi\336ed, and a new link state advertisement) 208.85 527.33 T
(has been added. The format of the router) 72 515.33 T
(-LSA has been modi\336ed \050see Section A.2\051 to include a new \337ag indicating) 234.53 515.33 T
(whether the router is a wild-card multicast receiver) 72 503.33 T
(. A new link state advertisement, called the group-membership-) 275.56 503.33 T
(LSA, has been added to pinpoint multicast group members in the link state database. This new advertisement is) 72 491.33 T
(neither \337ooded nor processed by non-multicast routers. The group-membership-LSA is documented in Section A.3.) 72 479.33 T
FMENDPAGE
%%EndPage: "59" 59
%%Page: "60" 60
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 60]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 14 Q
0 X
(A.1  The Options \336eld) 72 674.67 T
0 10 Q
(The OSPF Options \336eld is present in OSPF Hello packets, Database Description packets and all link state) 72 649.33 T
(advertisements. The Options \336eld enables OSPF routers to support \050or not support\051 optional capabilities, and to) 72 637.33 T
(communicate their capability level to other OSPF routers. Through this mechanism routers of dif) 72 625.33 T
(fering capabilities) 459.56 625.33 T
(can be mixed within an OSPF routing domain.) 72 613.33 T
(When used in Hello packets, the Options \336eld allows a router to reject a neighbor because of a capability mismatch.) 72 589.33 T
(Alternatively) 72 577.33 T
(, when capabilities are exchanged in Database Description packets a router can choose not to forward) 124.12 577.33 T
(certain LSA types to a neighbor because of its reduced functionality) 72 565.33 T
(. Lastly) 343.52 565.33 T
(, listing capabilities in LSAs allows) 372.87 565.33 T
(routers to route traf) 72 553.33 T
(\336c around reduced functionality routers, by excluding them from parts of the routing table) 149.3 553.33 T
(calculation.) 72 541.33 T
(Three capabilities are currently de\336ned. For each capability) 72 517.33 T
(, the ef) 309.62 517.33 T
(fect of the capability\325) 336.93 517.33 T
(s appearance \050or lack of) 422.19 517.33 T
(appearance\051 in Hello packets, Database Description packets and link state advertisements is speci\336ed below) 72 505.33 T
(. For) 502.92 505.33 T
(example, the ExternalRoutingCapability \050below called the E-bit\051 has meaning only in OSPF Hello packets.) 72 493.33 T
(\245) 72 384.33 T
1 F
(T) 85.54 384.33 T
(-bit) 91.29 384.33 T
0 F
(. This describes the router) 106.29 384.33 T
(\325) 210.25 384.33 T
(s T) 213.03 384.33 T
(OS capability) 225.35 384.33 T
(. If the T) 279.42 384.33 T
(-bit is reset, then the router supports only a single T) 313.49 384.33 T
(OS) 519.68 384.33 T
(\050T) 85.54 372.33 T
(OS 0\051. Such a router is also said to be incapable of T) 94.8 372.33 T
(OS-routing. The absence of the T) 305.42 372.33 T
(-bit in a router links) 438.36 372.33 T
(advertisement causes the router to be skipped when building a non-zero T) 85.54 360.33 T
(OS shortest-path tree. In other words,) 380.58 360.33 T
(routers incapable of T) 85.54 348.33 T
(OS routing will be avoided as much as possible when forwarding data traf) 173.39 348.33 T
(\336c requesting a) 469.83 348.33 T
(non-zero T) 85.54 336.33 T
(OS. The absence of the T) 129.51 336.33 T
(-bit in a summary link advertisement or an AS external link advertisement) 230.23 336.33 T
(indicates that the advertisement is describing a T) 85.54 324.33 T
(OS 0 route only \050and not routes for non-zero T) 280.61 324.33 T
(OS\051.) 467.34 324.33 T
(\245) 72 306.33 T
1 F
(E-bit) 85.54 306.33 T
0 F
(. AS external link advertisements are not \337ooded into/through OSPF stub areas. The E-bit ensures that all) 107.21 306.33 T
(members of a stub area agree on that area\325) 85.54 294.33 T
(s con\336guration. The E-bit is meaningful only in OSPF Hello packets.) 254.37 294.33 T
-0.16 (When the E-bit is reset in the Hello packet sent out a particular interface, it means that the router will neither send) 85.54 282.33 P
-0.2 (nor receive AS external link state advertisements on that interface \050in other words, the interface connects to a stub) 85.54 270.33 P
(area\051. T) 85.54 258.33 T
(wo routers will not become neighbors unless they agree on the state of the E-bit.) 115.93 258.33 T
(\245) 72 240.33 T
1 F
(MC-bit.) 88.04 240.33 T
0 F
( The MC-bit describes the multicast capability of the various pieces of the OSPF routing domain. When) 122.2 240.33 T
-0.11 (calculating the path of multicast datagrams, only those link state advertisements having their MC-bit set are used.) 85.54 228.33 P
(In addition, a router uses the MC-bit in its Database Description packets to tell adjacent neighbors whether the) 85.54 216.33 T
(router will participate in the \337ooding of the new group-membership-LSAs.) 85.54 204.33 T
72 108 540 684 C
72 399 540 490 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
70.88 399 541.12 490 R
7 X
0 0 0 1 0 0 0 K
V
161.88 440 449.88 467 R
0.5 H
2 Z
0 X
N
413.88 467 413.88 440 2 L
N
377.88 467 377.88 440 2 L
N
341.88 467 341.88 440 2 L
N
305.88 467 305.88 440 2 L
N
269.88 467 269.88 440 2 L
N
233.88 467 233.88 440 2 L
N
197.88 467 197.88 440 2 L
N
1 12 Q
(T) 426.88 450 T
(E) 391 451 T
(MC) 350 450 T
(The OSPF Options \336eld) 249 417 T
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "60" 60
%%Page: "61" 61
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 61]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 14 Q
0 X
(A.2  Router) 72 674.67 T
(-LSA) 141.08 674.67 T
0 10 Q
(An OSPF router originates a router) 72 649.33 T
(-LSA into each of its attached areas. The router) 212.06 649.33 T
(-LSA describes the state and cost) 401.53 649.33 T
(of the router) 72 637.33 T
(\325) 121.8 637.33 T
(s interfaces to the area. The contents of the router) 124.58 637.33 T
(-LSA are described in detail in Section A.4.2 of) 322.1 637.33 T
([OSPF]. There are \337ags in the router) 72 625.33 T
(-LSA that indicate whether the router is either a\051 an area border router or b\051 an) 218.16 625.33 T
-0.14 (AS boundary router or c\051 the endpoint of a virtual link. One more \337ag has been added to the router) 72 613.33 P
-0.14 (-LSA for MOSPF;) 463.48 613.33 P
-0.08 (it is called bit W below) 72 601.33 P
-0.08 (. This \337ag indicates whether the router wishes to receive all multicast datagrams regardless of) 164.01 601.33 P
(destination \050i.e., is a wild-card multicast receiver\051.) 72 589.33 T
(The following de\336nes the \337ags found in the) 72 206.67 T
1 F
(rtype) 249.21 206.67 T
0 F
( \336eld. Each \337ag classi\336es the router by function:) 271.98 206.67 T
(\245) 72 188.67 T
1 F
(bit B) 85.54 188.67 T
0 F
(. When set, the router is an area border router \050B is for border\051. These routers forward unicast data traf) 106.38 188.67 T
(\336c) 514.96 188.67 T
(between OSPF areas.) 85.54 176.67 T
(\245) 72 158.67 T
1 F
-0.04 (bit E.) 85.54 158.67 P
0 F
-0.04 ( When set, the router is an AS boundary router \050E is for external\051. These routers forward unicast data traf) 108.84 158.67 P
-0.04 (\336c) 527.54 158.67 P
(between Autonomous Systems.) 85.54 146.67 T
(\245) 72 128.67 T
1 F
(bit V) 85.54 128.67 T
0 F
(. When set, the router is an endpoint of an active virtual link \050V is for virtual\051 which uses the described area) 105.64 128.67 T
(as its T) 85.54 116.67 T
(ransit area.) 114.08 116.67 T
72 108 540 684 C
72 227.33 540 586 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
69.17 227.33 542.83 586 R
7 X
0 0 0 1 0 0 0 K
V
160.17 532 448.17 532 2 L
0.5 H
2 Z
0 X
N
159.17 495 447.17 495 2 L
N
160.05 478 448.05 478 2 L
N
158.33 441.88 446.33 441.88 2 L
N
3 12 Q
(Link State ID = OSPF Router ID) 192.17 538 T
(Advertising Router) 254.05 519.96 T
(LS sequence number) 250.17 501 T
(LS checksum) 195.17 483 T
(length) 360.17 484 T
(1) 409.05 557 T
(Options) 323.05 555.96 T
(LS age) 216.05 556 T
160.05 550 448.05 550 2 L
N
304.05 568 304.05 550 2 L
N
376.05 568 376.05 550 2 L
N
160.05 514 448.05 514 2 L
N
304.05 496 304.05 478 2 L
N
158.33 423.88 446.33 423.88 2 L
N
( Link ID) 270.33 447.52 T
(Link Data) 273.45 429.88 T
159.17 568 447.17 568 2 L
N
159.17 460 447.17 460 2 L
N
231.17 478 231.17 460 2 L
N
303.17 478 303.17 460 2 L
N
(# links) 356.83 466 T
(rtype) 173.5 466 T
(0) 262.67 466.83 T
159.17 406 447.17 406 2 L
N
159.17 388 447.17 388 2 L
N
231.17 424 231.17 388 2 L
N
303.17 424 303.17 388 2 L
N
159.17 370 447.17 370 2 L
N
159.17 352 447.17 352 2 L
N
159.17 568 159.17 388 2 L
N
447.17 568 447.17 388 2 L
N
231.17 370 231.17 352 2 L
N
303.17 370 303.17 352 2 L
N
447.17 370 447.17 334 2 L
N
159.17 370 159.17 334 2 L
N
456.17 460 465.17 460 465.17 352 456.17 352 4 L
2 X
N
150.17 406 141.17 406 141.17 352 150.17 352 4 L
3 X
N
0 X
(Type) 177.5 411 T
(# TOS) 253.33 411.83 T
(TOS 0 metric) 330.83 411.83 T
(TOS) 184.17 394.33 T
(0) 265 394.33 T
(metric) 354.17 393.5 T
(TOS) 185.83 358.5 T
(0) 264.17 358.5 T
(metric) 355 358.5 T
0 11 Q
(# links) 474.17 420.17 T
( times) 474.17 409.17 T
(# T) 109.17 386.83 T
(OS) 123.94 386.83 T
( times) 109.17 375.83 T
1 12 Q
( The r) 261.67 320.33 T
(outer LSA) 292.78 320.33 T
157.83 263.91 445.83 290.91 R
N
409.83 290.91 409.83 263.91 2 L
N
373.83 290.91 373.83 263.91 2 L
N
337.83 290.91 337.83 263.91 2 L
N
301.83 290.91 301.83 263.91 2 L
N
265.83 290.91 265.83 263.91 2 L
N
229.83 290.91 229.83 263.91 2 L
N
193.83 290.91 193.83 263.91 2 L
N
(B) 422.83 273.91 T
(E) 386.95 274.91 T
(V) 352.95 273.91 T
(The rtype \336eld) 268.28 239.24 T
(W) 317.17 272.97 T
3 F
(...) 295 375 T
(...) 295 339 T
159.17 388 159.17 370 2 L
11 X
N
447.17 388 447.17 370 2 L
N
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "61" 61
%%Page: "62" 62
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 62]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(\245) 72 677.33 T
1 F
(bit W) 85.54 677.33 T
0 F
(. When set, the router is a wild-card multicast receiver) 108.79 677.33 T
(. These routers receive all multicast datagrams,) 325.13 677.33 T
(regardless of destination. Inter) 85.54 665.33 T
(-area multicast forwarders and inter) 206.98 665.33 T
(-AS multicast forwarders are sometimes wild-) 349.51 665.33 T
(card multicast receivers \050see Sections 3 and 4\051.) 85.54 653.33 T
FMENDPAGE
%%EndPage: "62" 62
%%Page: "63" 63
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 63]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 14 Q
0 X
(A.3  Gr) 72 674.67 T
(oup-membership-LSA) 116.46 674.67 T
0 10 Q
(Group-membership-LSAs are the T) 72 649.33 T
(ype 6 link state advertisements. Group-membership-LSAs are speci\336c to a) 213.77 649.33 T
-0.35 (particular OSPF area. They are never \337ooded beyond their area of origination. A router) 72 637.33 P
-0.35 (\325) 416.9 637.33 P
-0.35 (s group-membership-LSA for) 419.68 637.33 P
-0.32 (Area A indicates its directly attached networks which belong to Area A and contain members of a particular multicast) 72 625.33 P
-0.34 (group. A router originates a group-membership-LSA for multicast group D when the following conditions are met for) 72 613.33 P
-0.29 (at least one directly attached network: 1\051 the router has been elected Designated Router for the network and 2\051 at least) 72 601.33 P
(one host on the network has joined Group D via the IGMP protocol.) 72 589.33 T
(A router may also originate a group-membership-LSA for Group D if the router itself has internal applications) 72 565.33 T
(belonging to Group D. In addition, area border routers originate group-membership-LSAs into the backbone area) 72 553.33 T
(when there are group members in the router) 72 541.33 T
(\325) 247.6 541.33 T
(s attached non-backbone areas. See Section 10 for more information) 250.38 541.33 T
(concerning the origination of group-membership-LSAs.) 72 529.33 T
(The group-membership-LSA consists of the standard 20-byte link state header \050see Section A.4.1 of [OSPF]\051) 72 319.33 T
(followed by a list of transit vertices to label with the multicast destination. The advertisement\325) 72 307.33 T
(s) 448.36 307.33 T
1 F
( Link State ID) 452.25 307.33 T
0 F
( is set) 513.09 307.33 T
-0.29 (to the destination multicast group address. There is no metric associated with the advertisement. Each transit vertex is) 72 295.33 P
(speci\336ed by its V) 72 283.33 T
(ertex type and V) 140.61 283.33 T
(ertex ID \050see Section 12.1 for an explanation of this terminology\051:) 205.87 283.33 T
(\245) 72 265.33 T
1 F
-0.16 (V) 85.54 265.33 P
-0.16 (ertex type.) 91.84 265.33 P
0 F
-0.16 ( Set equal to 1 for a router) 136.66 265.33 P
-0.16 (, and 2 for a transit network. Note that the only router that may be included) 239.83 265.33 P
(in the list is the Advertising Router itself.) 85.54 253.33 T
(\245) 72 235.33 T
1 F
(V) 85.54 235.33 T
(ertex ID.) 91.84 235.33 T
0 F
( For router vertices, this \336eld indicates the router) 129.6 235.33 T
(\325) 325.22 235.33 T
(s OSPF Router ID. For transit network vertices, this) 328 235.33 T
-0.26 (\336eld indicates the IP address of the network\325) 85.54 223.33 P
-0.26 (s Designated Router) 261.77 223.33 P
-0.26 (. Note that the link state advertisement associated) 341.8 223.33 P
(with the transit vertex is the LSA whose LS type =) 85.54 211.33 T
1 F
(V) 290.89 211.33 T
(ertex type) 297.19 211.33 T
0 F
(, Link State ID =) 339.67 211.33 T
1 F
(V) 409.75 211.33 T
(ertex ID) 416.05 211.33 T
0 F
( and Advertising) 451.31 211.33 T
(Router = the group-membership-LSA) 85.54 199.33 T
(\325) 235.33 199.33 T
(s Advertising Router) 238.11 199.33 T
(.) 320.89 199.33 T
72 108 540 684 C
72 340 540 526 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
70.88 340 541.12 526 R
7 X
0 0 0 1 0 0 0 K
V
161 478 449 478 2 L
0.5 H
2 Z
0 X
N
160 441 448 441 2 L
N
160.88 424 448.88 424 2 L
N
160.88 406 448.88 406 2 L
N
3 12 Q
(Link State ID = Destination Group) 193 484 T
(Advertising Router) 254.88 465.96 T
(LS sequence number) 251 447 T
(LS checksum) 196 429 T
(length) 361 430 T
1 F
(The gr) 228.18 352.96 T
(oup-membership-LSA) 262.29 352.96 T
3 F
(6) 409.88 503 T
(Options) 323.88 501.96 T
(LS age) 216.88 502 T
160.88 496 448.88 496 2 L
N
304.88 514 304.88 496 2 L
N
376.88 514 376.88 496 2 L
N
160.88 460 448.88 460 2 L
N
304.88 442 304.88 424 2 L
N
160.88 388 448.88 388 2 L
N
(Vertex type) 272.88 411.64 T
(Vertex ID) 276 394 T
161 371 161 515 449 513 449 370 4 L
N
1 F
(...) 295 375 T
0 F
(For each) 473 412 T
(labelled) 473 400 T
(vertex) 473 388 T
457.88 424 466.88 424 466.88 388 457.88 388 4 L
N
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "63" 63
%%Page: "64" 64
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 64]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 16 Q
0 X
(B  Con\336gurable Constants) 72 673.33 T
0 10 Q
(This section documents the con\336gurable parameters used by OSPF\325) 72 647.33 T
(s multicast routing extensions. These parameters) 342.53 647.33 T
-0.31 (are in addition to the con\336gurable constants used by the base OSPF protocol \050documented in Appendix C of [OSPF]\051.) 72 635.33 P
(An implementation of MOSPF must provide the ability to set these parameters, either through network management) 72 623.33 T
(or some other means.) 72 611.33 T
1 14 Q
(B.1  Global parameters) 72 578.67 T
0 10 Q
(The following parameters apply to the router as a whole.) 72 553.33 T
(\245) 72 535.33 T
1 F
(Multicast capability) 85.54 535.33 T
0 F
(. An indication of whether the router is running MOSPF) 170.17 535.33 T
(. If the router is running MOSPF) 393.8 535.33 T
(, it) 523.83 535.33 T
(will perform the algorithms as set forth in this speci\336cation. Otherwise, the router is still able to run the basic) 85.54 523.33 T
(OSPF algorithm \050as set forth in [OSPF]\051, and will be able to interoperate with multicast capable routers \050see) 85.54 511.33 T
(Section 6.1\051 when forwarding regular \050unicast\051 IP data traf) 85.54 499.33 T
(\336c.) 320.02 499.33 T
(\245) 72 481.33 T
1 F
(Inter) 85.54 481.33 T
(-ar) 106.83 481.33 T
(ea multicast forwarder) 119.42 481.33 T
0 F
(. This parameter indicates whether the router will forward multicast datagrams) 216.62 481.33 T
(between OSPF areas. Such a router summarizes group membership information to the backbone, and acts as a) 85.54 469.33 T
(wild-card multicast receiver in all its attached non-backbone areas \050see Section 3.1\051. Not all multicast-capable) 85.54 457.33 T
(area border routers need be con\336gured as inter) 85.54 445.33 T
(-area multicast forwarders. However) 271.11 445.33 T
(, whenever both ends of a) 417.32 445.33 T
(virtual link are multicast-capable, they must both be con\336gured as inter) 85.54 433.33 T
(-area multicast forwarders \050see Section) 370.58 433.33 T
(14.1) 85.54 421.33 T
(1\051. By default, all multicast-capable area border routers are con\336gured as inter) 102.67 421.33 T
(-area multicast forwarders.) 415.44 421.33 T
(\245) 72 403.33 T
1 F
(Inter) 85.54 403.33 T
(-AS multicast forwarder) 106.83 403.33 T
0 F
(. This parameter indicates whether the router forwards multicast datagrams) 210.7 403.33 T
(between Autonomous Systems. Such a router acts as a wild-card multicast receiver in all attached areas \050see) 85.54 391.33 T
(Section 4\051. It is also assumed that an inter) 85.54 379.33 T
(-AS multicast forwarder runs some kind of inter) 252.27 379.33 T
(-AS multicast routing) 444.54 379.33 T
(algorithm.) 85.54 367.33 T
1 14 Q
(B.2  Router interface parameters) 72 334.67 T
0 10 Q
(The following parameters can be con\336gured separately for each of the router) 72 309.33 T
(\325) 379.22 309.33 T
(s OSPF interfaces. Remember that an) 382 309.33 T
(OSPF interface is the connection between the router and one of its attached IP networks. Note that the) 72 297.33 T
(IPMulticastForwarding parameter is really a description of the attached network. As such, it should be con\336gured) 72 285.33 T
(identically on all routers attached to a common network; otherwise incorrect routing of multicast datagrams may) 72 273.33 T
(result.) 72 261.33 T
(\245) 72 243.33 T
1 F
(IPMulticastForwarding.) 85.54 243.33 T
0 F
( This con\336gurable parameter indicates whether IP multicasts should be forwarded over) 189.7 243.33 T
(the attached network, and if so, how the forwarding should be done. The parameter can assume one of three) 85.54 231.33 T
(possible values:) 85.54 219.33 T
1 F
(disabled) 151.65 219.33 T
0 F
(,) 187.22 219.33 T
1 F
(data-link multicast) 192.22 219.33 T
0 F
( and) 273.06 219.33 T
1 F
(data-link unicast) 292.5 219.33 T
0 F
(. When set to disabled, IP multicast) 364.46 219.33 T
-0.12 (datagrams will not be forwarded out the interface. When set to data-link multicast, IP multicast datagrams will be) 85.54 207.33 P
-0.24 (forwarded as data-link multicasts. When set to data-link unicast, IP multicast datagrams will be forwarded as data-) 85.54 195.33 P
(link unicasts. The default value for this parameter is data-link multicast. The other two settings are for use in the) 85.54 183.33 T
-0.21 (special circumstances described in Sections 6.3 and 6.4. When set to disabled or to data-link unicast, IGMP group) 85.54 171.33 P
(membership is not monitored on the attached network.) 85.54 159.33 T
(\245) 72 141.33 T
1 F
-0.03 (IGMPPollingInterval) 85.54 141.33 P
0 F
-0.03 (. The number of seconds between IGMP Host Membership Queries sent out this interface.) 177.21 141.33 P
(A multicast-capable router sends IGMP Host Membership Queries only when it has been elected Designated) 85.54 129.33 T
(Router for the attached network. See [RFC 1) 85.54 117.33 T
(1) 264.03 117.33 T
(12] for a discussion of this parameter) 268.66 117.33 T
(\325) 417.89 117.33 T
(s value.) 420.67 117.33 T
FMENDPAGE
%%EndPage: "64" 64
%%Page: "65" 65
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 65]) 501.4 74.33 T
72 108 540 684 R
7 X
V
0 X
(\245) 72 677.33 T
1 F
(IGMP timeout) 85.54 677.33 T
0 F
(. If no IGMP Host Membership Reports have been heard on an attached network for a particular) 148.03 677.33 T
(multicast group A after this period of time, the entry) 85.54 665.33 T
2 F
([Gr) 297.46 665.33 T
(oup A, attached network]) 312.09 665.33 T
0 F
( is deleted from) 413.75 665.33 T
(the router) 478.74 665.33 T
(\325) 517.71 665.33 T
(s) 520.49 665.33 T
1 F
(local gr) 85.54 653.33 T
(oup database) 117.3 653.33 T
0 F
(. See Section 9 for more information.) 173.7 653.33 T
FMENDPAGE
%%EndPage: "65" 65
%%Page: "66" 66
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 66]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 16 Q
0 X
(C  Sample datagram shortest-path tr) 72 673.33 T
(ees) 323.68 673.33 T
0 10 Q
(In MOSPF) 72 647.33 T
(, all routers must calculate exactly the same datagram shortest-path trees. In order to ensure this in) 114.82 647.33 T
-0.03 (internetworks having redundant links, a number of tie-breakers were de\336ned in the MOSPF routing table calculation) 72 635.33 P
(\050see Steps 4 and 5c of Section 12.2, and Sections 12.2.4 and 12.2.7\051. This section illustrates the use of these tie-) 72 623.33 T
(breakers on a sample topology) 72 611.33 T
(.) 193.55 611.33 T
-0.15 (Three dif) 72 587.33 P
-0.15 (ferent examples are given. All examples use the same physical topology and the same set of OSPF interface) 108.6 587.33 P
(costs \050see the left side of Figure 14\051. The source of the datagram is always Host H1 on the network at the top of the) 72 575.33 T
(\336gure \050192.9.1.0\051, and the destination group members are the two hosts labelled with Group Ma at the bottom of the) 72 563.33 T
(\336gure. The \336rst case shows an example of intra-area multicast, while the remaining two cases show the in\337uence of) 72 551.33 T
(OSPF areas on the path of a multicast datagram.) 72 539.33 T
FMENDPAGE
%%EndPage: "66" 66
%%Page: "67" 67
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 67]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 14 Q
0 X
(C.1  An intra-ar) 72 674.67 T
(ea tr) 168.18 674.67 T
(ee) 195.52 674.67 T
0 10 Q
(The datagram shortest-path tree resulting from the intra-area case is shown on the right of Figure 14. The root of the) 72 649.33 T
(tree is the source network \050192.9.1.0\051, and the leaves are the two routers \050R) 72 637.33 T
(T4 and R) 372.16 637.33 T
(T3\051 directly attached to the stub) 408.78 637.33 T
(networks containing Group Ma members.) 72 625.33 T
(There are equal-cost paths available to both group members. For the group member on the left, the path could go) 72 601.33 T
(either through network 10.1.0.0 or through network 10.2.0.0. By the tie-breaking rules, the path through 10.2.0.0 is) 72 589.33 T
(chosen since it has the lar) 72 577.33 T
(ger IP network number \050see Step 5c of Section 12.2\051.) 174.3 577.33 T
(For the group member on the right, the path could go either over Network 10.2.0.0 or over the serial line connecting) 72 553.33 T
(routers R) 72 541.33 T
(T2 and R) 108.34 541.33 T
(T3. The path over Network 10.2.0.0 is chosen after executing two tie-breaking rules. First,) 144.96 541.33 T
-0.37 (Network 10.2.0.0 is placed on the shortest-path tree before Router R) 72 529.33 P
-0.37 (T3 since networks are always chosen over routers) 341.31 529.33 P
(\050see Step 4 of Section 12.2\051. Then, given a choice of either Network 10.2.0.0 or Router R) 72 517.33 T
(T2 for R) 428.56 517.33 T
(T3\325) 462.4 517.33 T
(s parent on the) 476.29 517.33 T
(tree, Net 10.2.0.0 is again preferred since it is a network \050see Step 5c of Section 12.2\051) 72 505.33 T
72 108 540 684 C
72 277.86 540 502 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
69.77 277.86 542.23 502 R
7 X
0 0 0 1 0 0 0 K
V
185.03 436.85 204.7 456.15 R
V
0.5 H
2 Z
0 X
N
253.89 436.46 273.56 455.76 R
7 X
V
0 X
N
109.34 362.21 129.01 381.51 R
7 X
V
0 X
N
7 X
90 450 34.43 33.78 197.77 381.94 G
0 X
90 450 34.43 33.78 197.77 381.94 A
0 8 Q
(R) 111.91 368.31 T
(T4) 116.77 368.31 T
(R) 189.48 444.03 T
(T1) 194.34 444.03 T
(R) 257.63 443.03 T
(T2) 262.48 443.03 T
257.05 319.71 271.34 329.71 R
7 X
V
0 X
N
(Ma) 259.01 322 T
1 10 Q
(Figur) 230.62 293.16 T
(e 14: An intra-ar) 254.34 293.16 T
(ea tr) 326.08 293.16 T
(ee) 345.61 293.16 T
179.57 474.71 287.57 474.71 2 L
3 H
N
7 X
90 450 34.43 33.78 119.91 440.49 G
0.5 H
0 X
90 450 34.43 33.78 119.91 440.49 A
155.57 442.71 184.57 442.71 2 L
N
194.57 436.71 194.57 416.71 2 L
N
120.57 406.71 120.57 382.71 2 L
N
128.57 371.71 164.57 371.71 2 L
N
113.05 320.71 127.34 330.71 R
7 X
V
0 X
N
0 8 Q
(Ma) 115.01 323 T
253.89 365.46 273.56 384.76 R
7 X
V
0 X
N
(R) 257.63 372.03 T
(T3) 262.48 372.03 T
195.57 455.71 195.57 473.71 2 L
N
263.57 455.71 263.57 474.71 2 L
N
263.57 436.71 263.57 385.71 2 L
N
253.57 374.71 232.57 374.71 2 L
N
89.57 341.71 151.57 341.71 2 L
3 H
N
234.57 341.71 296.57 341.71 2 L
N
119.57 360.71 119.57 342.71 2 L
0.5 H
N
119.57 330.71 120.57 340.71 2 L
N
263.57 364.71 263.57 342.71 2 L
N
263.57 340.71 263.57 330.71 2 L
N
(Network) 104.57 445.71 T
(10.1.0.0) 106.57 434.71 T
(Network) 183.57 385.71 T
(10.2.0.0) 184.57 373.71 T
(Net 192.9.1.0) 207.57 462.71 T
223.91 484.71 238.2 494.71 R
7 X
V
0 X
N
(H1) 225.87 487 T
230.71 484.86 230.71 476.28 2 L
N
0 10 Q
(1) 190 461.28 T
(1) 265.71 459.86 T
(8) 265.71 425.57 T
(8) 197.14 426.28 T
(8) 177.86 447 T
(8) 265.71 390.57 T
(10) 242.86 377.71 T
(10) 131.43 377 T
(8) 113.57 386.28 T
(3) 266.43 356.28 T
(3) 122.86 352.71 T
3 X
90 450 3.21 2.86 429 469 G
9 X
90 450 3.21 2.86 429 469 A
3 X
90 450 3.21 2.86 430 425 G
9 X
90 450 3.21 2.86 430 425 A
3 X
90 450 3.21 2.86 460 345 G
9 X
90 450 3.21 2.86 460 345 A
3 X
90 450 3.21 2.86 429 387 G
9 X
90 450 3.21 2.86 429 387 A
3 X
90 450 3.21 2.86 411 345 G
9 X
90 450 3.21 2.86 411 345 A
0 8 Q
0 X
(192.9.1.0) 437 466 T
(R) 438 423 T
(T1) 442.86 423 T
(10.2.0.0) 436 385 T
(R) 405 327 T
(T4) 409.86 327 T
(R) 454 328 T
(T3) 458.86 328 T
432.99 440.62 430 429 426.38 440.44 429.69 440.53 4 Y
V
429 466 429.69 440.53 2 L
N
432.67 401.43 429 390 426.05 401.63 429.36 401.53 4 Y
V
430 422 429.36 401.53 2 L
N
420.61 357.28 412.99 348 414.54 359.9 417.57 358.59 4 Y
V
429 385 417.58 358.59 2 L
N
454 358.32 457.99 347.01 448.61 354.49 451.31 356.41 4 Y
V
431 385 451.32 356.4 2 L
N
(0) 423.57 459.14 T
(8) 425 412.71 T
(0) 415 372 T
(0) 441.43 373.43 T
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "67" 67
%%Page: "68" 68
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 68]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 14 Q
0 X
(C.2  The effect of ar) 72 674.67 T
(eas) 190.71 674.67 T
0 10 Q
(In Figure 15 below) 72 649.33 T
(, the previous diagram has been modi\336ed by the inclusion of OSPF areas. The datagram source is) 147.73 649.33 T
(now part of the OSPF backbone \050Area 0\051, while the rest of the topology is in Area 1. In this case, since the datagram) 72 637.33 T
-0.16 (source and the group members belong to dif) 72 625.33 P
-0.16 (ferent areas, reverse costs are used when building the tree \050see Step 5b of) 247.06 625.33 P
(Section 12.2\051. This actually eliminates the equal cost paths from the diagram, and leads to the Area 1 datagram) 72 613.33 T
(shortest-path tree on the right of Figure 15.) 72 601.33 T
72 108 540 684 C
72 313.86 540 598 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
69.77 313.86 542.23 598 R
7 X
0 0 0 1 0 0 0 K
V
82.5 365.33 315 541.17 R
5 X
V
0.5 H
2 Z
0 X
N
185.86 527.85 205.54 547.15 R
7 X
V
0 X
N
251.39 527.46 271.06 546.76 R
7 X
V
0 X
N
109.34 420.71 129.01 440.01 R
7 X
V
0 X
N
7 X
90 450 34.43 33.78 197.77 440.44 G
0 X
90 450 34.43 33.78 197.77 440.44 A
0 8 Q
(R) 111.91 426.81 T
(T4) 116.77 426.81 T
(R) 190.32 535.03 T
(T1) 195.17 535.03 T
(R) 255.13 534.03 T
(T2) 259.98 534.03 T
257.05 378.21 271.34 388.21 R
7 X
V
0 X
N
(Ma) 259.01 380.5 T
1 10 Q
(Figur) 253.12 333.33 T
(e 15: The effect of ar) 276.83 333.33 T
(eas) 364.67 333.33 T
165.4 557.38 273.4 557.38 2 L
3 H
N
7 X
90 450 34.43 33.78 119.91 498.99 G
0.5 H
0 X
90 450 34.43 33.78 119.91 498.99 A
155.57 501.21 185 533.67 2 L
N
195 527 194.57 475.21 2 L
N
120.57 465.21 120.57 441.21 2 L
N
128.57 430.21 164.57 430.21 2 L
N
113.05 379.21 127.34 389.21 R
7 X
V
0 X
N
0 8 Q
(Ma) 115.01 381.5 T
253.89 423.96 273.56 443.26 R
7 X
V
0 X
N
(R) 257.63 430.53 T
(T3) 262.48 430.53 T
195.57 548.67 195.57 557 2 L
N
262.5 547 262.5 557 2 L
N
261.67 527.83 263.57 444.21 2 L
N
253.57 433.21 232.57 433.21 2 L
N
89.57 400.21 151.57 400.21 2 L
3 H
N
234.57 400.21 296.57 400.21 2 L
N
119.57 419.21 119.57 401.21 2 L
0.5 H
N
119.57 389.21 120.57 399.21 2 L
N
263.57 423.21 263.57 401.21 2 L
N
263.57 399.21 263.57 389.21 2 L
N
(Network) 104.57 504.21 T
(10.1.0.0) 106.57 493.21 T
(Network) 183.57 444.21 T
(10.2.0.0) 184.57 432.21 T
209.74 567.38 224.03 577.38 R
7 X
V
0 X
N
(H1) 211.7 569.67 T
216.55 567.52 216.55 558.95 2 L
N
0 10 Q
(8) 265.71 449.07 T
(10) 242.86 436.21 T
(10) 131.43 435.5 T
(8) 113.57 444.78 T
(3) 266.43 414.78 T
(3) 122.86 411.21 T
3 X
90 450 3.21 2.86 428.17 535 G
9 X
90 450 3.21 2.86 428.17 535 A
3 X
90 450 3.21 2.86 459.17 490.17 G
9 X
90 450 3.21 2.86 459.17 490.17 A
3 X
90 450 3.21 2.86 459.17 411 G
9 X
90 450 3.21 2.86 459.17 411 A
3 X
90 450 3.21 2.86 406.5 488.83 G
9 X
90 450 3.21 2.86 406.5 488.83 A
3 X
90 450 3.21 2.86 410.17 411 G
9 X
90 450 3.21 2.86 410.17 411 A
0 8 Q
0 X
(192.9.1.0) 436.17 532 T
(R) 467.17 488.17 T
(T2) 472.02 488.17 T
(R) 404.17 393 T
(T4) 409.02 393 T
(R) 453.17 394 T
(T3) 458.02 394 T
453.11 504.84 457.49 493.67 447.86 500.82 450.48 502.83 4 Y
V
428.17 532 450.49 502.83 2 L
N
462.48 426.87 459.17 415.33 455.86 426.87 459.17 426.87 4 Y
V
459.17 487 459.17 426.87 2 L
N
413.58 425.95 409.99 414.5 406.97 426.11 410.28 426.03 4 Y
V
410.83 448.67 410.28 426.03 2 L
N
(192.9.1.0) 235 564.5 T
(1) 256.67 549.5 T
(1) 188.33 550.33 T
0 10 Q
(8) 264.17 520.33 T
(8) 200 518.67 T
(8) 180 519.5 T
(1) 442.5 517.83 T
(8) 463.33 473.67 T
3 X
90 450 3.21 2.86 409.5 450.83 G
9 X
90 450 3.21 2.86 409.5 450.83 A
0 8 Q
0 X
(R) 384.17 487.83 T
(T1) 389.02 487.83 T
416.07 501.17 408.33 492 410.03 503.88 413.05 502.52 4 Y
V
426.67 532.83 413.06 502.52 2 L
N
411.55 466.26 409.16 454.5 404.95 465.74 408.25 466 4 Y
V
406.67 486.17 408.26 466 2 L
N
0 10 Q
(1) 409.17 515.33 T
(0) 410.83 473.67 T
(8) 414.17 434.5 T
0 8 Q
(10.1.0.0) 376.67 449.5 T
(Area 1) 281 511 T
277 505 307 520 R
7 X
V
0 X
N
(Area 1) 282 510 T
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "68" 68
%%Page: "69" 69
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 69]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 14 Q
0 X
(C.3  The effect of virtual links) 72 674.67 T
0 10 Q
-0.01 (In Figure 16 below) 72 649.33 P
-0.01 (, Network 10.1.0.0 has been con\336gured as a separate area \050Area 1\051, while everything else belongs) 147.71 649.33 P
(to the OSPF backbone \050Area 0\051. In addition, a virtual link has been con\336gured through Area 1, enhancing the) 72 637.33 T
-0.22 (backbone connectivity) 72 625.33 P
-0.22 (. In this case, both the source and the group members belong to the same area, so forward costs) 161.39 625.33 P
(are used. However) 72 613.33 T
(, since virtual links are preferred over regular links \050see Step 5c of Section 12.2\051, the backbone) 146.29 613.33 T
-0.34 (datagram shortest-path tree uses Network 10.1.0.0 instead of 10.2.0.0 on the path to the left group member) 72 601.33 P
-0.34 (. This leads) 492.68 601.33 P
(to the tree on the right of Figure 16.) 72 589.33 T
72 108 540 684 C
72 345.86 540 586 C
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
69.77 345.86 542.23 586 R
7 X
0 0 0 1 0 0 0 K
V
112 445 211 564 R
5 X
V
0.5 H
2 Z
0 X
N
206.03 508.85 225.7 528.15 R
7 X
V
0 X
N
308.89 506.46 328.56 525.76 R
7 X
V
0 X
N
138.34 439.21 158.01 458.51 R
7 X
V
0 X
N
7 X
90 450 34.43 33.78 252.77 451.94 G
0 X
90 450 34.43 33.78 252.77 451.94 A
0 8 Q
(R) 140.91 445.31 T
(T4) 145.77 445.31 T
(R) 210.48 516.03 T
(T1) 215.34 516.03 T
(R) 312.63 513.03 T
(T2) 317.48 513.03 T
312.05 389.71 326.34 399.71 R
7 X
V
0 X
N
(Ma) 314.01 392 T
1 10 Q
(Figur) 235.62 361.16 T
(e 16: The effect of virtual links) 259.33 361.16 T
234.57 544.71 342.57 544.71 2 L
3 H
N
7 X
90 450 34.43 33.78 148.91 517.49 G
0.5 H
0 X
90 450 34.43 33.78 148.91 517.49 A
184.57 519.71 204 519 2 L
N
226 509 249.57 486.71 2 L
N
149.57 483.71 149.57 459.71 2 L
N
157 440 224 434 2 L
N
142.05 397.71 156.34 407.71 R
7 X
V
0 X
N
0 8 Q
(Ma) 144.01 400 T
308.89 435.46 328.56 454.76 R
7 X
V
0 X
N
(R) 312.63 442.03 T
(T3) 317.48 442.03 T
226 527 250.57 543.71 2 L
N
318.57 525.71 318.57 544.71 2 L
N
318.57 506.71 318.57 455.71 2 L
N
308.57 444.71 287.57 444.71 2 L
N
118.57 418.71 180.57 418.71 2 L
3 H
N
289.57 411.71 351.57 411.71 2 L
N
148.57 437.71 148.57 419.71 2 L
0.5 H
N
148.57 407.71 149.57 417.71 2 L
N
318.57 434.71 318.57 412.71 2 L
N
318.57 410.71 318.57 400.71 2 L
N
(Network) 133.57 522.71 T
(10.1.0.0) 135.57 511.71 T
(Network) 238.57 455.71 T
(10.2.0.0) 239.57 443.71 T
(Net 192.9.1.0) 262.57 532.71 T
278.91 554.71 293.2 564.71 R
7 X
V
0 X
N
(H1) 280.87 557 T
285.71 554.86 285.71 546.28 2 L
N
0 10 Q
(1) 320.71 529.86 T
(8) 320.71 495.57 T
(8) 232.14 507.28 T
(8) 320.71 460.57 T
(10) 297.86 447.71 T
(8) 142.57 463.28 T
(3) 321.43 426.28 T
(3) 151.86 429.71 T
3 X
90 450 3.21 2.86 429 553 G
9 X
90 450 3.21 2.86 429 553 A
3 X
90 450 3.21 2.86 430 509 G
9 X
90 450 3.21 2.86 430 509 A
3 X
90 450 3.21 2.86 460 429 G
9 X
90 450 3.21 2.86 460 429 A
3 X
90 450 3.21 2.86 459 469 G
9 X
90 450 3.21 2.86 459 469 A
3 X
90 450 3.21 2.86 411 429 G
9 X
90 450 3.21 2.86 411 429 A
0 8 Q
0 X
(192.9.1.0) 437 550 T
(R) 438 507 T
(T1) 442.86 507 T
(10.2.0.0) 466 467 T
(R) 405 411 T
(T4) 409.86 411 T
(R) 454 412 T
(T3) 458.86 412 T
432.99 524.62 430 513 426.38 524.44 429.69 524.53 4 Y
V
429 550 429.69 524.53 2 L
N
453.05 483.94 457.99 473 448.01 479.66 450.53 481.8 4 Y
V
430 506 450.54 481.8 2 L
N
415.97 443.63 413 432 409.36 443.44 412.67 443.53 4 Y
V
412 467 412.67 443.53 2 L
N
461.63 442.44 458 431 455.02 442.63 458.33 442.53 4 Y
V
459 466 458.33 442.53 2 L
N
0 10 Q
(0) 423.57 543.14 T
(8) 447 494.71 T
(0) 415 456 T
(0) 452.43 455.43 T
(10) 163 430 T
(1) 230 535 T
157.68 470.36 153 459 150.95 471.11 154.32 470.74 4 Y
V
193.89 514.05 206 512 194.64 507.32 194.26 510.68 4 Y
V
1 H
0 Z
102.79 167.21 53 53 206 459 A
(VL) 179 496 T
0 8 Q
(Area 1) 180 550.5 T
176 544.5 206 559.5 R
7 X
V
0.5 H
2 Z
0 X
N
(Area 1) 181 549 T
0 10 Q
(8) 197 522 T
3 X
90 450 3.21 2.86 411 470 G
9 X
90 450 3.21 2.86 411 470 A
0 8 Q
0 X
(10.1.0.0) 378 468 T
419.21 482.74 410.99 474 413.33 485.77 416.27 484.26 4 Y
V
428 507 416.28 484.25 2 L
1 H
N
0 10 Q
(8) 414 496 T
72 108 540 684 C
0 0 612 792 C
FMENDPAGE
%%EndPage: "69" 69
%%Page: "70" 70
612 792 0 FMBEGINPAGE
[0 0 0 1 0 0 0]
[ 0 1 1 0 1 0 0]
[ 1 0 1 0 0 1 0]
[ 1 1 0 0 0 0 1]
[ 1 0 0 0 0 1 1]
[ 0 1 0 0 1 0 1]
[ 0 0 1 0 1 1 0]
 7 FrameSetSepColors
FrameNoSep
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
0 0 0 1 0 0 0 K
72 702 540 720 R
7 X
0 0 0 1 0 0 0 K
V
0 10 Q
0 X
(RFC 1584) 72 713.33 T
(Multicast Extensions to OSPF) 245.57 713.33 T
(March 1994) 491.4 713.33 T
72 69.05 540 81 R
7 X
V
0 X
(Moy) 72 74.33 T
([Page 70]) 501.4 74.33 T
72 108 540 684 R
7 X
V
1 14 Q
0 X
(Security Considerations) 72 674.67 T
0 10 Q
(Security issues are not discussed in this memo.) 72 649.33 T
1 14 Q
(Author) 72 610.67 T
(\325) 115.81 610.67 T
(s Addr) 119.95 610.67 T
(ess) 160.54 610.67 T
0 10 Q
(John Moy) 72 585.33 T
(Proteon, Inc.) 72 573.33 T
(9 T) 72 561.33 T
(echnology Drive) 84.91 561.33 T
(W) 72 549.33 T
(estborough, MA 01581) 80.64 549.33 T
(Phone: \050508\051 898-2800) 72 525.33 T
(Email: jmoy@proteon.com) 72 513.33 T
FMENDPAGE
%%EndPage: "70" 70
%%Trailer
%%BoundingBox: 0 0 612 792
%%PageOrder: Ascend
%%Pages: 70
%%DocumentFonts: Times-Roman
%%+ Times-Bold
%%+ Times-Italic
%%+ Courier
%%EOF
